<html>
    <head>
        <meta content="text/html; charset=UTF-8" http-equiv="content-type" />
        <link rel="stylesheet" href="css/programming-language-concepts.css" />
        <link rel="stylesheet" href="css/page.css" />
    </head>
    <body class="c112">
        <div>
            <p class="c50">
                <span class="c31"
                    ><a class="c32" href="index.html"
                        >Computer Science / Software Engineering Notes
                        Network</a
                    ></span
                >
            </p>
        </div>
        <p class="c56 c155 title" id="h.5eg6p1mmlsso">
            <span class="c71 c58 c108 c162">Programming Language Concepts</span>
        </p>
        <p class="c56 c143 subtitle" id="h.nyp3hqfbarp9">
            <span class="c101 c9 c58 c108 c159">Matthew Barnes</span>
        </p>
        <p class="c56 c138">
            <span class="c9 c11"
                ><a class="c32" href="#h.japim9e9fxdx"
                    >Syntax to execution</a
                ></span
            ><span class="c9 c11"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c9 c11"
                ><a class="c32" href="#h.japim9e9fxdx">2</a></span
            >
        </p>
        <p class="c107 c56">
            <span class="c9"
                ><a class="c32" href="#h.rql4ry1e8tje">Introduction</a></span
            ><span class="c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c9"><a class="c32" href="#h.rql4ry1e8tje">2</a></span>
        </p>
        <p class="c107 c56">
            <span class="c9"
                ><a class="c32" href="#h.njz9k6kusg19">Syntax and BNF</a></span
            ><span class="c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c9"><a class="c32" href="#h.njz9k6kusg19">4</a></span>
        </p>
        <p class="c56 c107">
            <span class="c9"
                ><a class="c32" href="#h.koev745ea9rt"
                    >Names, scoping and binding</a
                ></span
            ><span class="c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c9"><a class="c32" href="#h.koev745ea9rt">7</a></span>
        </p>
        <p class="c107 c56">
            <span class="c9"
                ><a class="c32" href="#h.njz9k6kusg19"
                    >Lexing and parsing</a
                ></span
            ><span class="c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c9"><a class="c32" href="#h.njz9k6kusg19">8</a></span>
        </p>
        <p class="c17">
            <span class="c9"
                ><a class="c32" href="#h.hmky4fs7wau5">In Haskell</a></span
            ><span class="c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c9"><a class="c32" href="#h.hmky4fs7wau5">9</a></span>
        </p>
        <p class="c20">
            <span class="c9 c11"
                ><a class="c32" href="#h.u9h8df2noajk">Testing</a></span
            ><span class="c9 c11"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c9 c11"
                ><a class="c32" href="#h.u9h8df2noajk">10</a></span
            >
        </p>
        <p class="c107 c56">
            <span class="c9"
                ><a class="c32" href="#h.7474tb75s87u"
                    >Introduction to types</a
                ></span
            ><span class="c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c9"
                ><a class="c32" href="#h.7474tb75s87u">10</a></span
            >
        </p>
        <p class="c107 c56">
            <span class="c9"
                ><a class="c32" href="#h.dtmn8tptmg7">Type derivation</a></span
            ><span class="c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c9"><a class="c32" href="#h.dtmn8tptmg7">12</a></span>
        </p>
        <p class="c107 c56">
            <span class="c9"
                ><a class="c32" href="#h.i6l1juu6r9b"
                    >Type checking and type inference</a
                ></span
            ><span class="c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c9"><a class="c32" href="#h.i6l1juu6r9b">14</a></span>
        </p>
        <p class="c20">
            <span class="c9 c11"
                ><a class="c32" href="#h.srit91hm9kwj"
                    >Reasoning about programs</a
                ></span
            ><span class="c9 c11"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c9 c11"
                ><a class="c32" href="#h.srit91hm9kwj">19</a></span
            >
        </p>
        <p class="c107 c56">
            <span class="c9"
                ><a class="c32" href="#h.km3cd8b2bcep"
                    >Intro to semantics</a
                ></span
            ><span class="c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c9"
                ><a class="c32" href="#h.km3cd8b2bcep">19</a></span
            >
        </p>
        <p class="c17">
            <span class="c9"
                ><a class="c32" href="#h.mmnnnu2c2dcb"
                    >Denotational semantics</a
                ></span
            ><span class="c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c9"
                ><a class="c32" href="#h.mmnnnu2c2dcb">19</a></span
            >
        </p>
        <p class="c17">
            <span class="c9"
                ><a class="c32" href="#h.lq8qyxlj6mmc"
                    >Operational semantics</a
                ></span
            ><span class="c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c9"
                ><a class="c32" href="#h.lq8qyxlj6mmc">20</a></span
            >
        </p>
        <p class="c107 c56">
            <span class="c9"
                ><a class="c32" href="#h.km3cd8b2bcep">Type safety</a></span
            ><span class="c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c9"
                ><a class="c32" href="#h.km3cd8b2bcep">23</a></span
            >
        </p>
        <p class="c17">
            <span class="c9"
                ><a class="c32" href="#h.wi4jwim157bk">Preservation</a></span
            ><span class="c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c9"
                ><a class="c32" href="#h.wi4jwim157bk">24</a></span
            >
        </p>
        <p class="c17">
            <span class="c9"
                ><a class="c32" href="#h.vc1v1mq2y5h8">Progress</a></span
            ><span class="c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c9"
                ><a class="c32" href="#h.vc1v1mq2y5h8">25</a></span
            >
        </p>
        <p class="c20">
            <span class="c9 c11"
                ><a class="c32" href="#h.uesjvmargad5"
                    >Structured types</a
                ></span
            ><span class="c9 c11"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c9 c11"
                ><a class="c32" href="#h.uesjvmargad5">26</a></span
            >
        </p>
        <p class="c107 c56">
            <span class="c9"
                ><a class="c32" href="#h.gwdhn4staitl"
                    >Structured types</a
                ></span
            ><span class="c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c9"
                ><a class="c32" href="#h.gwdhn4staitl">26</a></span
            >
        </p>
        <p class="c107 c56">
            <span class="c9"
                ><a class="c32" href="#h.gwdhn4staitl">Subtyping</a></span
            ><span class="c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c9"
                ><a class="c32" href="#h.gwdhn4staitl">31</a></span
            >
        </p>
        <p class="c107 c56">
            <span class="c9"
                ><a class="c32" href="#h.gwdhn4staitl">Objects</a></span
            ><span class="c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c9"
                ><a class="c32" href="#h.gwdhn4staitl">39</a></span
            >
        </p>
        <p class="c107 c56">
            <span class="c9"
                ><a class="c32" href="#h.gwdhn4staitl"
                    >Lambda calculus and Curry Howard</a
                ></span
            ><span class="c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c9"
                ><a class="c32" href="#h.gwdhn4staitl">46</a></span
            >
        </p>
        <p class="c17">
            <span class="c9"
                ><a class="c32" href="#h.jxjlu6hx244m"
                    >Fixed-point combinator</a
                ></span
            ><span class="c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c9"
                ><a class="c32" href="#h.jxjlu6hx244m">49</a></span
            >
        </p>
        <p class="c17">
            <span class="c9"
                ><a class="c32" href="#h.od3je8cfzwqo"
                    >Curry-Howard correspondence</a
                ></span
            ><span class="c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c9"
                ><a class="c32" href="#h.od3je8cfzwqo">51</a></span
            >
        </p>
        <p class="c20">
            <span class="c9 c11"
                ><a class="c32" href="#h.kk2zg4oia1hw"
                    >Concurrency in programming languages</a
                ></span
            ><span class="c9 c11"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c9 c11"
                ><a class="c32" href="#h.kk2zg4oia1hw">54</a></span
            >
        </p>
        <p class="c107 c56">
            <span class="c9"
                ><a class="c32" href="#h.oora04bdi3w4"
                    >Race conditions and mutual exclusion</a
                ></span
            ><span class="c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c9"
                ><a class="c32" href="#h.oora04bdi3w4">54</a></span
            >
        </p>
        <p class="c107 c56">
            <span class="c9"
                ><a class="c32" href="#h.oora04bdi3w4"
                    >Atomicity, locks, monitors</a
                ></span
            ><span class="c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c9"
                ><a class="c32" href="#h.oora04bdi3w4">58</a></span
            >
        </p>
        <p class="c107 c56">
            <span class="c9"
                ><a class="c32" href="#h.oora04bdi3w4"
                    >Barriers and latches, performance and scalability, CAS and
                    fine-grained concurrency</a
                ></span
            ><span class="c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c9"
                ><a class="c32" href="#h.oora04bdi3w4">61</a></span
            >
        </p>
        <p class="c107 c56">
            <span class="c9"
                ><a class="c32" href="#h.um50bke1h1k0"
                    >Message passing, software transactional memory</a
                ></span
            ><span class="c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c9"
                ><a class="c32" href="#h.um50bke1h1k0">65</a></span
            >
        </p>
        <p class="c107 c56">
            <span class="c9"
                ><a class="c32" href="#h.mne411yuaf9e"
                    >Rust and concurrency</a
                ></span
            ><span class="c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c9"
                ><a class="c32" href="#h.mne411yuaf9e">70</a></span
            >
        </p>
        <p class="c20">
            <span class="c9 c11"
                ><a class="c32" href="#h.u1exd5rng3cn"
                    >Semantics of concurrency</a
                ></span
            ><span class="c9 c11"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c9 c11"
                ><a class="c32" href="#h.u1exd5rng3cn">73</a></span
            >
        </p>
        <p class="c107 c56">
            <span class="c9"
                ><a class="c32" href="#h.7u0y1f94wq8p"
                    >Labelled Transitions Systems</a
                ></span
            ><span class="c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c9"
                ><a class="c32" href="#h.7u0y1f94wq8p">73</a></span
            >
        </p>
        <p class="c107 c56">
            <span class="c9"
                ><a class="c32" href="#h.kusdinfj2v6u">Simulations</a></span
            ><span class="c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c9"
                ><a class="c32" href="#h.kusdinfj2v6u">76</a></span
            >
        </p>
        <p class="c107 c56">
            <span class="c9"
                ><a class="c32" href="#h.j71b16y8vjyy">Bisimulations</a></span
            ><span class="c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c9"
                ><a class="c32" href="#h.j71b16y8vjyy">82</a></span
            >
        </p>
        <p class="c20">
            <span class="c9 c11"
                ><a class="c32" href="#h.utc0ndeh9dw">TL;DR</a></span
            ><span class="c9 c11"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c9 c11"
                ><a class="c32" href="#h.utc0ndeh9dw">84</a></span
            >
        </p>
        <p class="c107 c56">
            <span class="c9"
                ><a class="c32" href="#h.do47pk1ovd62"
                    >Syntax to execution</a
                ></span
            ><span class="c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c9"
                ><a class="c32" href="#h.do47pk1ovd62">84</a></span
            >
        </p>
        <p class="c107 c56">
            <span class="c9"
                ><a class="c32" href="#h.86tnyq8terqu">Testing</a></span
            ><span class="c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c9"
                ><a class="c32" href="#h.86tnyq8terqu">86</a></span
            >
        </p>
        <p class="c107 c56">
            <span class="c9"
                ><a class="c32" href="#h.kcgaciunsamb"
                    >Reasoning about programs</a
                ></span
            ><span class="c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c9"
                ><a class="c32" href="#h.kcgaciunsamb">87</a></span
            >
        </p>
        <p class="c107 c56">
            <span class="c9"
                ><a class="c32" href="#h.kcgaciunsamb"
                    >Structured types</a
                ></span
            ><span class="c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c9"
                ><a class="c32" href="#h.kcgaciunsamb">88</a></span
            >
        </p>
        <p class="c107 c56">
            <span class="c9"
                ><a class="c32" href="#h.kcgaciunsamb"
                    >Concurrency in programming languages</a
                ></span
            ><span class="c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c9"
                ><a class="c32" href="#h.kcgaciunsamb">89</a></span
            >
        </p>
        <p class="c56 c154">
            <span class="c9"
                ><a class="c32" href="#h.kcgaciunsamb"
                    >Semantics of concurrency</a
                ></span
            ><span class="c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c9"
                ><a class="c32" href="#h.kcgaciunsamb">90</a></span
            >
        </p>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <h1 class="c56 c118" id="h.japim9e9fxdx">
            <span class="c35">Syntax to execution</span>
        </h1>
        <h2 class="c51" id="h.rql4ry1e8tje">
            <span class="c57 c58">Introduction</span>
        </h2>
        <ul class="c0 lst-kix_f0z2bpd3jeg9-0 start">
            <li class="c1 li-bullet-0">
                <span class="c11">Application domain</span
                ><span class="c4"
                    >: a field of computation fulfilled by various languages and
                    paradigms</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">The types of application domain are:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_f0z2bpd3jeg9-1 start">
            <li class="c2 li-bullet-0">
                <span class="c83">Scientific computing</span
                ><span class="c4"
                    >&nbsp;(Fortran, Mathematica, MatLab, OCAML, Haskell)</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c83">Business applications</span
                ><span class="c4">&nbsp;(COBOL, BPEL)</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c83">Artificial Intelligence</span
                ><span class="c4">&nbsp;(LISP, Prolog)</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c83">Systems</span
                ><span class="c4">&nbsp;(C, C++)</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c83">Web</span
                ><span class="c4"
                    >&nbsp;(HTML, XHTML, Perl, PHP, Ruby, JavaScript)</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_f0z2bpd3jeg9-0">
            <li class="c1 li-bullet-0">
                <span>A </span
                ><span class="c11">programming language family </span
                ><span class="c4"
                    >is a group of languages with similar / the same set of
                    conventions and semantics.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">The families of languages are:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_f0z2bpd3jeg9-1 start">
            <li class="c2 li-bullet-0">
                <span class="c83">Imperative</span
                ><span class="c4">&nbsp;(C, C++, Java, C#, Pascal)</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c83">Functional</span
                ><span class="c4"
                    >&nbsp;(OCaml, Haskell, ML, Lisp, Scheme, F#)</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c83">Logic / Declarative</span
                ><span class="c4">&nbsp;(Prolog)</span>
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_f0z2bpd3jeg9-0">
            <li class="c1 li-bullet-0">
                <span>There are two kinds of s</span
                ><span>oftware design methodologies:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_f0z2bpd3jeg9-1 start">
            <li class="c2 li-bullet-0">
                <span>The high-level methodology, </span
                ><span class="c11">data oriented</span
                ><span class="c4"
                    >, relates to ADTs and object-oriented design. It cares less
                    about program efficiency and more about the structure of
                    code.</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span>The low-level methodology, </span
                ><span class="c11">procedure oriented</span
                ><span class="c4"
                    >, emphasises decomposing code into logically independent
                    actions, and can also emphasise on concurrent
                    programming.</span
                >
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_f0z2bpd3jeg9-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Cross-fertilisation </span
                ><span class="c4"
                    >is where concepts from one family can be used in languages
                    belonging to another.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >For example, functional programming can be used in
                    imperative languages like Java, C# and Rust.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Monads can allow programmers to write imperative style code
                    in functional languages.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Declarative code, like regexp, SQL and HTML, can be written
                    in some imperative languages.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_f0z2bpd3jeg9-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >How good is a language? We need to follow it through
                    evaluation criteria!</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_f0z2bpd3jeg9-1 start">
            <li class="c2 li-bullet-0">
                <span class="c88 c83 c58">Readability</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_f0z2bpd3jeg9-2 start">
            <li class="c37 li-bullet-0">
                <span class="c4">How easy is it to read the code?</span>
            </li>
            <li class="c37 li-bullet-0">
                <span class="c4"
                    >You can make complex things seem simpler just by making it
                    more readable</span
                >
            </li>
            <li class="c37 li-bullet-0">
                <span class="c11">Feature multiplicity</span
                ><span class="c4"
                    >: multiple ways to achieve the same result</span
                >
            </li>
            <li class="c37 li-bullet-0">
                <span class="c11">Syntactic sugar</span
                ><span class="c4"
                    >: a simpler, more intuitive way to write something</span
                >
            </li>
            <li class="c37 li-bullet-0">
                <span
                    >Remember, feature multiplicity and syntactic sugar are </span
                ><span class="c6">not </span
                ><span class="c4"
                    >the same thing. Feature multiplicity means there are lots
                    of ways of achieving the same result with different
                    semantics, whereas syntactic sugar is just an alternate way
                    of writing something while still keeping the exact same
                    semantics.</span
                >
            </li>
            <li class="c37 li-bullet-0">
                <span class="c11">Orthogonality</span
                ><span
                    >: a property of two features, meaning that they are
                    independent of each other. Informally, it means that there
                    are no constraints in combining two features together. An
                    example of non-orthogonality would be that </span
                ><span>you can&rsquo;t create a </span
                ><span class="c16">void</span><span>&nbsp;variable in C.</span
                ><span
                    >&nbsp;Similarly, an array can contain any data type except </span
                ><span class="c16">void</span
                ><span>. For example when applying </span
                ><span class="c16">public</span><span>&nbsp;and </span
                ><span class="c16">static</span
                ><span class="c4"
                    >&nbsp;to a method, they do not interfere with each other,
                    so these two are orthogonal.</span
                >
            </li>
            <li class="c37 li-bullet-0">
                <span class="c11">Obfuscation</span
                ><span class="c4"
                    >: intentionally making code hard to understand</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_f0z2bpd3jeg9-1">
            <li class="c2 li-bullet-0">
                <span class="c88 c83 c58">Abstraction</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_f0z2bpd3jeg9-2 start">
            <li class="c37 li-bullet-0">
                <span class="c4"
                    >How well does the language abstract hardware and
                    concepts?</span
                >
            </li>
            <li class="c37 li-bullet-0">
                <span class="c4"
                    >It could use functions, modules, classes or objects.</span
                >
            </li>
            <li class="c37 li-bullet-0">
                <span class="c4"
                    >More abstraction = Further separation from machine-level
                    thinking</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_f0z2bpd3jeg9-1">
            <li class="c2 li-bullet-0">
                <span class="c88 c83 c58">Efficiency</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_f0z2bpd3jeg9-2 start">
            <li class="c37 li-bullet-0">
                <span class="c4">How efficient is your language?</span>
            </li>
            <li class="c37 li-bullet-0">
                <span class="c4"
                    >Efficiency can be described in both syntax and in
                    semantics.</span
                >
            </li>
            <li class="c37 li-bullet-0">
                <span class="c4"
                    >C could be said to have semantical efficiency since C
                    compilers are great at optimising code.</span
                >
            </li>
            <li class="c37 li-bullet-0">
                <span class="c4"
                    >Haskell could be said to have syntactical efficiency since
                    you can implement an algorithm like quicksort in 5 lines,
                    whereas C would require significantly more.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_f0z2bpd3jeg9-0">
            <li class="c1 li-bullet-0">
                <span>A brief history of </span><span class="c144">time</span
                ><span class="c4">&nbsp;programming languages:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_f0z2bpd3jeg9-1 start">
            <li class="c2 li-bullet-0">
                <span class="c83">Early 1950s:</span
                ><span class="c4"
                    >&nbsp;people made Fortran, the first high-level compiled
                    language.</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_f0z2bpd3jeg9-2 start">
            <li class="c37 li-bullet-0">
                <span class="c4"
                    >IBM704 hardware supported floating point numbers.
                </span>
            </li>
        </ul>
        <ul class="c0 lst-kix_f0z2bpd3jeg9-1">
            <li class="c2 li-bullet-0">
                <span class="c83">Late 1950s:</span
                ><span class="c4"
                    >&nbsp;LISP was made, the first functional language (+ a
                    bootleg named Scheme)</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c83">1960s:</span
                ><span class="c4"
                    >&nbsp;everyone got together and made ALGOL. They realised
                    programming languages could be their own field of
                    study.</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c83">1970s:</span
                ><span class="c4"
                    >&nbsp;COBOL was made. Emphasises data processing. C, Unix,
                    Prolog and Ada were made.</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c83">1970s-80s:</span
                ><span class="c4">&nbsp;BASIC for microcomputers was made</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c83">1980s:</span
                ><span class="c4"
                    >&nbsp;ML was made, everything is typed at compile time.
                    Smalltalk was made and the discovery of object-oriented
                    programming.</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c83">1990s:</span
                ><span class="c4"
                    >&nbsp;Java and the JVM was made, it had flexibility and
                    portability</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c83">2000s:</span
                ><span
                    >&nbsp;Scripting and server-side programming was born -
                    Perl, Python, PHP, JavaScript, Ruby etc.</span
                >
            </li>
        </ul>
        <h2 class="c51" id="h.njz9k6kusg19">
            <span class="c57 c58">Syntax and BNF</span>
        </h2>
        <ul class="c0 lst-kix_br4b1efnykio-0 start">
            <li class="c1 li-bullet-0">
                <span class="c11">Syntax</span
                ><span class="c4"
                    >: the rules / language for writing programs</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Semantics</span
                ><span class="c4"
                    >: the meaning of programs, what happens when we run
                    them</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_br4b1efnykio-0">
            <li class="c1 li-bullet-0">
                <span class="c11">BNF (Backus-Naur form)</span
                ><span class="c4">: a metalanguage that describes a CFG.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >It has terminals (also called tokens or lexemes) and
                    non-terminals, just like a CFG.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">Here is an example of BNF:</span>
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <p class="c42">
            <span class="c16">&lt;expr&gt;</span
            ><span class="c16"
                >&nbsp;::= &lt;expr&gt; + &lt;expr&gt; | &lt;expr&gt; *
                &lt;expr&gt; | &lt;lit&gt;<br /></span
            ><span class="c16">&lt;lit&gt;</span
            ><span class="c18 c16">&nbsp; ::= 1 | 2 | 3 | 4</span>
        </p>
        <p class="c42 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_cusff42ecl90-0 start">
            <li class="c7 li-bullet-0">
                <span class="c4"
                    >A legal sentence of a grammar is strings for which there is
                    a derivation in the BNF, just like how CFGs accept strings
                    for which there is a derivation for.</span
                >
            </li>
            <li class="c7 li-bullet-0">
                <span>These derivations can be transformed into </span
                ><span class="c11">parse trees</span><span class="c4">.</span>
            </li>
            <li class="c7 li-bullet-0">
                <span class="c4"
                    >However, some sentences might have more than one
                    derivation, making the grammar ambiguous.</span
                >
            </li>
            <li class="c7 li-bullet-0">
                <span class="c4"
                    >For example, the string &ldquo;2 + 3 * 4&rdquo; has two
                    derivations in the above BNF:</span
                >
            </li>
        </ul>
        <p class="c42 c41"><span class="c4"></span></p>
        <a id="t.45c003ef3994a346361845d39190db83e995c934"></a><a id="t.0"></a>
        <table class="c29">
            <tbody>
                <tr class="c3">
                    <td class="c14 c80" colspan="1" rowspan="1">
                        <p class="c48"><span class="c4">Derivation #1</span></p>
                    </td>
                    <td class="c14 c80" colspan="1" rowspan="1">
                        <p class="c48"><span class="c4">Derivation #2</span></p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 265px;
                                    height: 343.78px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image202.png"
                                    style="
                                        width: 265px;
                                        height: 343.78px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 265px;
                                    height: 355.66px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image199.png"
                                    style="
                                        width: 265px;
                                        height: 355.66px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c42 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_9x1ngugl8439-0 start">
            <li class="c7 li-bullet-0">
                <span class="c4"
                    >Which one do we pick? They&rsquo;ll both yield different
                    results.</span
                >
            </li>
            <li class="c7 li-bullet-0">
                <span class="c4"
                    >We could just put parentheses everywhere, but there&rsquo;s
                    a better way.</span
                >
            </li>
            <li class="c7 li-bullet-0">
                <span class="c4"
                    >We know that * binds tighter than + (it has higher
                    precedence), so why don&rsquo;t we adjust our BNF to reflect
                    that?</span
                >
            </li>
        </ul>
        <p class="c42 c41"><span class="c4"></span></p>
        <p class="c42">
            <span class="c18 c16"
                >&lt;expr&gt; &nbsp;::= &lt;mexpr&gt; + &lt;expr&gt; |
                &lt;mexpr&gt;</span
            >
        </p>
        <p class="c42">
            <span class="c18 c16"
                >&lt;mexpr&gt; ::= &lt;bexpr&gt; * &lt;mexpr&gt; |
                &lt;bexpr&gt;</span
            >
        </p>
        <p class="c42">
            <span class="c18 c16"
                >&lt;bexpr&gt; ::= (&lt;expr&gt;) | &lt;lit&gt;</span
            >
        </p>
        <p class="c42">
            <span class="c18 c16"
                >&lt;lit&gt; &nbsp; ::= 1 | 2 | 3 | 4 | ...</span
            >
        </p>
        <p class="c42 c41"><span class="c18 c16"></span></p>
        <ul class="c0 lst-kix_ym14uvaef33e-0 start">
            <li class="c7 li-bullet-0">
                <span class="c4">Now, 2 + 3 * 4 has a unique parse tree.</span>
            </li>
            <li class="c7 li-bullet-0">
                <span class="c4"
                    >The reason addition is above multiplication here is that we
                    evaluate up the parse tree, so multiplication is evaluated
                    first (using call-by-value).</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_ym14uvaef33e-1 start">
            <li class="c42 c145 c60 li-bullet-0">
                <span class="c4"
                    >Call by name evaluates down, but it achieves the same
                    result as call-by-value, since &nbsp;it treats the arguments
                    as unevaluated &lsquo;thunks&rsquo;.</span
                >
            </li>
        </ul>
        <p class="c42 c102 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_ym14uvaef33e-0">
            <li class="c7 li-bullet-0">
                <span class="c4"
                    >Operations that have the same precedence, like +, - and *,\
                    can also have ambiguous parse trees. Therefore, bracketing
                    becomes important.</span
                >
            </li>
            <li class="c7 li-bullet-0">
                <span>Additionally, some operations are not associative, </span
                ><span
                    >for example 1 - (2 - 3) isn&rsquo;t the same as (1 - 2) -
                    3.</span
                >
            </li>
        </ul>
        <p class="c42 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_23m77r54y3o6-0 start">
            <li class="c7 li-bullet-0">
                <span class="c4"
                    >How can we make operations associate to the left or right?
                    Let&rsquo;s adjust our BNF so that the + operator associates
                    to the left instead of the right:</span
                >
            </li>
        </ul>
        <p class="c42 c102 c41"><span class="c4"></span></p>
        <p class="c42">
            <span class="c18 c16"
                >&lt;expr&gt; &nbsp;::= &lt;expr&gt; + &lt;mexpr&gt; |
                &lt;mexpr&gt;</span
            >
        </p>
        <p class="c42">
            <span class="c18 c16"
                >&lt;mexpr&gt; ::= &lt;bexpr&gt; * &lt;mexpr&gt; |
                &lt;bexpr&gt;</span
            >
        </p>
        <p class="c42">
            <span class="c18 c16"
                >&lt;bexpr&gt; ::= (&lt;expr&gt;) | &lt;lit&gt;</span
            >
        </p>
        <p class="c42">
            <span class="c18 c16"
                >&lt;lit&gt; &nbsp; ::= 1 | 2 | 3 | 4 | &hellip;</span
            >
        </p>
        <p class="c42 c41"><span class="c18 c16"></span></p>
        <ul class="c0 lst-kix_5q91rjqmyixa-0 start">
            <li class="c7 li-bullet-0">
                <span class="c4"
                    >Note that we just swapped round the terms in the
                    &lt;expr&gt; definition&mdash;it&rsquo;s that easy! Now
                    1+2+3 will associate to ((1+2)+3).</span
                >
            </li>
            <li class="c7 li-bullet-0">
                <span class="c4"
                    >A general rule for associativity is that the highest level
                    expression is on the same side as the associativity:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_5q91rjqmyixa-1 start">
            <li class="c42 c60 c145 li-bullet-0">
                <span class="c4"
                    >The highest level expression is on the left hand side for
                    left-associativity</span
                >
            </li>
            <li class="c42 c145 c60 li-bullet-0">
                <span class="c4"
                    >The highest level expression is on the right hand side for
                    right-associativity</span
                >
            </li>
        </ul>
        <p class="c42 c102 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_ym14uvaef33e-0">
            <li class="c7 li-bullet-0">
                <span class="c11">EBNF (Extended Backus-Naur form)</span
                ><span class="c4"
                    >: A syntactic sugar for BNF. It doesn&rsquo;t add anything
                    new, it just makes things easier to write.</span
                >
            </li>
            <li class="c7 li-bullet-0">
                <span class="c4"
                    >Here&rsquo;s a list of symbols that can be used in EBNF, as
                    apparent in the proposed ISO/IEC 14977 standard:</span
                >
            </li>
        </ul>
        <p class="c42 c41"><span class="c4"></span></p>
        <a id="t.e65f49a3f16e47a407975139d1fefd0f80ea2d8e"></a><a id="t.1"></a>
        <table class="c161">
            <tbody>
                <tr class="c3">
                    <td class="c85" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Usage</span></p>
                    </td>
                    <td class="c33" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Notation</span></p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c85" colspan="1" rowspan="1">
                        <p class="c8"><span class="c4">definition</span></p>
                    </td>
                    <td class="c33" colspan="1" rowspan="1">
                        <p class="c48"><span class="c18 c16">=</span></p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c85" colspan="1" rowspan="1">
                        <p class="c8"><span class="c4">concatenation</span></p>
                    </td>
                    <td class="c33" colspan="1" rowspan="1">
                        <p class="c48"><span class="c18 c16">,</span></p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c85" colspan="1" rowspan="1">
                        <p class="c8"><span class="c4">termination</span></p>
                    </td>
                    <td class="c33" colspan="1" rowspan="1">
                        <p class="c48"><span class="c18 c16">;</span></p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c85" colspan="1" rowspan="1">
                        <p class="c8"><span class="c4">alternation</span></p>
                    </td>
                    <td class="c33" colspan="1" rowspan="1">
                        <p class="c48"><span class="c18 c16">|</span></p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c85" colspan="1" rowspan="1">
                        <p class="c8"><span class="c4">optional</span></p>
                    </td>
                    <td class="c33" colspan="1" rowspan="1">
                        <p class="c48"><span class="c18 c16">[ ... ]</span></p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c85" colspan="1" rowspan="1">
                        <p class="c8"><span class="c4">repetition</span></p>
                    </td>
                    <td class="c33" colspan="1" rowspan="1">
                        <p class="c48"><span class="c18 c16">{ ... }</span></p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c85" colspan="1" rowspan="1">
                        <p class="c8"><span class="c4">grouping</span></p>
                    </td>
                    <td class="c33" colspan="1" rowspan="1">
                        <p class="c48"><span class="c18 c16">( ... )</span></p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c85" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c4">terminal string</span>
                        </p>
                    </td>
                    <td class="c33" colspan="1" rowspan="1">
                        <p class="c48">
                            <span class="c18 c16">&ldquo; ... &ldquo;</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c85" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c4">terminal string</span>
                        </p>
                    </td>
                    <td class="c33" colspan="1" rowspan="1">
                        <p class="c48">
                            <span class="c18 c16">&lsquo; ... &lsquo;</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c85" colspan="1" rowspan="1">
                        <p class="c8"><span class="c4">comment</span></p>
                    </td>
                    <td class="c33" colspan="1" rowspan="1">
                        <p class="c48">
                            <span class="c18 c16">(* ... *)</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c85" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c4">special sequence</span>
                        </p>
                    </td>
                    <td class="c33" colspan="1" rowspan="1">
                        <p class="c48"><span class="c18 c16">? ... ?</span></p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c85" colspan="1" rowspan="1">
                        <p class="c8"><span class="c4">exception</span></p>
                    </td>
                    <td class="c33" colspan="1" rowspan="1">
                        <p class="c48"><span class="c18 c16">-</span></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c42 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_ym14uvaef33e-0">
            <li class="c7 li-bullet-0"><span class="c4">Examples:</span></li>
        </ul>
        <p class="c42 c41"><span class="c4"></span></p>
        <p class="c42">
            <span class="c16">&lt;if_stmt&gt; ::= </span
            ><span class="c92 c11">if </span
            ><span class="c16">&lt;expr&gt; </span
            ><span class="c92 c11">then </span
            ><span class="c16">&lt;stmt&gt; [</span
            ><span class="c92 c11">else</span
            ><span class="c18 c16">&nbsp;&lt;stmt&gt;]</span>
        </p>
        <p class="c42">
            <span class="c45 c9">The </span
            ><span class="c16 c45 c9">[else &lt;stmt&gt;]</span
            ><span class="c104 c45 c9 c58"
                >&nbsp;is optional because it&rsquo;s enclosed in square
                brackets</span
            >
        </p>
        <p class="c42 c41"><span class="c4"></span></p>
        <p class="c42">
            <span class="c16">&lt;switch_stmt&gt; ::= </span
            ><span class="c92 c11">switch (</span
            ><span class="c16">&lt;var&gt;</span><span class="c92 c11">)</span
            ><span class="c16">&nbsp;</span><span class="c92 c11">{</span
            ><span class="c16">&nbsp;{ </span><span class="c92 c11">case</span
            ><span class="c16">&nbsp;&lt;lit&gt; </span
            ><span class="c92 c11">:</span
            ><span class="c16">&nbsp;&lt;stmt&gt;; } </span
            ><span class="c92 c11">}</span>
        </p>
        <p class="c42">
            <span class="c45 c9">The </span
            ><span class="c16 c45 c9">{case &lt;lit&gt; : &lt;stmt&gt;;}</span
            ><span class="c45 c9"
                >&nbsp;can be repeated because it&rsquo;s enclosed in curly
                braces</span
            >
        </p>
        <h2 class="c51" id="h.koev745ea9rt">
            <span class="c57 c58">Names, scoping and binding</span>
        </h2>
        <ul class="c0 lst-kix_ne37x9bcwn0m-0 start">
            <li class="c1 li-bullet-0">
                <span class="c11">Name (aka identifier)</span
                ><span class="c4"
                    >: reserved keywords with certain behaviours / functions in
                    a language</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_ne37x9bcwn0m-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Variable</span
                ><span class="c4">: an allocated memory location</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Nowadays, they&rsquo;re more like placeholders for values
                    of a specific type.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c5"></span></p>
        <ul class="c0 lst-kix_ne37x9bcwn0m-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Aliasing</span
                ><span class="c4"
                    >: when two variables point to the same location</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_ne37x9bcwn0m-1 start">
            <li class="c2 li-bullet-0">
                <span>An example of this in C is using pointers: </span
                ><span class="c16">int*ptr=x</span><span>. </span
                ><span class="c16">ptr</span><span>&nbsp;points to </span
                ><span class="c16">x</span
                ><span class="c4">&rsquo;s location.</span>
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_ne37x9bcwn0m-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Binding</span
                ><span class="c4"
                    >: an association between an entity and an attribute</span
                >
            </li>
            <li class="c1 li-bullet-0"><span class="c4">Examples:</span></li>
        </ul>
        <ul class="c0 lst-kix_ne37x9bcwn0m-1 start">
            <li class="c2 li-bullet-0">
                <span class="c4">variable and its type</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4">variable and its scope</span>
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_ne37x9bcwn0m-0">
            <li class="c1 li-bullet-0">
                <span class="c4">There are two kinds of binding:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_ne37x9bcwn0m-1 start">
            <li class="c2 li-bullet-0">
                <span class="c11">Static binding</span
                ><span class="c4"
                    >: occurs before execution and remains unchanged
                    during</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_ne37x9bcwn0m-2 start">
            <li class="c37 li-bullet-0">
                <span class="c4"
                    >This is prevalent in C where you explicitly set a type, or
                    in Haskell where the most general type is used
                    (polymorphism)</span
                >
            </li>
            <li class="c37 li-bullet-0">
                <span class="c4"
                    >Type checking is done at compile time, so there are no
                    runtime errors concerning types</span
                >
            </li>
            <li class="c37 li-bullet-0">
                <span class="c4"
                    >It&rsquo;s also safer: if you mess up your types,
                    you&rsquo;ll know at compilation time instead of
                    run-time.</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_ne37x9bcwn0m-1">
            <li class="c2 li-bullet-0">
                <span class="c11">Dynamic binding</span
                ><span class="c4"
                    >: first occurs during execution or changes during</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_ne37x9bcwn0m-2 start">
            <li class="c37 li-bullet-0">
                <span class="c4"
                    >This is prevalent in JavaScript where a variable can change
                    type depending on what value you put in it</span
                >
            </li>
            <li class="c37 li-bullet-0">
                <span class="c4"
                    >You can code stuff faster, but things are more likely to go
                    wrong during execution</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_ne37x9bcwn0m-3 start">
            <li class="c42 c56 c145 c149 li-bullet-0">
                <span class="c4"
                    >You can also create ad hoc polymorphic functions</span
                >
            </li>
            <li class="c42 c56 c145 c149 li-bullet-0">
                <span class="c4"
                    >Increases run-time of the program as the program needs
                    type-check and run the main thread at the same time. This is
                    negligible on modern computers though.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_ne37x9bcwn0m-0">
            <li class="c1 li-bullet-0">
                <span>Kinds of variables (</span
                ><span class="c11">Memory Allocation</span
                ><span class="c4">):</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_ne37x9bcwn0m-1 start">
            <li class="c2 li-bullet-0">
                <span class="c11">Static </span
                ><span class="c4"
                    >variables: bound to a location in memory when we initialise
                    them</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_ne37x9bcwn0m-2 start">
            <li class="c37 li-bullet-0">
                <span class="c4">(e.g. a global C variable)</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_ne37x9bcwn0m-1">
            <li class="c2 li-bullet-0">
                <span class="c11">Stack </span><span>variables</span
                ><span class="c4"
                    >: memory is allocated from the run-time stack and
                    deallocated when the variable is out of scope</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_ne37x9bcwn0m-2 start">
            <li class="c37 li-bullet-0">
                <span class="c4">(e.g. a local Java variable in a method)</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_ne37x9bcwn0m-1">
            <li class="c2 li-bullet-0">
                <span class="c11">Explicit heap </span><span>variables</span
                ><span class="c4">: memory is bound explicitly</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_ne37x9bcwn0m-2 start">
            <li class="c37 li-bullet-0">
                <span>(e.g. using </span><span class="c16">malloc </span
                ><span>in C or </span><span class="c16">new </span
                ><span class="c4">in Java)</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_ne37x9bcwn0m-1">
            <li class="c2 li-bullet-0">
                <span class="c11">Implicit heap </span><span>variables</span
                ><span class="c4"
                    >: the variable is only brought into being when it is
                    assigned values</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_ne37x9bcwn0m-2 start">
            <li class="c37 li-bullet-0">
                <span class="c4"
                    >(e.g. any JavaScript variable, you can&rsquo;t make an
                    empty JavaScript variable)</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_ne37x9bcwn0m-0">
            <li class="c1 li-bullet-0">
                <span>The </span><span class="c11">scope </span
                ><span class="c4"
                    >of a variable is the location in which you can use
                    it.</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_ne37x9bcwn0m-1 start">
            <li class="c2 li-bullet-0">
                <span class="c11">Local </span
                ><span class="c4"
                    >scope variables are only visible within their own
                    &ldquo;block&rdquo;</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c11">Global </span
                ><span class="c4"
                    >scope variables can be seen anywhere, unless it&rsquo;s
                    hidden by a locally scoped variable.</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c11">Static (lexical)</span
                ><span class="c4"
                    >&nbsp;scope variables are variables where the scope can be
                    determined at compile time</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c11">Dynamic </span
                ><span
                    >scope variables are global variables that are set a
                    temporary value within a scope, and their old value is set
                    back when that scope is exited. It&rsquo;s not even a scope,
                    making this a </span
                ><span class="c31"
                    ><a
                        class="c32"
                        href="https://www.google.com/url?q=https://www.youtube.com/watch?v%3Dxn7ZaT3AgoU&amp;sa=D&amp;source=editors&amp;ust=1623676073923000&amp;usg=AOvVaw1AJS6FhmN1zl81rbfKb3SB"
                        >misnomer</a
                    ></span
                ><span class="c4">.</span>
            </li>
        </ul>
        <h2 class="c51" id="h.njz9k6kusg19-1">
            <span class="c57 c58">Lexing and parsing</span>
        </h2>
        <ul class="c0 lst-kix_75ic05n109km-0 start">
            <li class="c1 li-bullet-0">
                <span class="c11">Lexical analysis</span><span>&nbsp;(</span
                ><span class="c11">lexing</span
                ><span class="c4"
                    >) is the process of pattern matching on text.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >In it, we identify tokens and form an interface for the
                    parser.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Tokens are identified with regular expressions, and then
                    the lexer constructs an automaton, which is executed as
                    individual characters are read.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >This is possible because the power of regular expressions
                    matches that of finite automata.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >An example of a library that performs lexical analysis
                    would be &ldquo;alex&rdquo;.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >After lexing, we usually get a list of tokens, which we can
                    feed into a parser to give it some kind of meaning.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span
                    >If you want to look at lexical analysis more, geeks for
                    geeks has a good page on it: </span
                ><span class="c31"
                    ><a
                        class="c32"
                        href="https://www.google.com/url?q=https://www.geeksforgeeks.org/introduction-of-lexical-analysis/&amp;sa=D&amp;source=editors&amp;ust=1623676073926000&amp;usg=AOvVaw1QV4jOlEPgTR3vZ173KDMH"
                        >https://www.geeksforgeeks.org/introduction-of-lexical-analysis/</a
                    ></span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_75ic05n109km-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Parsing </span
                ><span class="c4"
                    >is the process of creating a syntax tree from a list of
                    tokens.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">There are two ways of doing this:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_75ic05n109km-1 start">
            <li class="c2 li-bullet-0">
                <span class="c83">top-down</span><span class="c4">:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_75ic05n109km-2 start">
            <li class="c37 li-bullet-0">
                <span class="c4">LL grammars (leftmost derivations)</span>
            </li>
            <li class="c37 li-bullet-0">
                <span class="c4">recursive descent parsers</span>
            </li>
            <li class="c37 li-bullet-0">
                <span class="c4">Works like context free grammars</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_75ic05n109km-1">
            <li class="c2 li-bullet-0">
                <span class="c83">bottom-up</span><span class="c4">:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_75ic05n109km-2 start">
            <li class="c37 li-bullet-0">
                <span class="c4">LR grammars (rightmost derivations)</span>
            </li>
            <li class="c37 li-bullet-0">
                <span class="c4">Works like pushdown automata</span>
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_75ic05n109km-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Top-down LL parsing</span><span>,</span
                ><span class="c11">&nbsp;</span><span>or </span
                ><span class="c11">recursive-descent parsing</span><span>,</span
                ><span class="c4"
                    >&nbsp;works by using context free grammars, like:</span
                >
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c18 c16"></span></p>
        <p class="c42 c56">
            <span class="c18 c16"
                >&lt;expr&gt; &nbsp; -&gt; &lt;term&gt; {(+ | -)
                &lt;term&gt;}</span
            >
        </p>
        <p class="c42 c56">
            <span class="c18 c16"
                >&lt;term&gt; &nbsp; -&gt; &lt;factor&gt; {(* | /)
                &lt;factor&gt;}</span
            >
        </p>
        <p class="c42 c56">
            <span class="c18 c16"
                >&lt;factor&gt; -&gt; id | int_constant | (&lt;expr&gt;)</span
            >
        </p>
        <p class="c42 c56 c41"><span class="c18 c16"></span></p>
        <ul class="c0 lst-kix_eapttij6tecu-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >However, be careful of left recursion, because if we have
                    left recursion our parser could enter an infinite
                    loop.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">For example, the grammar...</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c18 c16">A &rarr; A + B</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >... has left recursion. The parser could keep recursing
                    into the left-hand side A and never stop.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >A way to avoid this is by putting our grammar into Greibach
                    normal form, so each iteration captures at least one token
                    before recursing into any non-terminals.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >An example of a library that does recursive-descent parsing
                    would be &ldquo;parsec&rdquo;.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_eapttij6tecu-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Sometimes, in top-down LL parsing, we might need to know
                    the next few tokens to avoid ambiguity.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >We can just make our grammar not left recursive (which is
                    called left factoring)</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Or, we can use a parser LL(k) where k is the
                    lookahead.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_eapttij6tecu-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Bottom-up LR parsing</span
                ><span class="c4"
                    >&nbsp;works similarly to a deterministic pushdown automaton
                    and uses a stack.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span>The </span><span>statespace and transition function</span
                ><span>s are precomputed - this is known as an </span
                ><span class="c11">LR parsing table</span
                ><span class="c4">.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >The time complexity of parsing is linear (the size of the
                    input string)</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >This requires preprocessing; an example tool would be
                    &ldquo;yacc&rdquo;.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_eapttij6tecu-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Two classic C tools for building lexers and parsers are
                    &ldquo;lex&rdquo; and &ldquo;yacc&rdquo;,
                    respectively.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >&ldquo;Happy&rdquo; is a Haskell variant for
                    &ldquo;yacc&rdquo;.</span
                >
            </li>
        </ul>
        <h3 class="c56 c67" id="h.hmky4fs7wau5">
            <span class="c49">In Haskell</span>
        </h3>
        <ul class="c0 lst-kix_7sn6sn8515va-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >We have a variety of tools to pick from, like:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_7sn6sn8515va-1 start">
            <li class="c2 li-bullet-0">
                <span class="c4">Alex (generates lexers)</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4">Parsec (recursive descent library)</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >Happy (a compiler compiler, or a parser generator)</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_7sn6sn8515va-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Alex </span
                ><span class="c4"
                    >is similar to the classic C tool &ldquo;Lex&rdquo;</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >An Alex input file consists of regular expressions, which
                    are the token definitions.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >You invoke Alex with the following command:</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c16">alex { option } file.x { option }</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Alex usually creates &lsquo;file.hs&rsquo; which contains
                    the source for the lexer.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_7sn6sn8515va-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Alex provides a basic interface to the generated
                    lexer.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >When Alex parses your Tokens.x file and gives you a
                    Tokens.hs file, that file provides definitions for:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_7sn6sn8515va-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16">type AlexInput</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16"
                    >alexGetByte :: AlexInput -&gt; Maybe (Word8, AlexInput)
                </span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16"
                    >alexInputPrevChar :: AlexInput -&gt; Char</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c16">alexScanTokens :: String -&gt; [Token] </span
                ><span class="c16 c45 c9 c133">(used for lexing)</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_7sn6sn8515va-0">
            <li class="c1 li-bullet-0">
                <span
                    >Basically, when Alex creates your Tokens.hs file, you can
                    &lsquo;import&rsquo; that into your Haskell code and start
                    using </span
                ><span class="c16">alexScanTokens </span
                ><span class="c4">to lex strings straight away!</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">The lexer is independent of input type.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">There are other wrappers too, like:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_7sn6sn8515va-1 start">
            <li class="c2 li-bullet-0">
                <span>&ldquo;posn&rdquo; wrapper </span
                ><span class="c104 c45 c9 c58"
                    >provides more information about line and column numbers,
                    useful for syntax errors</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span>&ldquo;monad&rdquo; wrapper </span
                ><span class="c104 c45 c9 c58"
                    >state monad can keep track of current input and text
                    position</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span>&ldquo;monadUserState&rdquo; wrapper </span
                ><span class="c104 c45 c9 c58"
                    >extends monad wrapper, but includes the AlexUserState
                    type</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c104 c45 c9 c58"></span></p>
        <ul class="c0 lst-kix_7sn6sn8515va-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Parsec</span
                ><span class="c4"
                    >&nbsp;is a library that combines small parsec functions to
                    build more sophisticated parsers.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Parsing with Parsec is top-down recursive.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">Two important functions in Parsec are:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_7sn6sn8515va-1 start">
            <li class="c2 li-bullet-0">
                <span class="c16">makeTokenParser</span><span>&nbsp;</span
                ><span class="c104 c45 c9 c58">similar to Alex</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c16">buildExpressionParser</span>
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_7sn6sn8515va-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Happy</span
                ><span class="c4"
                    >&nbsp;is a bottom-up parser generator, inspired by
                    yacc.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >It&rsquo;s generally faster than top-down recursive
                    parsing.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >In fact, it&rsquo;s so good that GHC uses it (the compiler
                    for Haskell).</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Like Alex, it requires a separate input file that defines a
                    grammar.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >When you run Happy, it outputs a compilable Haskell
                    module.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >You can invoke Happy using the following command:</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c16">happy [ options ] file [ options ]</span>
            </li>
        </ul>
        <h1 class="c118 c56" id="h.u9h8df2noajk">
            <span class="c35">Testing</span>
        </h1>
        <h2 class="c51" id="h.7474tb75s87u">
            <span>Introduction to types</span>
        </h2>
        <ul class="c0 lst-kix_ih63of7te9wd-0 start">
            <li class="c1 li-bullet-0">
                <span class="c11">Type system</span
                ><span class="c4"
                    >: a tractable syntactic method for proving the absence of
                    certain program behaviours by classifying (program) phrases
                    according to the kinds of values they compute</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span
                    >In English, a type system is a set of rules that assigns
                    types to various constructs of a computer program, such as
                    variables, expressions, functions or modules. In other
                    words, when you have &ldquo;</span
                ><span class="c16">var x = 5</span
                ><span class="c4"
                    >&rdquo; in a program, the type system is the one that goes
                    &ldquo;that&rsquo;s an integer&rdquo;.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_ih63of7te9wd-0">
            <li class="c1 li-bullet-0">
                <span>Types are </span><span class="c45">abstract </span
                ><span
                    >enough to hide away low-level details like memory, and
                    they&rsquo;re also </span
                ><span class="c45">precise </span
                ><span class="c4"
                    >enough to let us formalise and check properties using
                    mathematical tools.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_ih63of7te9wd-0">
            <li class="c1 li-bullet-0">
                <span class="c88 c83 c58">What do types do for us?</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">With type systems and types, we can:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_ih63of7te9wd-1 start">
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >ensure correctness and guarantee the absence of certain
                    behaviours</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >enforce higher-level modularity properties</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span
                    >enforce disciplined programming (unless you&rsquo;re using
                    weak typing)</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_ih63of7te9wd-0">
            <li class="c1 li-bullet-0">
                <span class="c88 c83 c58">How do we use types?</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">S</span><span class="c11">trongly typed</span
                ><span class="c4"
                    >: prevents access to private data, from corrupting memory
                    and from crashing the machine e.g. java</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Weakly typed</span
                ><span
                    >: do not always prevent errors but use types for other
                    compilation purposes such as memory layout e.g. C</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_ih63of7te9wd-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Static typing</span
                ><span class="c4">: checks typing at compile time e.g. C</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Dynamic typing</span
                ><span class="c4"
                    >: checks typing during runtime e.g. JavaScript</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_ih63of7te9wd-0">
            <li class="c1 li-bullet-0">
                <span class="c83 c58 c88">Strong vs Weak</span>
            </li>
            <li class="c1 li-bullet-0">
                <span>W</span
                ><span class="c4"
                    >ith strong, types must be declared &ldquo;whenever an
                    object is passed from a calling function to a called
                    function, its type must be compatible with the type declared
                    in the called function&rdquo;.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">Strong =&gt; Verbose</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >With weak typing, the wrong type may be passed to a
                    function, and the function is free to choose how to behave
                    in that case.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Weak type languages coerce data to be of the required
                    type.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Basically, strong vs weak is all about how types are
                    implicitly converted from one type to another, e.g. string
                    to an int.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >A language that is blatantly strong is Java, because
                    it&rsquo;s so adamant and strict about types (and is often
                    criticised so).</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >A language that is blatantly weak is Javascript, because it
                    implicitly converts everything (in fact, it&rsquo;s very
                    hard to get a typing error in JS!):</span
                >
            </li>
        </ul>
        <p class="c50 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_fl9xso3w4rrs-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4">A few examples are:</span>
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <a id="t.40acb8f2cf56e6699e2ae77d27542d6f25949f83"></a><a id="t.2"></a>
        <table class="c29">
            <tbody>
                <tr class="c3">
                    <td class="c146" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Example</span></p>
                    </td>
                    <td class="c105" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Result</span></p>
                    </td>
                    <td class="c53" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Explanation</span></p>
                    </td>
                </tr>
                <tr class="c136">
                    <td class="c146" colspan="1" rowspan="1">
                        <p class="c8"><span class="c4">1 + true</span></p>
                    </td>
                    <td class="c105" colspan="1" rowspan="1">
                        <p class="c8"><span class="c4">2</span></p>
                    </td>
                    <td class="c53" colspan="1" rowspan="3">
                        <p class="c8">
                            <span class="c4"
                                >The boolean value true is coerced to 1.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c136">
                    <td class="c146" colspan="1" rowspan="1">
                        <p class="c8"><span class="c4">true - true</span></p>
                    </td>
                    <td class="c105" colspan="1" rowspan="1">
                        <p class="c8"><span class="c4">0</span></p>
                    </td>
                </tr>
                <tr class="c136">
                    <td class="c146" colspan="1" rowspan="1">
                        <p class="c8"><span class="c4">true == 1</span></p>
                    </td>
                    <td class="c105" colspan="1" rowspan="1">
                        <p class="c8"><span class="c4">true</span></p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c146" colspan="1" rowspan="1">
                        <p class="c8"><span class="c4">[] + []</span></p>
                    </td>
                    <td class="c105" colspan="1" rowspan="1">
                        <p class="c8"><span class="c4">empty string</span></p>
                    </td>
                    <td class="c53" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c4"
                                >In case of an object (array is an object as
                                well), it is first converted to a primitive
                                using the toString method. This yields an empty
                                string for an empty array, and the concatenation
                                of two empty strings is an empty string.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c146" colspan="1" rowspan="1">
                        <p class="c8"><span class="c4">true === 1</span></p>
                    </td>
                    <td class="c105" colspan="1" rowspan="1">
                        <p class="c8"><span class="c4">false</span></p>
                    </td>
                    <td class="c53" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c4"
                                >The triple equals operator prevents type
                                coercion. This is why most of the time you want
                                to prefer it over &ldquo;==&rdquo;, which
                                applies coercion.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c146" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c4">91 - &ldquo;1&rdquo;</span>
                        </p>
                    </td>
                    <td class="c105" colspan="1" rowspan="1">
                        <p class="c8"><span class="c4">90</span></p>
                    </td>
                    <td class="c53" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c4"
                                >The string &ldquo;1&rdquo; is coerced to the
                                number 1.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c146" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c4">9 + &ldquo;1&rdquo;</span>
                        </p>
                    </td>
                    <td class="c105" colspan="1" rowspan="1">
                        <p class="c8"><span class="c4">91</span></p>
                    </td>
                    <td class="c53" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c4"
                                >In this case, the &ldquo;+&rdquo; operator is
                                considered as string concatenation. 9 is coerced
                                to &ldquo;9&rdquo; and thus the result of
                                &ldquo;9&rdquo; + &ldquo;1&rdquo; is 91.</span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_ih63of7te9wd-0">
            <li class="c1 li-bullet-0">
                <span class="c88 c83 c58">Static vs Dynamic</span>
            </li>
            <li class="c1 li-bullet-0">
                <span>S</span
                ><span class="c4"
                    >tatic types use approximation because determining control
                    flow is undecidable</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Compile time error can avoid run time errors</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Static is good where types are used for memory layout, like
                    C</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >It is bad to use dynamic with critical systems, because
                    dynamic doesn&rsquo;t check types until runtime</span
                >
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <a id="t.5c74dce83a1089673c47fe3f83bd0afd2ebee425"></a><a id="t.3"></a>
        <table class="c29">
            <tbody>
                <tr class="c3">
                    <td class="c147 c163" colspan="1" rowspan="1">
                        <p class="c8 c41"><span class="c4"></span></p>
                    </td>
                    <td class="c142" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Weak</span></p>
                    </td>
                    <td class="c126" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Strong</span></p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c147" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Dynamic</span></p>
                    </td>
                    <td class="c142" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c4">PHP, Perl, Javascript, Lua</span>
                        </p>
                    </td>
                    <td class="c126" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c4">Python, Lisp, Scheme</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c147" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Static</span></p>
                    </td>
                    <td class="c142" colspan="1" rowspan="1">
                        <p class="c8"><span class="c4">C, C++</span></p>
                    </td>
                    <td class="c126" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c4"
                                >Ada, OCaml, Haskell, Java, C#</span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_ih63of7te9wd-0">
            <li class="c1 li-bullet-0">
                <span class="c88 c83 c58">When do we check types?</span>
            </li>
            <li class="c1 li-bullet-0">
                <span>With statically typed languages, t</span
                ><span>ype checking is done at compilation.</span
                ><span>&nbsp;T</span
                ><span
                    >ype checking done on the AST (Abstract Syntax Tree) is
                    called </span
                ><span class="c11">semantic analysis</span
                ><span class="c4">.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Type inference</span
                ><span
                    >&nbsp;= compiler computes what type is, like
                    &lsquo;var&rsquo; in Javascript or in Java</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span>A </span><span class="c11">type checker </span
                ><span class="c4"
                    >is an algorithm written in some high level language that
                    checks the type of a program to see if it all holds
                    up.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >How can we trust type checking algorithms?</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span>If our program is secure with its types, it has </span
                ><span class="c11">type safety</span><span class="c4">.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >&ldquo;Well-typed programs never go wrong&rdquo; - Robin
                    Milner</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_ih63of7te9wd-0">
            <li class="c1 li-bullet-0">
                <span class="c88 c83 c58"
                    >What does it take to prove type safety?</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span>&ldquo;</span><span class="c70 c54">Well-typed</span
                ><span>&nbsp;</span><span class="c21 c46">programs</span
                ><span>&nbsp;</span><span class="c90 c69">never go</span
                ><span>&nbsp;</span><span class="c77">wrong</span
                ><span class="c4">&rdquo;</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">To prove this statement, you need to:</span>
            </li>
            <li class="c1 li-bullet-0">
                <span>Know what </span><span class="c70 c54">well-typed</span
                ><span class="c4">&nbsp;means</span>
            </li>
            <li class="c1 li-bullet-0">
                <span>Know what </span><span class="c21 c46">programs</span
                ><span class="c4">&nbsp;means</span>
            </li>
            <li class="c1 li-bullet-0">
                <span>Know what </span><span class="c90 c69">never go</span
                ><span class="c4">&nbsp;means</span>
            </li>
            <li class="c1 li-bullet-0">
                <span>Know what </span><span class="c77">wrong</span
                ><span class="c4">&nbsp;means</span>
            </li>
            <li class="c1 li-bullet-0">
                <span>We inductively define </span
                ><span class="c11">typing relation</span
                ><span class="c4">, like a proof in propositional logic</span>
            </li>
            <li class="c1 li-bullet-0">
                <span>We inductively define </span
                ><span class="c11">reduction relation</span
                ><span
                    >, defines how program evaluates through runtime
                    states</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span>We inductively define description of </span
                ><span class="c11">error</span
                ><span class="c4">&nbsp;states of program</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >We use mathematical descriptions to try to prove that type
                    safety holds</span
                >
            </li>
        </ul>
        <h2 class="c51" id="h.dtmn8tptmg7">
            <span class="c57 c58">Type derivation</span>
        </h2>
        <ul class="c0 lst-kix_w95t58qgd661-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >With programming languages, the compiler needs to check
                    that the program doesn&rsquo;t consume data of the wrong
                    type.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Therefore, it needs to perform type derivation.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_w95t58qgd661-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >First of all, we&rsquo;re going to define a toy language
                    for our examples:</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c18 c16">T, U ::= Int | Bool</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c18 c16"
                    >E ::= N | true | false | E &lt; E | E + E | x |</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_w95t58qgd661-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16">| if E then E else E</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16">| let (x : T) = E in E</span>
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_w95t58qgd661-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Each &lsquo;fragment&rsquo; of the program needs a
                    type.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >We can define a typing relation written like this:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_w95t58qgd661-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16">&#8866; E : T</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_w95t58qgd661-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Which means &ldquo;E has type T&rdquo;, where E is the
                    program and T is the type.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">Examples are:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_w95t58qgd661-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16">&#8866; false : Bool</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16">&#8866; 56 : Int</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16"
                    >&#8866; &ldquo;KING CRIMSON: IT JUST WORKS&rdquo; :
                    String</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_w95t58qgd661-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >We may need to approximate the type if we can&rsquo;t
                    determine it statically.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_w95t58qgd661-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >We can apply this typing relation to programming languages
                    using inductive rules.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >As a quick refresher, there are two kinds of rules with
                    inductive rules: base cases, and inductive steps.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >The base case is our smallest, atomic rule, and is usually
                    used for literals. For example:</span
                >
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 135.5px;
                    height: 45.17px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image208.png"
                    style="
                        width: 135.5px;
                        height: 45.17px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_w95t58qgd661-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >The inductive step takes a program and splits it up into
                    smaller rules, for example:</span
                >
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 386px;
                    height: 70.64px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image111.png"
                    style="
                        width: 386px;
                        height: 70.64px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_dyhpot3twta3-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >In this syntax, the relation below the line is split up
                    into the relations above the line.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >With the base cases, they can&rsquo;t be split up into
                    anything, because base cases are atomic.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c5"></span></p>
        <ul class="c0 lst-kix_dyhpot3twta3-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >But what if we have some program that defines variables
                    with types, like this:</span
                >
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 387px;
                    height: 78.02px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image173.png"
                    style="
                        width: 404.45px;
                        height: 78.02px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_f6unc2q2j6rd-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >How do we split this up using inductive rules?</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">If we do something like:</span>
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 427.5px;
                    height: 76.78px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image221.png"
                    style="
                        width: 427.5px;
                        height: 76.78px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_3l8h2rk7d9zd-0 start">
            <li class="c1 li-bullet-0">
                <span>We won&rsquo;t remember what type </span
                ><span class="c16">x</span
                ><span>&nbsp;is when we split up E</span
                ><span class="c23">2</span
                ><span class="c4">, so we&rsquo;ll run into a problem.</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_f6unc2q2j6rd-0">
            <li class="c1 li-bullet-0">
                <span>We need to remember what the type of </span
                ><span class="c16">x</span
                ><span>&nbsp;is! For this, we&rsquo;ll use </span
                ><span class="c11">type environments</span
                ><span class="c4">.</span>
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_f6unc2q2j6rd-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Type environment</span
                ><span
                    >: A mapping from variables to types. It&rsquo;s represented
                    by the capital Greek letter gamma: </span
                ><span class="c16 c18">&Gamma;</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >It goes to the left of the tack, like this:</span
                >
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 442px;
                    height: 70.63px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image255.png"
                    style="
                        width: 442px;
                        height: 70.63px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_6c7zp4ebq7h2-0 start">
            <li class="c1 li-bullet-0">
                <span
                    >So now, we can remember variable types! But first, we need
                    to add a mapping from </span
                ><span class="c16">x</span
                ><span
                    >&nbsp;to its type into our type environment when we split
                    up this </span
                ><span class="c16">let</span
                ><span class="c4"
                    >&nbsp;expression. We can do that by writing:</span
                >
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 474px;
                    height: 74.32px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image166.png"
                    style="
                        width: 474px;
                        height: 74.32px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_vbbrhg5qc5p3-0 start">
            <li class="c1 li-bullet-0">
                <span
                    >The comma means that we&rsquo;re adding the mapping from </span
                ><span class="c16">x</span><span>&nbsp;to type </span
                ><span class="c16">T</span
                ><span>&nbsp;into our type environment gamma (</span
                ><span class="c16">&Gamma;</span
                ><span>). So now, when we split up E</span
                ><span class="c23">2</span
                ><span>&nbsp;even further, we can remember what type </span
                ><span class="c16">x</span><span class="c4">&nbsp;is.</span>
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_vbbrhg5qc5p3-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Now that we have type environments, we can define a rule
                    for variables:</span
                >
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 215px;
                    height: 86.77px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image214.png"
                    style="
                        width: 215px;
                        height: 86.77px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_zf872v44jsin-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >We can also define rules for more programs, such as
                    comparisons:</span
                >
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 342px;
                    height: 69.46px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image160.png"
                    style="
                        width: 342px;
                        height: 69.46px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_whdq0wsrf276-0 start">
            <li class="c1 li-bullet-0"><span class="c4">Or addition:</span></li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 385px;
                    height: 73.67px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image189.png"
                    style="
                        width: 385px;
                        height: 73.67px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_20306fw1nltb-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Just a note, we&rsquo;re adding lambda calculus to our toy
                    language:</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c18 c16">T, U ::= Int | Bool</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c18 c16"
                    >E ::= n | true | false | E &lt; E | E + E | x |</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_20306fw1nltb-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16">| if E then E else E</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16">| let (x : T) = E in E</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16">&lambda; (x : T). E</span>
            </li>
            <li class="c2 li-bullet-0"><span class="c18 c16">E E</span></li>
        </ul>
        <h2 class="c51" id="h.i6l1juu6r9b">
            <span class="c57 c58">Type checking and type inference</span>
        </h2>
        <ul class="c0 lst-kix_8vavgaccl1vb-0 start">
            <li class="c1 li-bullet-0">
                <span class="c83">Formally</span
                ><span>, a set of inference rules </span
                ><span class="c16">S</span
                ><span
                    >&nbsp;defined over programs used to define an inductive
                    relation </span
                ><span class="c16">R</span><span>&nbsp;is called </span
                ><span class="c11">syntax directed</span
                ><span>&nbsp;if, whenever a program (think AST) </span
                ><span class="c16">E</span><span>&nbsp;holds in </span
                ><span class="c16">R</span
                ><span>&nbsp;then there is a unique rule in </span
                ><span class="c16">S</span
                ><span
                    >&nbsp;that justifies this. Moreover, this unique rule is
                    determined by the syntactic operator at the root of </span
                ><span class="c16">E</span><span class="c4">.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c83">Informally</span
                ><span>, a language compiler is </span
                ><span class="c11">syntax directed </span
                ><span class="c4"
                    >if it uses a parser to figure out what the program does. In
                    other words, the semantics of a program (what it does)
                    depends on the syntax itself (what is written, so pretty
                    much any compiler used today is syntax directed).</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_8vavgaccl1vb-0">
            <li class="c1 li-bullet-0">
                <span>As it happens, ASTs and type derivation trees are </span
                ><span class="c45">exactly the same shape</span
                ><span class="c4">.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Here&rsquo;s an example, with the program:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_8vavgaccl1vb-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16">let foo = &lambda; ( x : Int ).</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_8vavgaccl1vb-2 start">
            <li class="c37 li-bullet-0">
                <span class="c18 c16">if (x &lt; 3)</span>
            </li>
            <li class="c37 li-bullet-0"><span class="c18 c16">then 0</span></li>
            <li class="c37 li-bullet-0">
                <span class="c18 c16">else (x + 1)</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_8vavgaccl1vb-1">
            <li class="c2 li-bullet-0">
                <span class="c18 c16">in foo (42)</span>
            </li>
        </ul>
        <p class="c42 c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 164px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image115.png"
                    style="
                        width: 602px;
                        height: 164px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 356.65px;
                    height: 211.5px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image216.png"
                    style="
                        width: 356.65px;
                        height: 211.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_uhqnbtrqeqck-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >If you flipped that red tree upside down and compared it
                    with that AST, they&rsquo;d be the same tree. Trust
                    me.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Why does this matter? Well, instead of having two trees,
                    one for interpreting and one for types, why not just do type
                    checking in the AST? This is basically type inference, which
                    we will touch on in a moment.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_uhqnbtrqeqck-0">
            <li class="c1 li-bullet-0">
                <span>Another thing is the </span
                ><span class="c11">inversion lemma</span
                ><span class="c4"
                    >, which is inferring the type of a subprogram given the
                    type of the whole program.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span>For example, we have no idea what type </span
                ><span class="c16">E</span><span class="c12">1</span
                ><span class="c4"
                    >&nbsp;is on its own, but if we see it in this sort of
                    context:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_uhqnbtrqeqck-1 start">
            <li class="c2 li-bullet-0">
                <span class="c16">if E</span><span class="c12">1</span
                ><span class="c16">&nbsp;then E</span><span class="c12">2</span
                ><span class="c16">&nbsp;else E</span
                ><span class="c130 c12 c128">3</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_uhqnbtrqeqck-0">
            <li class="c1 li-bullet-0">
                <span>Now it&rsquo;s obvious that </span
                ><span class="c16">E</span><span class="c12">1</span
                ><span class="c4"
                    >&nbsp;is a boolean type. That&rsquo;s inversion
                    lemma!</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >The inversion lemma can be applied to nearly every term in
                    our toy lambda language:</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_uhqnbtrqeqck-0">
            <li class="c1 li-bullet-0">
                <span class="c18 c16"
                    >If &Gamma; &#8866; n : T then T is Int</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c18 c16"
                    >If &Gamma; &#8866; b : T then T is Bool</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c18 c16"
                    >If &Gamma; &#8866; x : T then x : T is in the mapping
                    &Gamma;</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c18 c16"
                    >If &Gamma; &#8866; E1 &lt; E2 : T then &Gamma; &#8866; E1 :
                    Int and &Gamma; &#8866; E2 : Int and T is Bool</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c18 c16"
                    >If &Gamma; &#8866; E1 + E2 : T then &Gamma; &#8866; E1 :
                    Int and &Gamma; &#8866; E2 : Int and T is Int</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c18 c16"
                    >If &Gamma; &#8866; if E1 then E2 else E3 : T then &Gamma;
                    &#8866; E1 : Bool and &Gamma; &#8866; E2 : T and &Gamma;
                    &#8866; E3 : T</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c18 c16"
                    >If &Gamma; &#8866; &lambda; (x : T) E : U&rsquo; then
                    &Gamma; , x : T &#8866; E : U and U&rsquo; is T &rarr;
                    U</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c18 c16"
                    >If &Gamma; &#8866; let (x : T) = E1 in E2 : U then &Gamma;
                    , x : T &#8866; E2 : U and &Gamma; &#8866; E1 : T</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c18 c16"
                    >If &Gamma; &#8866; E1( E2 ) : U then &Gamma; &#8866; E1 : T
                    &#10141; U and &Gamma; &#8866; E2 : T for some T</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c18 c16"></span></p>
        <ul class="c0 lst-kix_uhqnbtrqeqck-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >That&rsquo;s great, and now we have type inference, but we
                    have one problem.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">What if we don&rsquo;t know the types?</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >For example, if we had a function that adds two arguments
                    together, they could be integers, floats, strings etc.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >We can&rsquo;t have a single type for that! So what do we
                    do?</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">We use type variables and unification!</span>
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_uhqnbtrqeqck-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Type variable</span
                ><span class="c4"
                    >: a symbolic value to represent some unknown type with
                    constraints.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span
                    >We&rsquo;ve already been using type variables in Haskell,
                    where </span
                ><span class="c16">a</span
                ><span class="c4">&nbsp;would be a type variable:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_uhqnbtrqeqck-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16"
                    >(+) :: Num a =&gt; a -&gt; a -&gt; a</span
                >
            </li>
        </ul>
        <p class="c42 c56 c41 c60"><span class="c18 c16"></span></p>
        <ul class="c0 lst-kix_uhqnbtrqeqck-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Unification</span
                ><span class="c4"
                    >: the process of testing an argument against the
                    constraints of a type variable</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Here&rsquo;s an example of unification with the
                    program:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_uhqnbtrqeqck-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16"
                    >let foo = &lambda;(x) if (x &lt; 3) then 0 else (x +
                    1)</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16"
                    >in let cast = &lambda;(y) if (y) then 1 else 0</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16">in cast (foo (42))</span>
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <a id="t.152c7171c31a013b698034b55a4116e4bcda75a8"></a><a id="t.4"></a>
        <table class="c29">
            <tbody>
                <tr class="c3">
                    <td class="c100 c80" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Step</span></p>
                    </td>
                    <td class="c119 c80" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Explanation</span></p>
                    </td>
                    <td class="c96 c80" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Program</span></p>
                    </td>
                    <td class="c134 c80" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Types</span></p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c100" colspan="1" rowspan="1">
                        <p class="c8"><span class="c4">0</span></p>
                    </td>
                    <td class="c119" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c27"
                                >We haven&rsquo;t done anything yet.</span
                            >
                        </p>
                    </td>
                    <td class="c96" colspan="1" rowspan="1">
                        <p class="c42 c56">
                            <span class="c71 c16 c62"
                                >let foo = &lambda;(x) if (x &lt; 3) then 0 else
                                (x + 1)</span
                            >
                        </p>
                        <p class="c42 c56 c41">
                            <span class="c71 c16 c62"></span>
                        </p>
                        <p class="c42 c56">
                            <span class="c71 c16 c62"
                                >in let cast = &lambda;(y) if (y) then 1 else
                                0</span
                            >
                        </p>
                        <p class="c42 c56 c41">
                            <span class="c71 c16 c62"></span>
                        </p>
                        <p class="c42 c56">
                            <span class="c16 c62">in cast (foo (42))</span>
                        </p>
                    </td>
                    <td class="c134" colspan="1" rowspan="1">
                        <p class="c42 c56"><span class="c18 c16">N/A</span></p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c86" colspan="1" rowspan="1">
                        <p class="c8"><span class="c4">1</span></p>
                    </td>
                    <td class="c119 c103" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c27"
                                >We will now simplify the first let.</span
                            >
                        </p>
                        <p class="c8 c41"><span class="c27"></span></p>
                        <p class="c8">
                            <span class="c27"
                                >We&rsquo;re going to create type variables for
                                the variable &lsquo;foo&rsquo; and the
                                expression that &lsquo;foo&rsquo; is equal to,
                                and the rest of our program.</span
                            >
                        </p>
                    </td>
                    <td class="c96 c103" colspan="1" rowspan="1">
                        <p class="c42 c56">
                            <span class="c16 c62">let </span
                            ><span class="c16 c70 c62 c54">foo</span
                            ><span class="c16 c62">&nbsp;= </span
                            ><span class="c101 c16 c70 c62 c54"
                                >&lambda;(x) if (x &lt; 3) then 0 else (x +
                                1)</span
                            >
                        </p>
                        <p class="c42 c56 c41">
                            <span class="c71 c16 c62"></span>
                        </p>
                        <p class="c42 c56">
                            <span class="c16 c62">in</span
                            ><span class="c16 c62">&nbsp;</span
                            ><span class="c10 c101"
                                >let cast = &lambda;(y) if (y) then 1 else
                                0</span
                            >
                        </p>
                        <p class="c42 c56 c41">
                            <span class="c10 c101"></span>
                        </p>
                        <p class="c42 c56">
                            <span class="c10">in cast (foo (42))</span>
                        </p>
                    </td>
                    <td class="c94" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c73 c16 c70 c54">a = ?</span>
                        </p>
                        <p class="c8 c41"><span class="c18 c16 c54"></span></p>
                        <p class="c8"><span class="c22 c16 c21">b = ?</span></p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c100" colspan="1" rowspan="1">
                        <p class="c8"><span class="c4">2</span></p>
                    </td>
                    <td class="c119" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c62"
                                >Now we&rsquo;re going to dig deeper into that </span
                            ><span class="c71 c16 c62">&lambda;(x)</span>
                        </p>
                        <p class="c8 c41"><span class="c71 c16 c62"></span></p>
                        <p class="c8">
                            <span class="c62"
                                >We can give type variables to the parameter </span
                            ><span class="c16 c62">x</span
                            ><span class="c27">&nbsp;and the lambda body.</span>
                        </p>
                        <p class="c8 c41"><span class="c27"></span></p>
                        <p class="c8">
                            <span class="c62"
                                >Also, now that we have c and d, we can build up
                                the type variable a from that, because we know
                                it&rsquo;s a function (it&rsquo;s got lambda in
                                it), so a is c -&gt; d.</span
                            >
                        </p>
                    </td>
                    <td class="c96" colspan="1" rowspan="1">
                        <p class="c42 c56">
                            <span class="c16 c62">let </span
                            ><span class="c16 c70 c62 c54">foo</span
                            ><span class="c16 c62">&nbsp;= </span
                            ><span class="c16 c62 c54 c70">&lambda;(</span
                            ><span class="c16 c66 c62">x</span
                            ><span class="c16 c70 c62 c54">) </span
                            ><span class="c19 c16"
                                >if (x &lt; 3) then 0 else (x + 1)</span
                            >
                        </p>
                        <p class="c42 c56 c41">
                            <span class="c71 c16 c62"></span>
                        </p>
                        <p class="c42 c56">
                            <span class="c16 c62">in </span
                            ><span class="c10 c101"
                                >let cast = &lambda;(y) if (y) then 1 else
                                0</span
                            >
                        </p>
                        <p class="c42 c56 c41">
                            <span class="c10 c101"></span>
                        </p>
                        <p class="c42 c56">
                            <span class="c10">in cast (foo (42))</span>
                        </p>
                    </td>
                    <td class="c134" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c73 c16 c70 c54"
                                >a = c &#10230; d</span
                            >
                        </p>
                        <p class="c8 c41"><span class="c18 c16 c54"></span></p>
                        <p class="c8"><span class="c22 c16 c21">b = ?</span></p>
                        <p class="c8 c41"><span class="c18 c16 c21"></span></p>
                        <p class="c8"><span class="c43 c16">c = ?</span></p>
                        <p class="c8 c41"><span class="c18 c16 c21"></span></p>
                        <p class="c8">
                            <span class="c73 c16 c90 c69">d = ?</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c86" colspan="1" rowspan="1">
                        <p class="c8"><span class="c4">3</span></p>
                    </td>
                    <td class="c119 c103" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c27"
                                >Let&rsquo;s look more at that if
                                statement.</span
                            >
                        </p>
                        <p class="c8 c41"><span class="c27"></span></p>
                        <p class="c8">
                            <span class="c27"
                                >Obviously, x &lt; 3 is a boolean, so no
                                problems here. Plus, this condition can only
                                work if x is an integer, so it&rsquo;s likely
                                that the type variable c is an integer.</span
                            >
                        </p>
                        <p class="c8 c41"><span class="c27"></span></p>
                        <p class="c8">
                            <span class="c27"
                                >0 is most definitely an integer, and x + 1
                                looks like it could be an integer too, so it
                                would be fair to say that the type variable
                                &lsquo;d&rsquo; is an integer.</span
                            >
                        </p>
                    </td>
                    <td class="c96 c103" colspan="1" rowspan="1">
                        <p class="c42 c56">
                            <span class="c16 c62">let </span
                            ><span class="c16 c70 c62 c54">foo</span
                            ><span class="c16 c62">&nbsp;= </span
                            ><span class="c16 c70 c62 c54">&lambda;(</span
                            ><span class="c16 c62 c66">x</span
                            ><span class="c16 c70 c62 c54">) </span
                            ><span class="c19 c16"
                                >if (x &lt; 3) then 0 else (x + 1)</span
                            >
                        </p>
                        <p class="c42 c56 c41">
                            <span class="c16 c62 c71"></span>
                        </p>
                        <p class="c42 c56">
                            <span class="c16 c62">in </span
                            ><span class="c10 c101"
                                >let cast = &lambda;(y) if (y) then 1 else
                                0</span
                            >
                        </p>
                        <p class="c42 c56 c41">
                            <span class="c10 c101"></span>
                        </p>
                        <p class="c42 c56">
                            <span class="c10">in cast (foo (42))</span>
                        </p>
                    </td>
                    <td class="c94" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c73 c16 c70 c54"
                                >a = c &#10230; d</span
                            >
                        </p>
                        <p class="c8 c41"><span class="c18 c16 c54"></span></p>
                        <p class="c8"><span class="c22 c16 c21">b = ?</span></p>
                        <p class="c8 c41"><span class="c18 c16 c21"></span></p>
                        <p class="c8">
                            <span class="c43 c16">c = Integer</span>
                        </p>
                        <p class="c8 c41"><span class="c18 c16 c21"></span></p>
                        <p class="c8">
                            <span class="c16 c90 c69">d = Integer</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c100 c135" colspan="1" rowspan="1">
                        <p class="c8"><span class="c4">4</span></p>
                    </td>
                    <td class="c119 c135" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c27"
                                >Now let&rsquo;s split up that blue bit (the bit
                                we haven&rsquo;t evaluated yet).</span
                            >
                        </p>
                        <p class="c8 c41"><span class="c27"></span></p>
                        <p class="c8">
                            <span class="c62"
                                >Let&rsquo;s give everything type variables
                                first, like &lsquo;cast&rsquo; and the
                                expression that cast equals, and </span
                            ><span class="c16 c62">cast(foo(42))</span
                            ><span class="c27">.</span>
                        </p>
                        <p class="c8 c41"><span class="c27"></span></p>
                        <p class="c8">
                            <span class="c27"
                                >This also means we can say b = f, because the
                                type of a let is the type of the expression
                                it&rsquo;s passing variables to.</span
                            >
                        </p>
                    </td>
                    <td class="c96 c135" colspan="1" rowspan="1">
                        <p class="c42 c56">
                            <span class="c16 c62">let </span
                            ><span class="c16 c70 c62 c54">foo</span
                            ><span class="c16 c62">&nbsp;= </span
                            ><span class="c16 c70 c62 c54">&lambda;(</span
                            ><span class="c16 c66 c62">x</span
                            ><span class="c16 c70 c62 c54">) </span
                            ><span class="c19 c16"
                                >if (x &lt; 3) then 0 else (x + 1)</span
                            >
                        </p>
                        <p class="c42 c56 c41">
                            <span class="c71 c16 c62"></span>
                        </p>
                        <p class="c42 c56">
                            <span class="c16 c62">in </span
                            ><span class="c10">let </span
                            ><span class="c44 c16">cast</span
                            ><span class="c16 c62 c21">&nbsp;</span
                            ><span class="c10">=</span
                            ><span class="c16 c62 c21">&nbsp;</span
                            ><span class="c101 c44 c16"
                                >&lambda;(y) if (y) then 1 else 0</span
                            >
                        </p>
                        <p class="c42 c56 c41">
                            <span class="c71 c16 c62 c21"></span>
                        </p>
                        <p class="c42 c56">
                            <span class="c10">in </span
                            ><span class="c28 c101 c16">cast (foo (42))</span>
                        </p>
                    </td>
                    <td class="c134 c135" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c73 c16 c70 c54"
                                >a = c &#10230; d</span
                            >
                        </p>
                        <p class="c8 c41"><span class="c18 c16 c54"></span></p>
                        <p class="c8"><span class="c22 c16 c21">b = f</span></p>
                        <p class="c8 c41"><span class="c18 c16 c21"></span></p>
                        <p class="c8">
                            <span class="c16 c43">c = Integer</span>
                        </p>
                        <p class="c8 c41"><span class="c18 c16 c21"></span></p>
                        <p class="c8">
                            <span class="c73 c16 c90 c69">d = Integer</span>
                        </p>
                        <p class="c8 c41"><span class="c18 c16 c69"></span></p>
                        <p class="c8">
                            <span class="c73 c16 c140 c65">e = ?</span>
                        </p>
                        <p class="c8 c41"><span class="c18 c16 c69"></span></p>
                        <p class="c8">
                            <span class="c73 c16 c129">f = ?</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c86" colspan="1" rowspan="1">
                        <p class="c8"><span class="c4">5</span></p>
                    </td>
                    <td class="c103 c119" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c62">Let&rsquo;s unfold that </span
                            ><span class="c16 c62">&lambda;(y)</span
                            ><span class="c27"
                                >&nbsp;and give it the type variable:</span
                            >
                        </p>
                        <p class="c8"><span class="c27">e = g -&gt; h</span></p>
                        <p class="c8 c41"><span class="c27"></span></p>
                        <p class="c8"><span class="c27">where</span></p>
                        <p class="c8 c41"><span class="c27"></span></p>
                        <p class="c8">
                            <span class="c16 c62">(y)</span
                            ><span class="c27">&nbsp;is type g</span>
                        </p>
                        <p class="c8 c41"><span class="c27"></span></p>
                        <p class="c8"><span class="c27">and</span></p>
                        <p class="c8 c41"><span class="c27"></span></p>
                        <p class="c8">
                            <span class="c16 c62">if (y) then 1 else 0 </span
                            ><span class="c62">is type h</span>
                        </p>
                    </td>
                    <td class="c96 c103" colspan="1" rowspan="1">
                        <p class="c42 c56">
                            <span class="c16 c62">let </span
                            ><span class="c16 c70 c62 c54">foo</span
                            ><span class="c16 c62">&nbsp;= </span
                            ><span class="c16 c70 c62 c54">&lambda;(</span
                            ><span class="c16 c66 c62">x</span
                            ><span class="c16 c70 c62 c54">) </span
                            ><span class="c16 c19"
                                >if (x &lt; 3) then 0 else (x + 1)</span
                            >
                        </p>
                        <p class="c42 c56 c41">
                            <span class="c71 c16 c62"></span>
                        </p>
                        <p class="c42 c56">
                            <span class="c16 c62">in </span
                            ><span class="c10">let </span
                            ><span class="c44 c16">cast</span
                            ><span class="c16 c62 c21">&nbsp;</span
                            ><span class="c10">=</span
                            ><span class="c16 c62 c21">&nbsp;</span
                            ><span class="c44 c16">&lambda;(</span
                            ><span class="c16 c77 c62">y</span
                            ><span class="c44 c16">) </span
                            ><span class="c101 c16 c62 c121"
                                >if (y) then 1 else 0</span
                            >
                        </p>
                        <p class="c42 c56 c41">
                            <span class="c71 c16 c62 c21"></span>
                        </p>
                        <p class="c42 c56">
                            <span class="c10">in </span
                            ><span class="c28 c16">cast (foo (42))</span>
                        </p>
                    </td>
                    <td class="c94" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c73 c16 c70 c54"
                                >a = c &#10230; d</span
                            >
                        </p>
                        <p class="c8 c41"><span class="c18 c16 c54"></span></p>
                        <p class="c8"><span class="c16 c21 c22">b = f</span></p>
                        <p class="c8 c41"><span class="c18 c16 c21"></span></p>
                        <p class="c8">
                            <span class="c43 c16">c = Integer</span>
                        </p>
                        <p class="c8 c41"><span class="c18 c16 c21"></span></p>
                        <p class="c8">
                            <span class="c73 c16 c90 c69">d = Integer</span>
                        </p>
                        <p class="c8 c41"><span class="c18 c16 c69"></span></p>
                        <p class="c8">
                            <span class="c73 c16 c140 c65"
                                >e = g &#10230; h</span
                            >
                        </p>
                        <p class="c8 c41"><span class="c18 c16 c69"></span></p>
                        <p class="c8">
                            <span class="c73 c16 c129">f = ?</span>
                        </p>
                        <p class="c8 c41"><span class="c73 c16 c131"></span></p>
                        <p class="c8"><span class="c73 c16 c77">g = ?</span></p>
                        <p class="c8 c41"><span class="c73 c16 c131"></span></p>
                        <p class="c8">
                            <span class="c73 c16 c121">h = ?</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c100" colspan="1" rowspan="1">
                        <p class="c8"><span class="c4">6</span></p>
                    </td>
                    <td class="c119" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c27"
                                >Let&rsquo;s unfold the if statement in that y
                                lambda.</span
                            >
                        </p>
                        <p class="c8 c41"><span class="c27"></span></p>
                        <p class="c8">
                            <span class="c27"
                                >It&rsquo;s clear that y is a boolean, because
                                it&rsquo;s the only thing in the condition, so g
                                is a boolean type.</span
                            >
                        </p>
                        <p class="c8 c41"><span class="c27"></span></p>
                        <p class="c8">
                            <span class="c27"
                                >1 and 0 are integers, so it makes sense that h
                                would be an integer.</span
                            >
                        </p>
                    </td>
                    <td class="c96" colspan="1" rowspan="1">
                        <p class="c42 c56">
                            <span class="c16 c62">let </span
                            ><span class="c16 c70 c62 c54">foo</span
                            ><span class="c16 c62">&nbsp;= </span
                            ><span class="c16 c70 c62 c54">&lambda;(</span
                            ><span class="c16 c66 c62">x</span
                            ><span class="c16 c70 c62 c54">) </span
                            ><span class="c19 c16"
                                >if (x &lt; 3) then 0 else (x + 1)</span
                            >
                        </p>
                        <p class="c42 c56 c41">
                            <span class="c71 c16 c62"></span>
                        </p>
                        <p class="c42 c56">
                            <span class="c16 c62">in </span
                            ><span class="c10">let </span
                            ><span class="c44 c16">cast</span
                            ><span class="c16 c62 c21">&nbsp;</span
                            ><span class="c10">=</span
                            ><span class="c16 c62 c21">&nbsp;</span
                            ><span class="c44 c16">&lambda;(</span
                            ><span class="c16 c77 c62">y</span
                            ><span class="c44 c16">) </span
                            ><span class="c101 c16 c121 c62"
                                >if (y) then 1 else 0</span
                            >
                        </p>
                        <p class="c42 c56 c41">
                            <span class="c71 c16 c62 c21"></span>
                        </p>
                        <p class="c42 c56">
                            <span class="c10">in </span
                            ><span class="c28 c16">cast (foo (42))</span>
                        </p>
                    </td>
                    <td class="c134" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c73 c16 c70 c54"
                                >a = c &#10230; d</span
                            >
                        </p>
                        <p class="c8 c41"><span class="c18 c16 c54"></span></p>
                        <p class="c8"><span class="c22 c16 c21">b = f</span></p>
                        <p class="c8 c41"><span class="c18 c16 c21"></span></p>
                        <p class="c8">
                            <span class="c43 c16">c = Integer</span>
                        </p>
                        <p class="c8 c41"><span class="c18 c16 c21"></span></p>
                        <p class="c8">
                            <span class="c73 c16 c90 c69">d = Integer</span>
                        </p>
                        <p class="c8 c41"><span class="c18 c16 c69"></span></p>
                        <p class="c8">
                            <span class="c73 c16 c140 c65"
                                >e = g &#10230; h</span
                            >
                        </p>
                        <p class="c8 c41"><span class="c18 c16 c69"></span></p>
                        <p class="c8">
                            <span class="c73 c16 c129">f = ?</span>
                        </p>
                        <p class="c8 c41"><span class="c73 c16 c131"></span></p>
                        <p class="c8">
                            <span class="c73 c16 c77">g = Boolean</span>
                        </p>
                        <p class="c8 c41"><span class="c73 c16 c131"></span></p>
                        <p class="c8">
                            <span class="c73 c16 c121">h = Integer</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c86" colspan="1" rowspan="1">
                        <p class="c8"><span class="c4">7</span></p>
                    </td>
                    <td class="c119 c103" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c27"
                                >Let&rsquo;s unfold the applications now.</span
                            >
                        </p>
                        <p class="c8 c41"><span class="c27"></span></p>
                        <p class="c8">
                            <span class="c62">The application is </span
                            ><span class="c16 c62">cast(foo(42))</span
                            ><span class="c62"
                                >, and we already know the type of </span
                            ><span class="c16 c62">cast</span
                            ><span class="c27">; it&rsquo;s h, so f = h.</span>
                        </p>
                        <p class="c8 c41"><span class="c27"></span></p>
                        <p class="c8">
                            <span class="c27"
                                >By unwinding foo(42), we can tell that c is an
                                integer because an integer is being passed in as
                                an argument. We&rsquo;ve already got the type of
                                c, and it all matches up fine.</span
                            >
                        </p>
                        <p class="c8 c41"><span class="c27"></span></p>
                        <p class="c8">
                            <span class="c62"
                                >But here&rsquo;s where the problem lies: since
                                the return type of foo is being passed into
                                cast, that must mean </span
                            ><span class="c16 c62">g = d</span
                            ><span class="c27"
                                >. However, g is a boolean and d is an integer.
                                Objection! There is a glaring contradiction in
                                this source code!</span
                            >
                        </p>
                    </td>
                    <td class="c96 c103" colspan="1" rowspan="1">
                        <p class="c42 c56">
                            <span class="c16 c62">let </span
                            ><span class="c16 c70 c62 c54">foo</span
                            ><span class="c16 c62">&nbsp;= </span
                            ><span class="c16 c70 c62 c54">&lambda;(</span
                            ><span class="c16 c66 c62">x</span
                            ><span class="c16 c70 c62 c54">) </span
                            ><span class="c19 c16"
                                >if (x &lt; 3) then 0 else (x + 1)</span
                            >
                        </p>
                        <p class="c42 c56 c41">
                            <span class="c71 c16 c62"></span>
                        </p>
                        <p class="c42 c56">
                            <span class="c16 c62">in </span
                            ><span class="c10">let </span
                            ><span class="c44 c16">cast</span
                            ><span class="c16 c62 c21">&nbsp;</span
                            ><span class="c10">=</span
                            ><span class="c16 c62 c21">&nbsp;</span
                            ><span class="c44 c16">&lambda;(</span
                            ><span class="c16 c77 c62">y</span
                            ><span class="c16 c44">) </span
                            ><span class="c101 c16 c121 c62"
                                >if (y) then 1 else 0</span
                            >
                        </p>
                        <p class="c42 c56 c41">
                            <span class="c71 c16 c62 c21"></span>
                        </p>
                        <p class="c42 c56">
                            <span class="c10">in </span
                            ><span class="c16 c28">cast (foo (42))</span>
                        </p>
                    </td>
                    <td class="c94" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c73 c16 c70 c54"
                                >a = c &#10230; d</span
                            >
                        </p>
                        <p class="c8 c41"><span class="c18 c16 c54"></span></p>
                        <p class="c8"><span class="c22 c16 c21">b = f</span></p>
                        <p class="c8 c41"><span class="c18 c16 c21"></span></p>
                        <p class="c8">
                            <span class="c43 c16">c = Integer</span>
                        </p>
                        <p class="c8 c41"><span class="c18 c16 c21"></span></p>
                        <p class="c8">
                            <span class="c73 c16 c90 c69">d = Integer</span>
                        </p>
                        <p class="c8 c41"><span class="c18 c16 c69"></span></p>
                        <p class="c8">
                            <span class="c73 c16 c140 c65"
                                >e = g &#10230; h</span
                            >
                        </p>
                        <p class="c8 c41"><span class="c18 c16 c69"></span></p>
                        <p class="c8">
                            <span class="c73 c16 c129">f = h</span>
                        </p>
                        <p class="c8 c41"><span class="c73 c16 c131"></span></p>
                        <p class="c8">
                            <span class="c73 c16 c77">g = Boolean</span>
                        </p>
                        <p class="c8 c41"><span class="c73 c16 c131"></span></p>
                        <p class="c8">
                            <span class="c73 c16 c121">h = Integer</span>
                        </p>
                        <p class="c8 c41"><span class="c73 c16 c115"></span></p>
                        <p class="c8 c41"><span class="c73 c16 c115"></span></p>
                        <p class="c8 c41"><span class="c73 c16 c115"></span></p>
                        <p class="c8"><span class="c18 c16">g = d</span></p>
                        <p class="c8 c41"><span class="c18 c16"></span></p>
                        <p class="c8">
                            <span class="c18 c16">Boolean = Integer?</span>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <h1 class="c118 c56" id="h.srit91hm9kwj">
            <span class="c35">Reasoning about programs</span>
        </h1>
        <h2 class="c51" id="h.km3cd8b2bcep">
            <span class="c57 c58">Intro to semantics</span>
        </h2>
        <ul class="c0 lst-kix_tjgd2lh381di-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >The semantics of a program is the meaning of the program;
                    what does it actually do?</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >There are formal ways of giving the semantics of a
                    program:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_tjgd2lh381di-1 start">
            <li class="c2 li-bullet-0">
                <span class="c11">Denotational </span
                ><span class="c4"
                    >semantics - mapping every program to a mathematical
                    structure in some domain</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c11">Operational </span
                ><span class="c4"
                    >semantics - inductively maps programs and values they
                    produce, or states the programs can transition between are
                    used</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c11">Axiomatic </span
                ><span class="c4"
                    >semantics - use formal logic, like Hoare logic, to prove
                    properties of a program</span
                >
            </li>
        </ul>
        <h3 class="c67 c56" id="h.mmnnnu2c2dcb">
            <span class="c49">Denotational semantics</span>
        </h3>
        <ul class="c0 lst-kix_tjgd2lh381di-0">
            <li class="c1 li-bullet-0">
                <span>With </span><span class="c83">denotational semantics</span
                ><span class="c4"
                    >, we map our programs to elements of a semantic
                    domain.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Semantic domain</span
                ><span class="c4"
                    >: a set of possible values a program can be (it&rsquo;s
                    basically a type)</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >For example, the semantic domain of a program that adds two
                    integers could be the set of all integers.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_tjgd2lh381di-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >To do denotational semantics, we say that if there exists
                    a</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c18 c16">&Gamma; &#8866; E : T</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">there must exist a:</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c18 c16">[[ E ]]&sigma; = V</span>
            </li>
            <li class="c1 li-bullet-0"><span class="c4">Where:</span></li>
        </ul>
        <ul class="c0 lst-kix_tjgd2lh381di-1 start">
            <li class="c2 li-bullet-0">
                <span class="c16">&sigma; </span
                ><span>is a mapping from free variables in</span
                ><span class="c16">&nbsp;&Gamma; </span
                ><span class="c4">to a value in the semantic domain</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c16">V </span
                ><span>is the value in the semantic domain that</span
                ><span class="c16">&nbsp;E </span
                ><span class="c4">represents</span>
            </li>
        </ul>
        <p class="c42 c56 c41 c60"><span class="c18 c16"></span></p>
        <ul class="c0 lst-kix_tjgd2lh381di-0">
            <li class="c1 li-bullet-0">
                <span>If this is true, then we can say that </span
                ><span class="c16">&sigma;</span
                ><span>&nbsp;semantically entails </span
                ><span class="c16">&Gamma;</span><span>, or </span
                ><span class="c16">&sigma; &#8872; &Gamma;</span>
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_favetgjrs9wg-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Here is an example with the toy lambda language:</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c18 c16"
                    >[[ true ]]&sigma; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                    &nbsp; &nbsp; &nbsp;= true</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c18 c16"
                    >[[ false ]]&sigma; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                    &nbsp; &nbsp; &nbsp; = false</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c16"
                    >[[ n ]]&sigma; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                    &nbsp; &nbsp; &nbsp; &nbsp; = n (the corresponding natural
                    in </span
                ><span class="c92 c11">N</span><span class="c18 c16">)</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c18 c16"
                    >[[ E &lt; E&rsquo; ]]&sigma; &nbsp; &nbsp; &nbsp; &nbsp;
                    &nbsp; &nbsp; &nbsp; &nbsp;= true if [[ E ]]&sigma; &lt; [[
                    E&rsquo; ]]&sigma;</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c18 c16"
                    >[[ E &lt; E&rsquo; ]]&sigma; &nbsp; &nbsp; &nbsp; &nbsp;
                    &nbsp; &nbsp; &nbsp; &nbsp;= false otherwise</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c18 c16"
                    >[[ E + E&rsquo; ]]&sigma; &nbsp; &nbsp; &nbsp; &nbsp;
                    &nbsp; &nbsp; &nbsp; &nbsp;= [[ E ]]&sigma; + [[ E&rsquo;
                    ]]&sigma;</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c18 c16"
                    >[[ if E then E&rsquo; else E&rsquo;&rsquo; ]]&sigma; = [[
                    E&rsquo; ]]&sigma; if [[ E ]]&sigma; = true</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c18 c16"
                    >[[ if E then E&rsquo; else E&rsquo;&rsquo; ]]&sigma; = [[
                    E&rsquo;&rsquo; ]]&sigma; if [[ E ]]&sigma; = false</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c18 c16"
                    >[[ &lambda; (x : T) E ]]&sigma; &nbsp; &nbsp; &nbsp; &nbsp;
                    &nbsp; = v &#8614; [[ E ]]&sigma; [ x &#8614; v ]</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c18 c16"
                    >[[ let (x : T) = E in E&rsquo; ]]&sigma; = [[ E&rsquo;
                    ]]&sigma; [ x &#8614; [[ E ]]&sigma; ]</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c18 c16"
                    >[[ E E&rsquo; ]]&sigma; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                    &nbsp; &nbsp; &nbsp; &nbsp;= [[ E ]]&sigma;( [[ E&rsquo; ]]
                    )&sigma;</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c18 c16"></span></p>
        <ul class="c0 lst-kix_favetgjrs9wg-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >There&rsquo;s criticism about denotational semantics, such
                    as:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_favetgjrs9wg-1 start">
            <li class="c2 li-bullet-0">
                <span class="c4">It&rsquo;s just renaming programs</span>
            </li>
            <li class="c2 li-bullet-0">
                <span>The model is &ldquo;too big&rdquo; (</span
                ><span class="c16">Int -&gt; Int</span
                ><span>&nbsp;defines </span><span class="c11">all </span
                ><span class="c4"
                    >the functions, even ones that are impossible)</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4">Modelling recursion is very hard</span>
            </li>
        </ul>
        <h3 class="c67 c56" id="h.lq8qyxlj6mmc">
            <span class="c49">Operational semantics</span>
        </h3>
        <ul class="c0 lst-kix_o0m31nl305ci-0 start">
            <li class="c1 li-bullet-0">
                <span>With </span><span class="c83">operational semantics</span
                ><span class="c4"
                    >, we use inductively defined relations to map programs to
                    values.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >It&rsquo;s very similar to type checking!</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >There&rsquo;s two kinds of operational semantics:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_o0m31nl305ci-1 start">
            <li class="c2 li-bullet-0">
                <span class="c11">Big </span><span class="c4">step</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c11">Small </span><span class="c4">step</span>
            </li>
        </ul>
        <p class="c42 c56 c41 c60"><span class="c4"></span></p>
        <ul class="c0 lst-kix_o0m31nl305ci-0">
            <li class="c1 li-bullet-0">
                <span>In </span><span class="c83">big step</span
                ><span>&nbsp;</span
                ><span class="c4"
                    >semantics, we have relations from programs to values.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >We split these relations to other, smaller relations along
                    with some conditions that must hold true.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >These relations are written as E &dArr; V, where E is the
                    program and V is the value.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span>For example, for </span
                ><span class="c16">E1 &gt; E2 &dArr; true</span
                ><span class="c4">&nbsp;to be true:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_o0m31nl305ci-1 start">
            <li class="c2 li-bullet-0">
                <span class="c16">E1 </span
                ><span>must evaluate to some number </span
                ><span class="c18 c16">n</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c16">E2 </span
                ><span>must evaluate to some number </span
                ><span class="c18 c16">m</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c16">n &gt; m</span
                ><span class="c4">&nbsp;must be true</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_o0m31nl305ci-0">
            <li class="c1 li-bullet-0">
                <span class="c4">We can write this like:</span>
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 264px;
                    height: 65.21px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image126.png"
                    style="
                        width: 264px;
                        height: 65.21px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_3dyq5uzg283y-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >So as you can see, we&rsquo;ve split up our relation into
                    smaller relations and we&rsquo;ve also got a condition along
                    with it that must hold true.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">There are other rules too, such as:</span>
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 294.63px;
                    height: 71.5px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image205.png"
                    style="
                        width: 294.63px;
                        height: 71.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 297.92px;
                    height: 62.5px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image93.png"
                    style="
                        width: 297.92px;
                        height: 62.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 305.5px;
                    height: 73.32px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image213.png"
                    style="
                        width: 305.5px;
                        height: 73.32px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_c8coffr25qy8-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >For literals, or rules that can&rsquo;t be split up any
                    further, we write:</span
                >
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 193px;
                    height: 47.06px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image253.png"
                    style="
                        width: 193px;
                        height: 47.06px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_y8a86k4bkwc7-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >To do things like substitution, we can do:</span
                >
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 348.5px;
                    height: 81.4px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image239.png"
                    style="
                        width: 348.5px;
                        height: 81.4px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_4ucr4v2ui8ww-0 start">
            <li class="c1 li-bullet-0">
                <span>Where </span><span class="c16">E</span
                ><span class="c12">2</span><span class="c16">[V/x]</span
                ><span>&nbsp;is an expression where </span
                ><span class="c16">V</span
                ><span>&nbsp;has been substituted in place of </span
                ><span class="c16">x</span><span>&nbsp;within </span
                ><span class="c16">E</span><span class="c12">2</span
                ><span class="c4">.</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_y8a86k4bkwc7-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Like type checking, we can apply this for the whole program
                    to check the semantics of a program.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_y8a86k4bkwc7-0">
            <li class="c1 li-bullet-0">
                <span class="c83">Small step</span><span>&nbsp;</span
                ><span class="c4"
                    >semantics is similar, but instead of analysing the parts
                    that make up the program, we analyse the steps the program
                    takes to go from one state to another.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span
                    >To put it in layman&rsquo;s terms, when you do the sum
                    (</span
                ><span class="c16">6 / 3) + 2</span
                ><span class="c4"
                    >, you don&rsquo;t analyse how the divide operation works,
                    then how the plus symbol works, then each number etc. do
                    you? No! You take it one step at a time and simplify the
                    whole thing until you get one number at the end.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >So if we used small step with this sum, we&rsquo;d have
                    something like:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_y8a86k4bkwc7-1 start">
            <li class="c2 li-bullet-0">
                <span class="c16 c70 c54">(6 / 3) + 2</span
                ><span class="c16">&nbsp;-&gt; </span
                ><span class="c43 c16">(2) + 2</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c16 c66">(2) + 2</span
                ><span class="c16">&nbsp; &nbsp; &nbsp;-&gt; </span
                ><span class="c73 c16 c77">2 + 2</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c16 c77">2 + 2</span
                ><span class="c16">&nbsp; &nbsp; &nbsp; &nbsp;-&gt; </span
                ><span class="c73 c16 c90 c69">4</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_y8a86k4bkwc7-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >That&rsquo;s the difference between small step and big step
                    semantics.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >By using small step, we can see more clearly how a program
                    behaves.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_y8a86k4bkwc7-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >In small step semantics, we prove that each step of the
                    computation is logically sound.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span
                    >More formally, we use an inductive relation of the form </span
                ><span class="c16">E -&gt; E&rsquo;</span
                ><span>&nbsp;where </span><span class="c16">E</span
                ><span>&nbsp;is a step in the computation and </span
                ><span class="c16">E&rsquo;</span
                ><span>&nbsp;is the next step after </span
                ><span class="c16">E</span><span class="c4">.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >There are lots of small step relations, so I&rsquo;ll
                    explain a few so you can get the general gist of it:</span
                >
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <a id="t.e86f51b0e2c41f7078ce4da29b5114d9bb80b53a"></a><a id="t.5"></a>
        <table class="c29">
            <tbody>
                <tr class="c3">
                    <td class="c142 c80" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c5">Small step relation</span>
                        </p>
                    </td>
                    <td class="c124 c80" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Explanation</span></p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c142" colspan="1" rowspan="1">
                        <p class="c8">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 213.5px;
                                    height: 84.13px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image101.png"
                                    style="
                                        width: 213.5px;
                                        height: 84.13px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c124" colspan="1" rowspan="1">
                        <p class="c8">
                            <span>Here, the program </span
                            ><span class="c16">n &lt; m</span
                            ><span
                                >&nbsp;moves to just &lsquo;true&rsquo;. The
                                only way that this can happen is if n is less
                                than m, so the predicate </span
                            ><span class="c16">n &lt; m</span
                            ><span class="c4">&nbsp;is at the top.</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c142" colspan="1" rowspan="1">
                        <p class="c8">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 221px;
                                    height: 76px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image171.png"
                                    style="
                                        width: 221px;
                                        height: 76px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c124" colspan="1" rowspan="1">
                        <p class="c8">
                            <span>Here, the program moves from </span
                            ><span class="c16">n &lt; E</span
                            ><span>&nbsp;to </span
                            ><span class="c16">n &lt; E&rsquo;</span
                            ><span
                                >. If the program is simply replacing E with
                                E&rsquo;, then that means E must be equivalent
                                to E&rsquo; in some way. Therefore, the step </span
                            ><span class="c16">E -&gt; E&rsquo;</span
                            ><span class="c4">&nbsp;is at the top.</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c142" colspan="1" rowspan="1">
                        <p class="c8">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 221px;
                                    height: 37.33px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image138.png"
                                    style="
                                        width: 221px;
                                        height: 37.33px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c124" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c4"
                                >Here, the program is moving from an if
                                statement to the program that should run if the
                                condition is true. We can see that the condition
                                is the literal &lsquo;true&rsquo;, so this
                                program makes perfect sense. There&rsquo;s no
                                need to prove anything further because
                                there&rsquo;s no ambiguity or room for doubt;
                                this is exactly what should happen.</span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_xelu5ll963i7-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Let&rsquo;s use big step and small step in an actual
                    example, so we can see them in action!</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">We have our program:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_xelu5ll963i7-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16">let (x : Int) =</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16"
                    >&nbsp;if (10 &lt; 3) then 0 else (10 + 1)</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16">in x + 42</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_xelu5ll963i7-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >The value is 53, and we want to ensure that the semantics
                    of our program is correct.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >With big step semantics, we would do this as follows:</span
                >
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 136px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image206.png"
                    style="
                        width: 602px;
                        height: 136px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_a0pi927c4owp-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >We start with the whole program and split it up until we
                    reach just literals.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">With small step, we would do this:</span>
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 286.67px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image154.png"
                    style="
                        width: 602px;
                        height: 286.67px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_ma7y881e7h3m-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >We analyse and prove each step of the computation, not each
                    term in the program.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Sometimes, we don&rsquo;t even need the proof tree:</span
                >
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 310.67px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image110.png"
                    style="
                        width: 602px;
                        height: 310.67px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_nse2inwpif36-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >As you can see, big step and small step semantics do the
                    same thing in different ways.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span>To formalise </span><span>this </span
                ><span class="c4">we first define the following:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_nse2inwpif36-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16">E &rarr;* E&rsquo;</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_nse2inwpif36-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >If and only if there exists a (possibly empty)
                    sequence:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_nse2inwpif36-1 start">
            <li class="c2 li-bullet-0">
                <span class="c16">E = E</span><span class="c12">1</span
                ><span class="c16">&nbsp;&rarr; E</span
                ><span class="c12">2</span
                ><span class="c16">&nbsp;&rarr; &hellip; &rarr; E</span
                ><span class="c12">n</span
                ><span class="c18 c16">&nbsp;= E&rsquo; </span>
            </li>
        </ul>
        <h2 class="c51" id="h.km3cd8b2bcep-2">
            <span class="c57 c58">Type safety</span>
        </h2>
        <ul class="c0 lst-kix_dblg39vevp7u-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Operational semantics sometimes isn&rsquo;t enough.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >It doesn&rsquo;t handle all ill-typed programs.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >For example, operational semantics would not fail with this
                    program:</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c18 c16"
                    >if (if (true) then false else 0) then true else 34</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Why? Because that inner if statement will always return
                    &lsquo;false&rsquo; and not &lsquo;0&rsquo; (and
                    &lsquo;0&rsquo; is not of the boolean type which is required
                    for the outer if statement), so operational semantics lets
                    this slide.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >We need some way to find out if our program is type
                    safe!</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_dblg39vevp7u-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >How can we formally declare our language as &ldquo;type
                    safe&rdquo;?</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span
                    >It must satisfy two properties: preservation and
                    progress.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Preservation</span
                ><span class="c4"
                    >: at each step of the program, the type does not
                    change</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Progress</span
                ><span class="c4">: well-typed terms never get stuck</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">Let&rsquo;s go into more detail!</span>
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_dblg39vevp7u-0">
            <li class="c1 li-bullet-0">
                <span class="c4">When we try to interpret the program:</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c18 c16"
                    >if (if (false) then false else 0) then true else 34</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span
                    >We get a type error in the inner if statement, because it
                    returns &lsquo;0&rsquo; when it should be returning a
                    boolean. This is called getting </span
                ><span class="c83">stuck</span><span class="c4">.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >It gets stuck because if you try to do small step
                    operational semantics:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_dblg39vevp7u-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16"
                    >&nbsp; &nbsp;if (if (false) then false else 0) then true
                    else 34</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16">-&gt; if (0) then true else 34</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16">-&gt; ???</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_dblg39vevp7u-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >There is no relation to continue this process, so we are
                    stuck at this step and can&rsquo;t go further.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_dblg39vevp7u-0">
            <li class="c1 li-bullet-0">
                <span class="c4">How do we avoid this?</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >In small step semantics, we can just model a run-time error
                    if we get stuck at a step and can&rsquo;t go any
                    further.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >In big step semantics, it&rsquo;s a bit trickier. If we
                    were to do while loops, or recursion, we can&rsquo;t tell
                    the difference between a stuck term and a divergent
                    term.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Therefore, we&rsquo;d need an error relation, &#8623;</span
                >
            </li>
            <li class="c1 li-bullet-0"><span class="c4">For example:</span></li>
        </ul>
        <ul class="c0 lst-kix_dblg39vevp7u-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16">if (n) then E else E&lsquo; &#8623;</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_dblg39vevp7u-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Would hold for any integer literal &lsquo;n&rsquo;</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >You&rsquo;d need all possible cases to handle all possible
                    errors, but even still, this isn&rsquo;t enough.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Big step semantics only looks at the whole program and the
                    result, not each computation along the way.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Big step can give us weak preservation, but small step can
                    give us actual preservation.</span
                >
            </li>
        </ul>
        <h3 class="c67 c56" id="h.wi4jwim157bk">
            <span class="c49">Preservation</span>
        </h3>
        <ul class="c0 lst-kix_ctls3mgvul37-0 start">
            <li class="c1 li-bullet-0">
                <span>Formally, </span><span class="c83">weak</span
                ><span class="c4">&nbsp;preservation goes like this:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_ctls3mgvul37-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16"
                    >if &#8866; E : T and E &dArr; V then &#8866; V : T</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_ctls3mgvul37-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Informally, weak preservation holds if all programs have
                    the same type as their values (5 + 5 is of type integer, it
                    evaluates to 10, which is of type integer, so weak
                    preservation holds).</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_ctls3mgvul37-0">
            <li class="c1 li-bullet-0">
                <span class="c4">Formally, preservation goes like this:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_ctls3mgvul37-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16"
                    >if &#8866; E : T and E &rarr; E&lsquo; then &#8866;
                    E&rsquo; : T</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_ctls3mgvul37-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Informally, preservation holds if each step of the
                    computation has the same type as the computation before
                    it.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_ctls3mgvul37-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Basically, preservation holds if the types don&rsquo;t
                    change. Simple, right?</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_ctls3mgvul37-0">
            <li class="c1 li-bullet-0">
                <span>How do we </span><span class="c83">prove</span
                ><span class="c4"
                    >&nbsp;preservation in our toy language? We need to do a
                    proof by induction.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_ctls3mgvul37-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Our base cases are the literals, Integer and Boolean.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >The only relations from the literals are:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_ctls3mgvul37-1 start">
            <li class="c2 li-bullet-0">
                <span class="c16"
                    >if &#8866; True : Bool and True &rarr; True then &#8866;
                    True : Bool</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c16"
                    >if &#8866; False : Bool and False &rarr; False then &#8866;
                    False : Bool</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16"
                    >if &#8866; n : Integer and n &rarr; n then &#8866; n :
                    Integer</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_ctls3mgvul37-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Which all trivially satisfy preservation, so our base cases
                    are fine.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_ctls3mgvul37-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Now for our inductive cases. We need one inductive case per
                    rule, but we&rsquo;ll just do the if statement for this
                    example.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">Our if statement is of the form:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_ctls3mgvul37-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16">if E1 then E2 else E3 : T</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16">where E1 : Bool</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16">and E2, E3 : T</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_ctls3mgvul37-0">
            <li class="c1 li-bullet-0">
                <span class="c4">There are two possible cases:</span>
            </li>
        </ul>
        <ol class="c0 lst-kix_yn3cpmfyszpv-0 start" start="1">
            <li class="c2 li-bullet-0">
                <span class="c16">E1</span
                ><span>&nbsp;is some expression and can be reduced from </span
                ><span class="c16">E1</span><span>&nbsp;to </span
                ><span class="c18 c16">E1&rsquo;</span>
            </li>
        </ol>
        <ul class="c0 lst-kix_1mecbbtlnmbi-0 start">
            <li class="c37 li-bullet-0">
                <span
                    >Remember, in this proof, we have one inductive case for
                    each rule. So whatever rule </span
                ><span class="c16">E1</span
                ><span
                    >&nbsp;falls under, we have an inductive case we can apply
                    it to, and we&rsquo;ll see that </span
                ><span class="c16">E1&rsquo;</span
                ><span
                    >&nbsp;is also a boolean. Basically, we can apply this same
                    proof to </span
                ><span class="c16">E1</span><span>&nbsp;to show that </span
                ><span class="c16">E1&rsquo;</span
                ><span class="c4">&nbsp;is also a boolean.</span>
            </li>
            <li class="c37 li-bullet-0">
                <span class="c4">This means the if statement will become:</span>
            </li>
            <li class="c37 li-bullet-0">
                <span class="c18 c16">if E1&rsquo; then E2 else E3 : T</span>
            </li>
            <li class="c37 li-bullet-0">
                <span class="c4">... and the types will still hold.</span>
            </li>
        </ul>
        <ol class="c0 lst-kix_yn3cpmfyszpv-0" start="2">
            <li class="c2 li-bullet-0">
                <span class="c16">E1</span
                ><span>&nbsp;is some literal and the expression is either </span
                ><span class="c16">E2 </span><span>or </span
                ><span class="c16">E3</span><span class="c4">.</span>
            </li>
        </ol>
        <ul class="c0 lst-kix_ogrl1fw3ncr7-0 start">
            <li class="c37 li-bullet-0">
                <span>If </span><span class="c16">E1</span
                ><span
                    >&nbsp;is some boolean literal, the expression will be
                    either </span
                ><span class="c16">E2</span><span>&nbsp;or </span
                ><span class="c16">E3</span><span class="c4">.</span>
            </li>
            <li class="c37 li-bullet-0">
                <span>But both </span><span class="c16">E2</span
                ><span>&nbsp;and </span><span class="c16">E3</span
                ><span>&nbsp;are of type </span><span class="c16">T</span
                ><span class="c4">&nbsp;anyway, so the types will hold.</span>
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_tz92dpo1365f-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >This is only for the if statement, but there are lots of
                    other inductive cases, covering all the other rules of the
                    language.</span
                >
            </li>
        </ul>
        <h3 class="c67 c56" id="h.vc1v1mq2y5h8">
            <span class="c49">Progress</span>
        </h3>
        <ul class="c0 lst-kix_ch5vx5y0wedm-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >It&rsquo;s not enough to have preservation. What if we have
                    a well-typed system that allows stuck terms?</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >For example, what if you had a lambda function, sitting on
                    its own, not being applied to anything? It&rsquo;s not a
                    value, like an integer or a boolean. We only want to compute
                    values, not terms!</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_ch5vx5y0wedm-0">
            <li class="c1 li-bullet-0">
                <span class="c4">Formally, progress means:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_ch5vx5y0wedm-1 start">
            <li class="c2 li-bullet-0">
                <span class="c16"
                    >if &#8866; E : T then either E &rarr; E&rsquo; (for some
                    E&rsquo;) or E is a value V</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_ch5vx5y0wedm-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Informally, progress means that if you have some term, you
                    must be able to perform some step towards a value or it must
                    be a value.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >When a language has progress, you can&rsquo;t have terms
                    that can&rsquo;t simplify down to values. This means, for
                    example, you can&rsquo;t have a function, on its own, that
                    isn&rsquo;t being applied to some argument.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_ch5vx5y0wedm-0">
            <li class="c1 li-bullet-0">
                <span>How do we </span><span class="c83">prove</span
                ><span class="c4"
                    >&nbsp;progress in our toy language? We&rsquo;ll use a proof
                    by induction, very similar to preservation!</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_ch5vx5y0wedm-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Our base cases are the literals, Integer and Boolean.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >If we have a literal, it trivially satisfies the theorem
                    because they&rsquo;re already values.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_ch5vx5y0wedm-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >For our inductive cases, again, we need one for each rule,
                    but we&rsquo;ll use the if statement as an example.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">Our if statement is of the form:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_ch5vx5y0wedm-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16">if E1 then E2 else E3</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_ch5vx5y0wedm-0">
            <li class="c1 li-bullet-0">
                <span class="c4">There are two possible cases:</span>
            </li>
        </ul>
        <ol class="c0 lst-kix_i7uia2t2gfcd-0 start" start="1">
            <li class="c2 li-bullet-0">
                <span class="c16">E1</span><span>&nbsp;is not a value</span>
            </li>
        </ol>
        <ul class="c0 lst-kix_1mecbbtlnmbi-0">
            <li class="c37 li-bullet-0">
                <span
                    >Like in the preservation proof, we can use the inductive
                    hypothesis of this very proof on </span
                ><span class="c16">E1</span><span>&nbsp;to show that </span
                ><span class="c16">E1</span
                ><span>&nbsp;must have some step it can simplify to, </span
                ><span class="c16">E1&rsquo;</span><span class="c4">.</span>
            </li>
            <li class="c37 li-bullet-0">
                <span class="c4">Therefore, this if statement has a step:</span>
            </li>
            <li class="c37 li-bullet-0">
                <span class="c18 c16">&nbsp; &nbsp;if E1 then E2 else E3</span>
            </li>
            <li class="c37 li-bullet-0">
                <span class="c18 c16">-&gt; if E1&rsquo; then E2 else E3</span>
            </li>
            <li class="c37 li-bullet-0">
                <span class="c4">This satisfies the theorem.</span>
            </li>
        </ul>
        <ol class="c0 lst-kix_i7uia2t2gfcd-0" start="2">
            <li class="c2 li-bullet-0">
                <span class="c16">E1</span
                ><span class="c4">&nbsp;is a value</span>
            </li>
        </ol>
        <ul class="c0 lst-kix_ogrl1fw3ncr7-0">
            <li class="c37 li-bullet-0">
                <span>If </span><span class="c16">E1</span
                ><span class="c4"
                    >&nbsp;is a value, that means this if statement has two
                    possible steps:</span
                >
            </li>
            <li class="c37 li-bullet-0">
                <span class="c18 c16"
                    >&nbsp; &nbsp;if true then E2 else E3</span
                >
            </li>
            <li class="c37 li-bullet-0">
                <span class="c18 c16">-&gt; E2</span>
            </li>
            <li class="c37 li-bullet-0"><span class="c4">or</span></li>
            <li class="c37 li-bullet-0">
                <span class="c18 c16"
                    >&nbsp; &nbsp;if false then E2 else E3</span
                >
            </li>
            <li class="c37 li-bullet-0">
                <span class="c18 c16">-&gt; E3</span>
            </li>
            <li class="c37 li-bullet-0">
                <span class="c4">This satisfies the theorem.</span>
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_vh3punb0tteq-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >As you can see, for all cases, if statements must have a
                    step. This is just one of the many inductive cases for each
                    of the language rules.</span
                >
            </li>
        </ul>
        <h1 class="c118 c56" id="h.uesjvmargad5">
            <span class="c35">Structured types</span>
        </h1>
        <h2 class="c51" id="h.gwdhn4staitl">
            <span class="c57 c58">Structured types</span>
        </h2>
        <ul class="c0 lst-kix_6hohhldid9si-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >How do we do type derivation on structured types?</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_6hohhldid9si-0">
            <li class="c1 li-bullet-0">
                <span>First of all, the </span><span class="c83">unit</span
                ><span class="c4">&nbsp;type.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >This type is really easy to understand. This type can only
                    have one value: the unit value.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span>It looks like this: </span><span class="c18 c16">()</span>
            </li>
            <li class="c1 li-bullet-0">
                <span
                    >It&rsquo;s the type of Java methods that take no
                    parameters, such as: </span
                ><span class="c18 c16">toString()</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >This also means we can thunk expressions into
                    functions.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Thunking</span
                ><span class="c4"
                    >: wrapping an expression into a function for later use, for
                    example:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_6hohhldid9si-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16"
                    >function() { console.log(&ldquo;Hello World!&rdquo;);
                    }</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_6hohhldid9si-0">
            <li class="c1 li-bullet-0"><span>as opposed to just</span></li>
        </ul>
        <ul class="c0 lst-kix_6hohhldid9si-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16"
                    >console.log(&ldquo;Hello World!&rdquo;);</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_6hohhldid9si-0">
            <li class="c1 li-bullet-0">
                <span>You can also </span><span class="c11">unthunk</span
                ><span class="c4"
                    >&nbsp;too, when you unwrap an expression from a
                    function.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">The type rule for the unit type is this:</span>
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 150px;
                    height: 75.36px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image123.png"
                    style="
                        width: 150px;
                        height: 75.36px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c50 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_apuf7nj37gzb-0 start">
            <li class="c1 li-bullet-0">
                <span>Second, we have </span
                ><span class="c83">pairs and tuples</span
                ><span class="c4">.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >We can represent the types of these using the cartesian
                    product:</span
                >
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 336.5px;
                    height: 80.98px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image229.png"
                    style="
                        width: 336.5px;
                        height: 80.98px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_u56f0ejswgpn-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4">For tuples, we just extend this:</span>
            </li>
        </ul>
        <p class="c42 c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 68px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image190.png"
                    style="
                        width: 602px;
                        height: 68px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_2nt37djadfip-0 start">
            <li class="c1 li-bullet-0">
                <span>Third, we have </span><span class="c83">destructors</span
                ><span class="c4">.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Destructor</span
                ><span class="c4"
                    >: a function which unwraps a wrapped value</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Projection</span
                ><span class="c4"
                    >: a special type of destructor which unwraps a tuple,
                    usually a pair</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span>The two projections that unwraps a pair are </span
                ><span class="c16">fst</span><span>&nbsp;and </span
                ><span class="c16">snd</span
                ><span class="c4"
                    >, which you&rsquo;ve already seen in Haskell.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">The type rules for these are:</span>
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 188px;
                    height: 76.03px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image188.png"
                    style="
                        width: 188px;
                        height: 76.03px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title="" /></span
            ><span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 183px;
                    height: 79.79px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image233.png"
                    style="
                        width: 183px;
                        height: 79.79px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_yfn6imrs12xf-0 start">
            <li class="c1 li-bullet-0">
                <span>For tuples of size </span><span class="c16">n</span
                ><span>, we need </span><span class="c16">n</span
                ><span class="c4">&nbsp;projection functions.</span>
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_qj17xsqwk30p-0 start">
            <li class="c1 li-bullet-0">
                <span>Fourth, we have </span><span class="c83">record</span
                ><span class="c4">&nbsp;types.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Record</span
                ><span class="c4"
                    >: a special type of tuple in which all the elements are
                    referenced by a label.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >C structs and Java objects are all records.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span>The destructor for records are called </span
                ><span class="c11">selections</span
                ><span class="c4">, and are written like so:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_qj17xsqwk30p-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16">[record] . [label]</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_qj17xsqwk30p-0">
            <li class="c1 li-bullet-0">
                <span class="c4">Exactly the same as Java, right?</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">The syntax goes like this:</span>
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <a id="t.bb679afbc1e309c41721669eada777d5d9972575"></a><a id="t.6"></a>
        <table class="c29">
            <tbody>
                <tr class="c3">
                    <td class="c26" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Record</span></p>
                    </td>
                    <td class="c26" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">C struct</span></p>
                    </td>
                    <td class="c26" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c5">Java object / class</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c52" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c18 c16">Student : {</span>
                        </p>
                        <p class="c8">
                            <span class="c18 c16">&nbsp; name : String,</span>
                        </p>
                        <p class="c8">
                            <span class="c18 c16">&nbsp; ID : Integer</span>
                        </p>
                        <p class="c8"><span class="c18 c16">}</span></p>
                    </td>
                    <td class="c52" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c18 c16">struct Student {</span>
                        </p>
                        <p class="c8">
                            <span class="c18 c16">&nbsp; char* name;</span>
                        </p>
                        <p class="c8">
                            <span class="c18 c16">&nbsp; int ID;</span>
                        </p>
                        <p class="c8"><span class="c18 c16">};</span></p>
                    </td>
                    <td class="c52" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c18 c16">class Student {</span>
                        </p>
                        <p class="c8">
                            <span class="c18 c16">&nbsp; String name;</span>
                        </p>
                        <p class="c8">
                            <span class="c18 c16">&nbsp; int ID;</span>
                        </p>
                        <p class="c8"><span class="c18 c16">};</span></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_qj17xsqwk30p-0">
            <li class="c1 li-bullet-0">
                <span class="c4">The type rules look like this:</span>
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <a id="t.089fc48cdb0e17a4ed200710e8480f4bacd521bc"></a><a id="t.7"></a>
        <table class="c29">
            <tbody>
                <tr class="c3">
                    <td class="c110 c80" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c5"
                                >Type rule in weird maths language</span
                            >
                        </p>
                    </td>
                    <td class="c97 c80" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c5">Type rule in English</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c110" colspan="1" rowspan="1">
                        <p class="c50">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 406px;
                                    height: 38.57px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image204.png"
                                    style="
                                        width: 406px;
                                        height: 38.57px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c97" colspan="1" rowspan="1">
                        <p class="c8">
                            <span>Each value in the record </span
                            ><span class="c16">E</span><span class="c12">i</span
                            ><span>&nbsp;has a respective type </span
                            ><span class="c16">T</span
                            ><span class="c12 c128 c130">i</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c110" colspan="1" rowspan="1">
                        <p class="c50">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 50.67px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image235.png"
                                    style="
                                        width: 286px;
                                        height: 50.67px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c97" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c4"
                                >Pretty much the same, except we use
                                selections</span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_eord3aib1xvr-0 start">
            <li class="c1 li-bullet-0">
                <span>Fifth, we have </span><span class="c83">sum</span
                ><span class="c4">&nbsp;types.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Sum</span
                ><span class="c4"
                    >: a type that can handle values of either one type or the
                    other type</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">They are written like so:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_eord3aib1xvr-1 start">
            <li class="c2 li-bullet-0"><span class="c18 c16">T + U</span></li>
        </ul>
        <ul class="c0 lst-kix_eord3aib1xvr-0">
            <li class="c1 li-bullet-0">
                <span>The constructors for this type are called </span
                ><span class="c11">injections</span><span class="c4">.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span>The two injections are called </span
                ><span class="c16">inl </span><span>and </span
                ><span class="c16">inr</span><span>, where </span
                ><span class="c16">inl </span
                ><span>states that this is a value of the left type and </span
                ><span class="c16">inr </span
                ><span class="c4"
                    >states that this is a value of the right type.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">Here are plenty of examples:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_eord3aib1xvr-1 start">
            <li class="c2 li-bullet-0">
                <span class="c16 c70 c54">inl 10</span
                ><span class="c16">&nbsp;</span><span>could be a type of</span
                ><span class="c16">&nbsp;</span
                ><span class="c16 c70 c54">Int</span
                ><span class="c18 c16">&nbsp;+ Int</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c16 c70 c54">inl true</span
                ><span class="c16">&nbsp;</span><span>could be a type of</span
                ><span class="c16">&nbsp;</span
                ><span class="c16 c70 c54">Bool</span
                ><span class="c18 c16">&nbsp;+ Int</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c16 c70 c54">inl true</span
                ><span class="c16">&nbsp;</span><span>could be a type of</span
                ><span class="c16">&nbsp;</span
                ><span class="c16 c70 c54">Bool</span
                ><span class="c18 c16">&nbsp;+ Float</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c16 c70 c54">inl 67.5</span
                ><span class="c16">&nbsp;</span><span>could be a type of</span
                ><span class="c16">&nbsp;</span
                ><span class="c16 c70 c54">Float</span
                ><span class="c18 c16">&nbsp;+ Bool</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c16 c21 c46">inr &lsquo;a&rsquo;</span
                ><span class="c16">&nbsp;</span><span>could be a type of</span
                ><span class="c16">&nbsp;Int + </span
                ><span class="c22 c16 c21">Char</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c16 c21 c46">inr 78</span
                ><span class="c16">&nbsp;</span><span>could be a type of</span
                ><span class="c16">&nbsp;String + </span
                ><span class="c22 c16 c21">Int</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c16 c21 c46">inr Nothing</span
                ><span class="c16">&nbsp;</span><span>could be a type of</span
                ><span class="c16">&nbsp;Int + </span
                ><span class="c22 c16 c21">Maybe</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c16 c21 c46">inr ()</span
                ><span class="c16">&nbsp;</span><span>could be a type of</span
                ><span class="c16">&nbsp;() + </span
                ><span class="c22 c16 c21">()</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_eord3aib1xvr-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Here are the type rules for these injections:</span
                >
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 208.5px;
                    height: 79.43px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image94.png"
                    style="
                        width: 208.5px;
                        height: 79.43px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title="" /></span
            ><span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 203.5px;
                    height: 72.3px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image161.png"
                    style="
                        width: 203.5px;
                        height: 72.3px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_j2tb9blvlxpa-0 start">
            <li class="c1 li-bullet-0">
                <span
                    >The only destructor for the sum type is pattern matching,
                    or </span
                ><span class="c16">case</span><span class="c4">:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_j2tb9blvlxpa-1 start">
            <li class="c2 li-bullet-0">
                <span class="c16"
                    >case E of inl x -&gt; E1 | inr x -&gt; E2</span
                >
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_bsaqvzxtgu0h-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >There&rsquo;s something weird about sum types.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span>They&rsquo;re not unique types. Remember that </span
                ><span class="c16">inl true</span
                ><span
                    >&nbsp;value we had above? See that it can be of type </span
                ><span class="c16">Bool + Int</span><span>, or </span
                ><span class="c16">Bool + Float</span><span>, or </span
                ><span class="c16">Bool +</span
                ><span class="c4">&nbsp;anything?</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >This is a complication for type checking. How do we get
                    around this?</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >We can have unique names for the injections based on the
                    type it&rsquo;s referring to.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span>For example, we could have </span
                ><span class="c16">inlI </span><span>for </span
                ><span class="c16">Bool + Int</span><span>, and </span
                ><span class="c16">inlF </span><span>for </span
                ><span class="c16">Bool + Float</span><span class="c4">.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span
                    >Keep in mind that sum isn&rsquo;t exclusively binary; we
                    could have lots of types, like </span
                ><span class="c16">T1 + T2 + T3 + ... + Tn</span
                ><span class="c4">.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >These special sums with uniquely named injections have a
                    name. They&rsquo;re called variants!</span
                >
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_tm916dujitvs-0 start">
            <li class="c1 li-bullet-0">
                <span>Sixth, we have </span><span class="c83">variants</span
                ><span class="c4">.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >In the same way that records are just tuples with names,
                    variants are just sums with names.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span>A variant is written as follows: </span
                ><span class="c16">&lt;l</span><span class="c12">1</span
                ><span class="c16">&nbsp;: T</span><span class="c12">1</span
                ><span class="c16">, l</span><span class="c12">2</span
                ><span class="c16">&nbsp;: T</span><span class="c12">2</span
                ><span class="c16">&nbsp;, ... , l</span
                ><span class="c12">n</span><span class="c16">&nbsp;: T</span
                ><span class="c12">n</span><span class="c18 c16">&gt;</span>
            </li>
            <li class="c1 li-bullet-0">
                <span
                    >The constructor of a variant is the injection named with
                    labels: </span
                ><span class="c16">&lt;l</span><span class="c12">i</span
                ><span class="c18 c16">&nbsp;= E&gt;</span>
            </li>
            <li class="c1 li-bullet-0">
                <span>So, with our example of </span
                ><span class="c16">Bool + Int</span><span>&nbsp;and </span
                ><span class="c16">Bool + Float</span
                ><span class="c4">, we could have:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_tm916dujitvs-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16"
                    >E1 = &lt;inlI : Bool, inrI : Int&gt;</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16"
                    >E2 = &lt;inlF : Bool, inrF : Float&gt;</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_tm916dujitvs-0">
            <li class="c1 li-bullet-0">
                <span
                    >So when we construct a type from one of these variants,
                    such as </span
                ><span class="c16">&lt;inlF = true&gt;</span
                ><span>&nbsp;or </span><span class="c16">&lt;inrI = 56&gt;</span
                ><span class="c4"
                    >, there is no ambiguity over which sum those values are
                    from, because the labels tell us so.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">The type rules look like this:</span>
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <a id="t.78b15c450725b9f5e847a2621259b9bfcbd3b672"></a><a id="t.8"></a>
        <table class="c29">
            <tbody>
                <tr class="c3">
                    <td class="c110 c80" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c5"
                                >Type rule in weird maths language</span
                            >
                        </p>
                    </td>
                    <td class="c97 c80" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c5">Type rule in English</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c110" colspan="1" rowspan="1">
                        <p class="c50">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 411px;
                                    height: 68px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image144.png"
                                    style="
                                        width: 411px;
                                        height: 68px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c97" colspan="1" rowspan="1">
                        <p class="c8">
                            <span
                                >When we construct a value from this variant,
                                the value must have the type that the
                                label&rsquo;s injection is assigned to.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c110" colspan="1" rowspan="1">
                        <p class="c50">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 411px;
                                    height: 37.33px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image244.png"
                                    style="
                                        width: 411px;
                                        height: 37.33px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c97" colspan="1" rowspan="1">
                        <p class="c8">
                            <span>When we do a pattern match, or a </span
                            ><span class="c16">case </span
                            ><span>statement, the value inside the </span
                            ><span class="c16">case</span
                            ><span
                                >&nbsp;statement must be a variant.
                                Additionally, for each &lsquo;case&rsquo; within
                                the </span
                            ><span class="c16">case</span
                            ><span
                                >&nbsp;statement, the pattern match&rsquo;s type
                                must match up with the variant&rsquo;s type (and
                                the return type of the whole </span
                            ><span class="c16">case</span
                            ><span class="c4"
                                >&nbsp;statement must match up too,
                                obviously).</span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_sj3fx5simqdu-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >This isn&rsquo;t completely perfect. For example, what if
                    we have:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_sj3fx5simqdu-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16"
                    >E1 = &lt;boolType : Bool, intType : Int&gt;</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16"
                    >E2 = &lt;boolType : Bool, floatType : Float&gt;</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_sj3fx5simqdu-0">
            <li class="c1 li-bullet-0">
                <span>Then we try and use </span
                ><span class="c16">&lt;boolType = true&gt;</span
                ><span>, which variant does this belong to? </span
                ><span class="c16">E1</span><span>&nbsp;or </span
                ><span class="c16">E2</span><span class="c4">?</span>
            </li>
            <li class="c1 li-bullet-0">
                <span
                    >Don&rsquo;t worry; there&rsquo;s no seventh type which
                    solves this! In Haskell, it uses the latest variant in which
                    this constructor is defined, so Haskell would pick </span
                ><span class="c16">E2</span><span>, assuming that </span
                ><span class="c16">E1</span
                ><span>&nbsp;was defined before </span
                ><span class="c16">E2</span><span class="c4">.</span>
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_sj3fx5simqdu-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >You may be thinking &ldquo;What&rsquo;s the point of
                    variants? Will I ever use them in a programming language?
                    No. PLC worst module&rdquo;</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span
                    >You&rsquo;ve actually been using variants this whole time,
                    in Haskell, when you use the </span
                ><span class="c16">data</span
                ><span class="c4">&nbsp;keyword!</span>
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_sj3fx5simqdu-0">
            <li class="c1 li-bullet-0">
                <span>For example, </span><span class="c11">enumerations</span
                ><span class="c4"
                    >&nbsp;are just variants with unit types:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_sj3fx5simqdu-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16"
                    >Days = &lt;Mon : (), Tues : (), Wed : (), Thu : (), Fri :
                    (), Sat : (), Sun : ()&gt;</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span>To get a &lsquo;Monday&rsquo; instance: </span
                ><span class="c18 c16">&lt;Mon = ()&gt;</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_sj3fx5simqdu-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >It&rsquo;s just that the unit types are abstracted away by
                    syntactic sugar, so you&rsquo;re left with:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_sj3fx5simqdu-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16"
                    >Days = &lt;Mon, Tues, Wed, Thu, Fri, Sat, Sun&gt;</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span>To get a &lsquo;Monday&rsquo; instance: </span
                ><span class="c18 c16">&lt;Mon&gt;</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_sj3fx5simqdu-0">
            <li class="c1 li-bullet-0"><span class="c4">Or just:</span></li>
        </ul>
        <ul class="c0 lst-kix_sj3fx5simqdu-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16"
                    >data Days = Mon | Tues | Wed | Thu | Fri | Sat | Sun</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_sj3fx5simqdu-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >You can also mix and match labels of unit type and labels
                    of non-unit type.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >This is exactly what the Maybe structure does. Maybe is
                    just a variant!</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_sj3fx5simqdu-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16"
                    >Maybe = &lt;Nothing : (), Just : a&gt;</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16">Maybe = &lt;Nothing, Just : a&gt;</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16">data Maybe = Nothing | Just a</span>
            </li>
        </ul>
        <p class="c15"><span class="c18 c16"></span></p>
        <ul class="c0 lst-kix_sj3fx5simqdu-0">
            <li class="c1 li-bullet-0">
                <span class="c4">You want another example?</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >What if I told you that the syntax of lambda calculus can
                    be modelled in one big variant?</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_sj3fx5simqdu-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16"
                    >Lambda = &lt;Value : Char, Abs : Char &times; Lambda, App :
                    Lambda &times; Lambda&gt;</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16"
                    >data Lambda = Value Char | Abs Char Lambda | App Lambda
                    Lambda</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_sj3fx5simqdu-0">
            <li class="c1 li-bullet-0">
                <span>Where </span><span class="c16">Char </span
                ><span class="c4">is used as a variable name.</span>
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_sj3fx5simqdu-0">
            <li class="c1 li-bullet-0">
                <span>What if we wanted to use </span
                ><span class="c83">pattern matching</span
                ><span class="c4">&nbsp;in our toy language?</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">We can do so like this:</span>
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 88px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image129.png"
                    style="
                        width: 602px;
                        height: 88px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_a5yjdwv3qbo4-0 start">
            <li class="c1 li-bullet-0">
                <span>Where </span><span class="c16">p</span
                ><span class="c12">i</span><span class="c16 c160">*</span
                ><span class="c16">&nbsp;</span
                ><span class="c4"
                    >just encompasses all the information about the pattern
                    matched object.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >It gets a little complicated because now we&rsquo;ll need a
                    type system for the language of patterns, but we won&rsquo;t
                    worry about that.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_a5yjdwv3qbo4-0">
            <li class="c1 li-bullet-0">
                <span>Seventh, we have </span
                ><span class="c83">lists and arrays</span
                ><span class="c4">.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span
                    >Lists are easy, we can model them like we do in Haskell,
                    with the cons operator </span
                ><span class="c18 c16">::</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >We can also model the head and tail functions:</span
                >
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 359px;
                    height: 87px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image112.png"
                    style="
                        width: 359px;
                        height: 87px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 190px;
                    height: 81px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image128.png"
                    style="
                        width: 190px;
                        height: 81px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title="" /></span
            ><span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 214px;
                    height: 81px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image182.png"
                    style="
                        width: 214px;
                        height: 81px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_r31yo11tw25o-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Arrays feel like they&rsquo;d be the same, but
                    they&rsquo;re not structural types. You can&rsquo;t build
                    them up, they have no constructor and you can&rsquo;t
                    pattern match on them.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >That won&rsquo;t stop us from modelling them, though! We
                    can treat arrays a bit like records, except the indexes are
                    labels:</span
                >
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 240.93px;
                    height: 59.5px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image162.png"
                    style="
                        width: 240.93px;
                        height: 59.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title="" /></span
            ><span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 254.5px;
                    height: 56.65px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image139.png"
                    style="
                        width: 254.5px;
                        height: 56.65px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c50 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_hi6ke3l3gfd0-0 start">
            <li class="c1 li-bullet-0">
                <span>Lastly, we have </span><span class="c83">functions</span
                ><span class="c4">.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Functions, like arrays, are not structural types. However,
                    we can still model their types.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span>We can just have </span><span class="c16">T -&gt; U</span
                ><span>, where </span><span class="c16">T</span
                ><span>&nbsp;is the parameter type and </span
                ><span class="c16">U</span
                ><span class="c4">&nbsp;is the return type.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c16">T</span><span>&nbsp;or </span
                ><span class="c16">U</span
                ><span class="c4"
                    >&nbsp;can also be a function, allowing us to have
                    higher-order functions.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">The type rule for functions is:</span>
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 360.5px;
                    height: 73.95px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image248.png"
                    style="
                        width: 360.5px;
                        height: 73.95px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_i6rahjz5200o-0 start">
            <li class="c1 li-bullet-0">
                <span>Where &ldquo;</span
                ><span class="c16">fun(x : T) -&gt; </span
                ><span class="c16">E</span><span class="c16">&rdquo;</span
                ><span>&nbsp;is the function, </span><span class="c16">x</span
                ><span>&nbsp;is the parameter and </span
                ><span class="c16">E</span
                ><span>&nbsp;is the return value.</span>
            </li>
        </ul>
        <h2 class="c51" id="h.gwdhn4staitl-3">
            <span class="c57 c58">Subtyping</span>
        </h2>
        <ul class="c0 lst-kix_y0ih2d4jjb98-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4">First of all, what is subtyping?</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Subtyping</span><span>: </span
                ><span class="c4"
                    >loosens our strict type checking and allows us to use
                    subset types.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >That sounds weird, but if you&rsquo;ve used any OOP
                    language, you&rsquo;ve done subtyping before.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_y0ih2d4jjb98-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Before we go into detail, subtyping is a property of
                    polymorphism.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Polymorphism</span
                ><span class="c4"
                    >: literally means &ldquo;many shapes&rdquo;</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">There are three kinds of polymorphism:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_y0ih2d4jjb98-1 start">
            <li class="c2 li-bullet-0">
                <span class="c11">Parametric</span
                ><span class="c4">: C++ templates, Java generics etc.</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c11">Subtype</span
                ><span class="c4">: Inheritance in OOP, duck typing</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c11">Ad Hoc</span
                ><span class="c4">: overloading functions and methods</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_y0ih2d4jjb98-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Ad hoc is boring, so we won&rsquo;t talk about that.
                    Parametric is interesting, but that&rsquo;s not why
                    we&rsquo;re here.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >This topic is all about subtype polymorphism (big
                    surprise).</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_y0ih2d4jjb98-0">
            <li class="c1 li-bullet-0">
                <span class="c4">There&rsquo;s two kinds of subtyping:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_y0ih2d4jjb98-1 start">
            <li class="c2 li-bullet-0">
                <span class="c11">Nominal</span
                ><span class="c4"
                    >: explicitly calling a type a child type of some parent
                    type. Basically inheritance in OOP.</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c11">Structural</span
                ><span
                    >: if a type has all the properties of a parent type, then
                    we can just call it a child type. Basically, that&rsquo;s
                    duck typing. &ldquo;If it looks like a duck, swims like a
                    duck, and quacks like a duck, then it probably is a
                    duck&rdquo;. T</span
                ><span>he </span
                ><span class="c31"
                    ><a
                        class="c32"
                        href="https://www.google.com/url?q=https://en.wikipedia.org/wiki/Duck_typing&amp;sa=D&amp;source=editors&amp;ust=1623676074152000&amp;usg=AOvVaw14c3BF1jkVqC6Zo-IG_K5b"
                        >wikipedia article</a
                    ></span
                ><span>&nbsp;shows a good example.</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_y0ih2d4jjb98-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >In the following examples, I will be using the types
                    &ldquo;Dog&rdquo; and &ldquo;Animal&rdquo;, where
                    &ldquo;Dog&rdquo; is a subtype of
                    &ldquo;Animal&rdquo;.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Every property of an Animal is also the property of a
                    Dog.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span>This property is called </span
                ><span class="c11">subsumption</span><span class="c4">.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >More formally, if T is a subtype of U then every value of
                    type T can also be considered as a value of type U.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">Here is the type rule for subsumption:</span>
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 264.5px;
                    height: 65.73px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image210.png"
                    style="
                        width: 264.5px;
                        height: 65.73px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_3x4cr8qfc7ad-0 start">
            <li class="c1 li-bullet-0">
                <span
                    >As you can see, we&rsquo;ve defined a new subtyping
                    relation, </span
                ><span class="c18 c16">&lt;:</span>
            </li>
            <li class="c1 li-bullet-0">
                <span>When you see </span><span class="c16">T &lt;: U</span
                ><span>, just think of it as </span
                ><span class="c16">T extends U</span
                ><span class="c4">, if that helps.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >This is applied to both structural and nominal
                    subtyping.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >But how do we define this subtyping relation? This is where
                    the differences between structural and nominal show.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_3x4cr8qfc7ad-0">
            <li class="c1 li-bullet-0">
                <span>In </span><span class="c83">nominal</span
                ><span class="c4"
                    >&nbsp;subtyping, even if two types have the exact same
                    properties, they are unique.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">In Java, for example:</span>
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <a id="t.8a3bffc95b7478c9455a518969d78c7db5bc8532"></a><a id="t.9"></a>
        <table class="c29">
            <tbody>
                <tr class="c3">
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c18 c16">class Address {</span>
                        </p>
                        <p class="c8">
                            <span class="c18 c16">&nbsp; String name;</span>
                        </p>
                        <p class="c8">
                            <span class="c18 c16">&nbsp; String address;</span>
                        </p>
                        <p class="c8"><span class="c18 c16">}</span></p>
                    </td>
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c18 c16">class Email {</span>
                        </p>
                        <p class="c8">
                            <span class="c18 c16">&nbsp; String name;</span>
                        </p>
                        <p class="c8">
                            <span class="c18 c16">&nbsp; String address;</span>
                        </p>
                        <p class="c8"><span class="c18 c16">}</span></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_e5r2i2jpo5x4-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Both Address and Email are identical in properties, but
                    because they&rsquo;ve been defined as two different types,
                    they&rsquo;re unique. A bit like twins; genetically,
                    they&rsquo;re the same, but they&rsquo;re both their own
                    person.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_e5r2i2jpo5x4-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >So how do we define the subtyping relation with nominal
                    subtyping?</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span
                    >Just like in Java, we explicitly state child and parent
                    relations with </span
                ><span class="c16">extends</span><span class="c4">.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span
                    >So we will do that with our type rule (except instead of </span
                ><span class="c16">extends</span><span>, it&rsquo;s </span
                ><span class="c16">subtypes</span><span class="c4">):</span>
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 342px;
                    height: 59.78px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image181.png"
                    style="
                        width: 342px;
                        height: 59.78px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_jzwtk5v7g3gp-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >That&rsquo;s not enough, we need to define reflexivity and
                    transitivity, too:</span
                >
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <a id="t.378276a601cb8ddc222b64ef426edd83585b9245"></a><a id="t.10"></a>
        <table class="c29">
            <tbody>
                <tr class="c3">
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 191.96px;
                                    height: 60.5px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image135.png"
                                    style="
                                        width: 191.96px;
                                        height: 60.5px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 69.33px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image148.png"
                                    style="
                                        width: 286px;
                                        height: 69.33px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c48">
                            <span class="c4"
                                >A Dog can be treated as a subtype of a
                                Dog</span
                            >
                        </p>
                    </td>
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c48">
                            <span class="c4"
                                >If a JackRussell is a Dog, and a Dog is an
                                Animal, then a JackRussell is an Animal</span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_j16rz8cq70wf-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >In Java, every type is a subtype of Object, as well, which
                    helps (except primitives).</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_j16rz8cq70wf-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >There&rsquo;s one small problem though: what if the parent
                    type is a triple and the child type is a pair?</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Which two elements does the child inherit?</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Java fixes this by only allowing classes to have
                    subtypes.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_j16rz8cq70wf-0">
            <li class="c1 li-bullet-0">
                <span>In </span><span class="c83">structural</span
                ><span class="c4"
                    >&nbsp;subtyping, everything is implicit. It relies on the
                    structure to tell if a type is a child type.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Some examples will use JavaScript, so apologies if you
                    don&rsquo;t know JS!</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">For primities, it&rsquo;s easy:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_j16rz8cq70wf-1 start">
            <li class="c2 li-bullet-0">
                <span class="c16">short &lt;: int</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16">float &lt;: double</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_j16rz8cq70wf-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Everything else is based on structure, for example a pair
                    of Dogs is also a subtype for a pair of Animals.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">Here&rsquo;s a type rule for pairs:</span>
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 343.5px;
                    height: 73.78px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image184.png"
                    style="
                        width: 343.5px;
                        height: 73.78px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_4mz7bihxz25i-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >For records, it gets a bit more complicated.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >There are three properties of record subtyping that we can
                    define:</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Depth </span
                ><span class="c4"
                    >subtyping: where the types in a record are subtypes of the
                    types in another record.</span
                >
            </li>
            <li class="c1 li-bullet-0"><span class="c4">For example:</span></li>
        </ul>
        <ul class="c0 lst-kix_dca244e0fnx3-0 start">
            <li class="c2 li-bullet-0">
                <span class="c16 c70 c54">R1 : { a : Dog, b: Cat }</span
                ><span class="c16">&nbsp;&lt;: </span
                ><span class="c22 c16 c21"
                    >R2 : { a : Animal, b : Animal }</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span>... so if you had a function </span
                ><span class="c16">f</span
                ><span>&nbsp;that expected a parameter of type</span
                ><span class="c16">&nbsp;</span
                ><span class="c16 c21 c46">R2</span
                ><span>, you could pass in a value of type </span
                ><span class="c16 c70 c54">R1</span
                ><span class="c4"
                    >&nbsp;and it&rsquo;ll work due to depth subtyping.</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_ogmdbhnvy8nl-0 start">
            <li class="c1 li-bullet-0">
                <span
                    >I wrote an example in TypeScript. It&rsquo;s a bit long, so
                    if you know TypeScript, look at the link </span
                ><span class="c31"
                    ><a
                        class="c32"
                        href="https://www.google.com/url?q=https://www.typescriptlang.org/play?%23code/PTAEBEFMDMEsDsEHNQBcAWk0E8AOkBnAWACgBjAGwEMCDQBBRAWyotAG9TRvQqlIAXKHgBXJgCNIAJwDcXHmQD2FRSKlCCqKcjkkeoJfE1SRZVIqkAKPoOFjJUgDQHlq9aGPIAlB3n7uGLAEAHQ2oAC8vPy6-jyBIUoqahEuSbJ%2BoAC%2BpNkkpJQ0dOCKKJAAHqiQ8AAmdIywLGycejziUpCQ1RpaOhmGxqbmVjZCohLSzolu3drwSM5tHV0ePXM%2BzbHcBCL4w-yTrmpeMZvxwYudKRfVJ9y5ufnUtKAAwlSooOWVNXXMrL4tbiSCgUITiRTKSBUeC3FxGLSDCzWfijewTVLTFazeagYGg3EQihQ%2BDrDL6ba7ZGQA5pY5kuLoILnSAgq4siiw%2B6kUggCAwBDINCYUDtJRSWqkIkfABKAEYUhseFRRpAAO4QEqWWUABmcACI2opVfA9fqAFJUMgAa1A0pEtHZeq8jgy4hV6reqC1AFZ9UhkNJTWgTJAvDldNySFLbQAmBUZZXCNUMP4USy%2B0AGigiSBOl2A3HulMNViWAAsfvaVSd4cjvIAKoy6NARPAzLBFPBPmV8GY6NK45ZJGQqPasLAPpayIQCIRi40CGGSC226gO13%2BKgXocpARrKmCEJ2In6o0FkJT6xMqSC%2B1UGou9CSxQQlRglNkgBqTP60Dfp8Luc747roDwkLyABCkAjmOoCKNAoDVJAuAYB4IjiKgeDIM4uCFIKCC2vKBDoKoFDVKAqoWDaQ7QaOs6EaA6A0BqSB0NC5GegQzjwIoHyXi%2BS6sNIXqbtuaR7nKXjHEAA&amp;sa=D&amp;source=editors&amp;ust=1623676074170000&amp;usg=AOvVaw35cmlSMDRs5oTBSw3L7JU1"
                        >here</a
                    ></span
                ><span>&nbsp;</span
                ><span class="c4">for a more in-depth, practical example.</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_4mz7bihxz25i-0">
            <li class="c1 li-bullet-0">
                <span class="c4">Here is a type rule for it:</span>
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 452.5px;
                    height: 57.88px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image234.png"
                    style="
                        width: 452.5px;
                        height: 57.88px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_4mz7bihxz25i-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Width </span
                ><span class="c4"
                    >subtyping: where the child type has more properties than
                    the parent type.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">JavaScript supports width subtyping.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Here&rsquo;s two examples, one with records and one with
                    JS:</span
                >
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <a id="t.0d7ce0b0c9b20d310c91d1e0e0a5b324229853f7"></a><a id="t.11"></a>
        <table class="c29">
            <tbody>
                <tr class="c3">
                    <td class="c14 c80" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Records</span></p>
                    </td>
                    <td class="c14 c80" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">JavaScript</span></p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c8"><span class="c18 c16">Dog : {</span></p>
                        <p class="c8">
                            <span class="c18 c16">&nbsp; colour : String,</span>
                        </p>
                        <p class="c8">
                            <span class="c18 c16">&nbsp; age : Int,</span>
                        </p>
                        <p class="c8">
                            <span class="c18 c16">&nbsp; breed : String</span>
                        </p>
                        <p class="c8"><span class="c18 c16">}</span></p>
                        <p class="c8"><span class="c18 c16">&lt;:</span></p>
                        <p class="c8">
                            <span class="c18 c16">Animal : {</span>
                        </p>
                        <p class="c8">
                            <span class="c18 c16">&nbsp; colour : String,</span>
                        </p>
                        <p class="c8">
                            <span class="c18 c16">&nbsp; age : Int</span>
                        </p>
                        <p class="c8"><span class="c18 c16">}</span></p>
                    </td>
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c73 c16 c9"
                                >// This function expects an animal</span
                            >
                        </p>
                        <p class="c8">
                            <span class="c18 c16"
                                >function getAge(animal) {</span
                            >
                        </p>
                        <p class="c8">
                            <span class="c18 c16"
                                >&nbsp; return animal.age;</span
                            >
                        </p>
                        <p class="c8"><span class="c18 c16">}</span></p>
                        <p class="c8 c41"><span class="c18 c16"></span></p>
                        <p class="c8">
                            <span class="c18 c16">let dog = {</span>
                        </p>
                        <p class="c8">
                            <span class="c18 c16"
                                >&nbsp; colour: &ldquo;brown&rdquo;,</span
                            >
                        </p>
                        <p class="c8">
                            <span class="c18 c16">&nbsp; age: 10,</span>
                        </p>
                        <p class="c8">
                            <span class="c18 c16"
                                >&nbsp; breed: &ldquo;Golden
                                Retriever&rdquo;</span
                            >
                        </p>
                        <p class="c8"><span class="c18 c16">};</span></p>
                        <p class="c8 c41"><span class="c18 c16"></span></p>
                        <p class="c8">
                            <span class="c16">getAge(dog); </span
                            ><span class="c73 c16 c9"
                                >// This will work because of width
                                subtyping</span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_812bulsds31o-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4">The type rule is this:</span>
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 42px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image251.png"
                    style="
                        width: 602px;
                        height: 48px;
                        margin-left: 0px;
                        margin-top: -6px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_4mz7bihxz25i-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Permuted fields</span
                ><span class="c4">: fields can be in any order</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">JavaScript also supports this.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">Here are two examples again:</span>
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <a id="t.b77ba8cf9c71a8ccc7611587a684bc9d92474da1"></a><a id="t.12"></a>
        <table class="c29">
            <tbody>
                <tr class="c3">
                    <td class="c14 c80" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Records</span></p>
                    </td>
                    <td class="c14 c80" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">JavaScript</span></p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c8"><span class="c18 c16">Dog : {</span></p>
                        <p class="c8">
                            <span class="c18 c16">&nbsp; colour : String,</span>
                        </p>
                        <p class="c8">
                            <span class="c18 c16">&nbsp; age : Int,</span>
                        </p>
                        <p class="c8">
                            <span class="c18 c16">&nbsp; breed : String</span>
                        </p>
                        <p class="c8"><span class="c18 c16">}</span></p>
                        <p class="c8"><span class="c18 c16">&lt;:</span></p>
                        <p class="c8"><span class="c18 c16">Dog : {</span></p>
                        <p class="c8">
                            <span class="c18 c16">&nbsp; breed : String,</span>
                        </p>
                        <p class="c8">
                            <span class="c18 c16">&nbsp; colour : String,</span>
                        </p>
                        <p class="c8">
                            <span class="c18 c16">&nbsp; age : Int</span>
                        </p>
                        <p class="c8"><span class="c18 c16">}</span></p>
                    </td>
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c73 c16 c9"
                                >// This function expects an animal</span
                            >
                        </p>
                        <p class="c8">
                            <span class="c18 c16"
                                >function getAge(animal) {</span
                            >
                        </p>
                        <p class="c8">
                            <span class="c18 c16"
                                >&nbsp; return animal.age;</span
                            >
                        </p>
                        <p class="c8"><span class="c18 c16">}</span></p>
                        <p class="c8 c41"><span class="c18 c16"></span></p>
                        <p class="c8">
                            <span class="c18 c16">let animal1 = {</span>
                        </p>
                        <p class="c8">
                            <span class="c18 c16"
                                >&nbsp; colour: &ldquo;brown&rdquo;,</span
                            >
                        </p>
                        <p class="c8">
                            <span class="c18 c16">&nbsp; age: 10</span>
                        </p>
                        <p class="c8"><span class="c18 c16">};</span></p>
                        <p class="c8 c41"><span class="c18 c16"></span></p>
                        <p class="c8">
                            <span class="c18 c16">let animal2 = {</span>
                        </p>
                        <p class="c8">
                            <span class="c18 c16">&nbsp; age: 4,</span>
                        </p>
                        <p class="c8">
                            <span class="c18 c16"
                                >&nbsp; colour: &ldquo;red&rdquo;</span
                            >
                        </p>
                        <p class="c8"><span class="c18 c16">};</span></p>
                        <p class="c8 c41"><span class="c18 c16"></span></p>
                        <p class="c8">
                            <span class="c16 c9"
                                >// These will both work because of this
                                subtyping rule</span
                            >
                        </p>
                        <p class="c8">
                            <span class="c18 c16">getAge(animal1);</span>
                        </p>
                        <p class="c8">
                            <span class="c16">getAge(animal2);</span>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_q6b9t6j1v2nh-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4">Here is the type rule for this:</span>
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 68px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image107.png"
                    style="
                        width: 602px;
                        height: 68px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_meobpivbr7da-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Not all languages adopt these rules, for example Java
                    doesn&rsquo;t adopt depth subtyping.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_meobpivbr7da-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Want an example of type checking with record
                    subtyping?</span
                >
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <a id="t.96a753730f58d0d9f6bf4d610e2c865c4c3843f2"></a><a id="t.13"></a>
        <table class="c29">
            <tbody>
                <tr class="c3">
                    <td class="c132" colspan="1" rowspan="1">
                        <p class="c48">
                            <span class="c62"
                                >How do we know that this is type-safe? We use
                                the type rules above!</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c123" colspan="1" rowspan="1">
                        <p class="c8">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 592.5px;
                                    height: 35.09px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image105.png"
                                    style="
                                        width: 745.73px;
                                        height: 193.84px;
                                        margin-left: -57.89px;
                                        margin-top: -158.75px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c132 c72" colspan="1" rowspan="1">
                        <p class="c48">
                            <span class="c27"
                                >We&rsquo;ll use the depth subtyping rule,
                                because the left S is a subtype of the right S
                                and the left R is a subtype of the right
                                R.</span
                            >
                        </p>
                        <p class="c48 c41"><span class="c27"></span></p>
                        <p class="c48">
                            <span class="c62"
                                >After that, we now have two terms to
                                simplify.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c123 c72" colspan="1" rowspan="1">
                        <p class="c8">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 592.5px;
                                    height: 90.63px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image106.png"
                                    style="
                                        width: 681.14px;
                                        height: 181.27px;
                                        margin-left: -12.44px;
                                        margin-top: -90.63px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c132" colspan="1" rowspan="1">
                        <p class="c48">
                            <span class="c27"
                                >We&rsquo;ll now use the width subtyping rule on
                                the right term, because the left record has one
                                extra property compared to the empty right
                                record.</span
                            >
                        </p>
                        <p class="c48 c41"><span class="c27"></span></p>
                        <p class="c48">
                            <span class="c62"
                                >This ends that branch, so now we can do the
                                left.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c123" colspan="1" rowspan="1">
                        <p class="c8">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 592.5px;
                                    height: 89.69px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image197.png"
                                    style="
                                        width: 604.93px;
                                        height: 160.06px;
                                        margin-left: -12.43px;
                                        margin-top: -70.37px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c132 c72" colspan="1" rowspan="1">
                        <p class="c48">
                            <span class="c27"
                                >Here, we can use the transitivity type rule to
                                split up the terms.</span
                            >
                        </p>
                        <p class="c48 c41"><span class="c27"></span></p>
                        <p class="c48">
                            <span class="c27"
                                >You may be thinking &ldquo;why not just use the
                                width subtyping rule?&rdquo;</span
                            >
                        </p>
                        <p class="c48 c41"><span class="c27"></span></p>
                        <p class="c48">
                            <span class="c62"
                                >The width subtyping rule only supports one
                                extra property, so we need to use the
                                transitivity rule to split up the terms until
                                the records differ by one property. Don&rsquo;t
                                worry though, it&rsquo;s not a solid rule;
                                it&rsquo;s just a formality.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c123 c72" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 591.4px;
                                    height: 132.5px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image124.png"
                                    style="
                                        width: 591.4px;
                                        height: 156.84px;
                                        margin-left: 0px;
                                        margin-top: -24.34px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c132" colspan="1" rowspan="1">
                        <p class="c48">
                            <span class="c62"
                                >Finally, we use the width subtyping rules to
                                finish the branches, since the records now
                                differ by one property.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c123" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 591.63px;
                                    height: 157.5px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image145.png"
                                    style="
                                        width: 591.63px;
                                        height: 157.5px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_uo16zm5810r3-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4">What about variants?</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >It&rsquo;s pretty much the same, except the width subtyping
                    rule is swapped.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Instead of the left having one more property than the
                    right, it&rsquo;s the right that has one more property than
                    the left!</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_uo16zm5810r3-0">
            <li class="c1 li-bullet-0">
                <span class="c4">Want an example?</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_uo16zm5810r3-1 start">
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >Let&rsquo;s just say we have our days of the week (variants
                    of the unit type):</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16"
                    >Days : {Mon, Tue, Wed, Thu, Fri, Sat, Sun}</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >But we have another variant that adds an extra day:
                    JoJoDay</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16"
                    >JDays : {Mon, Tue, Wed, Thu, Fri, Sat, Sun, JoJo}</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span>If we have a value of type </span
                ><span class="c16">Days</span
                ><span>, it&rsquo;s also a value of type </span
                ><span class="c16">JDays</span
                ><span>, because all the labels in </span
                ><span class="c16">Days </span><span>exist in </span
                ><span class="c16">JDays</span><span class="c4">.</span>
            </li>
            <li class="c2 li-bullet-0">
                <span>If we have a value of type </span
                ><span class="c16">JDays</span
                ><span>, it&rsquo;s not a value of </span
                ><span class="c16">Days</span><span>, because the label </span
                ><span class="c16">JoJo </span
                ><span>doesn&rsquo;t exist in </span
                ><span class="c16">Days</span><span class="c4">.</span>
            </li>
            <li class="c2 li-bullet-0"><span class="c4">Therefore:</span></li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16">Days &lt;: JDays</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16"
                    >{Mon, Tue, Wed, Thu, Fri, Sat, Sun} &lt;: {Mon, Tue, Wed,
                    Thu, Fri, Sat, Sun, JoJo}</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_uo16zm5810r3-0">
            <li class="c1 li-bullet-0">
                <span class="c4">Here is the type rule for that:</span>
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 50.67px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image92.png"
                    style="
                        width: 602px;
                        height: 50.67px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_12shej8lesgr-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >However, depth and permutations are the same:</span
                >
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 76px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image131.png"
                    style="
                        width: 602px;
                        height: 76px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title="" /></span
            ><span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 65.33px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image158.png"
                    style="
                        width: 602px;
                        height: 65.33px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c50 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_ko0odbb76mm8-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Do you remember when we defined subtyping for pairs?</span
                >
            </li>
            <li class="c1 li-bullet-0"><span class="c4">For example:</span></li>
        </ul>
        <ul class="c0 lst-kix_ko0odbb76mm8-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16"
                    >if T &lt;: U and V &lt;: V then T x V &lt;: U x V</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_ko0odbb76mm8-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Do you notice how the order of T and U are preserved in the
                    pair?</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span>With </span><span class="c16 c70 c54">T</span
                ><span class="c16">&nbsp;&lt;: </span
                ><span class="c16 c21 c46">U</span><span>, it&rsquo;s </span
                ><span class="c16">T</span><span>&nbsp;on the </span
                ><span class="c70 c54">left</span><span>&nbsp;and </span
                ><span class="c16">U</span><span>&nbsp;on the </span
                ><span class="c21 c46">right</span><span>. In </span
                ><span class="c16 c70 c54">T x V</span
                ><span class="c16">&nbsp;&lt;: </span
                ><span class="c16 c21 c46">U x V</span
                ><span>, it&rsquo;s still </span><span class="c16">T </span
                ><span>on the </span><span class="c70 c54">left</span
                ><span>&nbsp;and </span><span class="c16">U</span
                ><span>&nbsp;on the </span><span class="c21 c46">right</span
                ><span class="c4">.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span>This is called </span><span class="c11">covariance</span
                ><span>, and the pair type constructor is </span
                ><span class="c11">covariant</span><span class="c4">.</span>
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_ko0odbb76mm8-0">
            <li class="c1 li-bullet-0">
                <span
                    >On the other hand, let&rsquo;s define some type constructor </span
                ><span class="c16">Foo</span
                ><span
                    >&nbsp;that takes in a type and creates a new type, like </span
                ><span class="c16">Foo Int</span><span>, </span
                ><span class="c16">Foo Char</span
                ><span class="c4">&nbsp;etc.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Covariance</span><span>: If </span
                ><span class="c16">Foo</span
                ><span>&nbsp;is defined such that if </span
                ><span class="c16">T &lt;: U</span><span>, then </span
                ><span class="c16">Foo U &lt;: Foo T</span><span>, then </span
                ><span class="c16">Foo</span><span>&nbsp;would be </span
                ><span class="c11">contravariant</span><span class="c4">.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span>It&rsquo;s contravariant &nbsp;because in </span
                ><span class="c16 c70 c54">T</span
                ><span class="c16">&nbsp;&lt;: </span
                ><span class="c16 c21 c46">U</span><span>, it&rsquo;s </span
                ><span class="c16">T</span><span>&nbsp;on the </span
                ><span class="c70 c54">left</span><span>&nbsp;and </span
                ><span class="c16">U</span><span>&nbsp;on the </span
                ><span class="c21 c46">right</span><span>, but in </span
                ><span class="c16 c70 c54">Foo U</span
                ><span class="c16">&nbsp;&lt;: </span
                ><span class="c16 c21 c46">Foo T</span><span>, it&rsquo;s </span
                ><span class="c16">U</span><span>&nbsp;on the </span
                ><span class="c70 c54">left</span><span>&nbsp;and </span
                ><span class="c16">T</span><span>&nbsp;on the </span
                ><span class="c21 c46">right</span
                ><span class="c4">. They&rsquo;re swapped!</span>
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_ko0odbb76mm8-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >An example of a contravariant type constructor is a
                    function (in the argument type).</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">Here is a type rule for that:</span>
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 375.5px;
                    height: 78px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image127.png"
                    style="
                        width: 375.5px;
                        height: 78px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_206phb14j8ku-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >As you can see, it&rsquo;s covariant in the return type,
                    but contravariant in the argument type!</span
                >
            </li>
            <li class="c1 li-bullet-0"><span class="c4">Why?</span></li>
            <li class="c1 li-bullet-0">
                <span class="c4">Let&rsquo;s give this some context:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_206phb14j8ku-1 start">
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >Let&rsquo;s say we have two types now: Dog extends Animal,
                    and Guppy extends Fish.</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >Let&rsquo;s also say we have a function, f, that maps
                    Animals to Guppies.</span
                >
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 154px;
                    height: 46.01px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image247.png"
                    style="
                        width: 154px;
                        height: 46.01px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_206phb14j8ku-1">
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >We can pass in an Animal to our function f.</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >Because a Dog is an Animal, we can also pass in a Dog to
                    f.</span
                >
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 154px;
                    height: 71.37px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image157.png"
                    style="
                        width: 154px;
                        height: 71.37px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_206phb14j8ku-1">
            <li class="c2 li-bullet-0">
                <span class="c4">The function f returns a Guppy.</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >Since a Guppy is a Fish, f can also return Fish.</span
                >
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 154px;
                    height: 71.37px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image168.png"
                    style="
                        width: 154px;
                        height: 71.37px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_206phb14j8ku-1">
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >Putting this together, f can map Animals to
                    Guppies...</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_206phb14j8ku-2 start">
            <li class="c37 li-bullet-0">
                <span class="c4"
                    >... but it can also take in Dogs (which is a child
                    type)...</span
                >
            </li>
            <li class="c37 li-bullet-0">
                <span class="c4"
                    >... and it can return Fish (which is a parent type).</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_206phb14j8ku-0">
            <li class="c1 li-bullet-0">
                <span
                    >Still doesn&rsquo;t make much sense? Well, if you know
                    TypeScript, you&rsquo;re in luck! Here is an implementation
                    of this example </span
                ><span class="c31"
                    ><a
                        class="c32"
                        href="https://www.typescriptlang.org/play/#src=%2F%2F%20Defining%20the%20types%0D%0Aclass%20Animal%20%7B%0D%0A%20%20%20%20age%3A%20number%3B%0D%0A%20%20%20%20colour%3A%20string%3B%0D%0A%20%20%20%20constructor(age%3A%20number%2C%20colour%3A%20string)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.age%20%3D%20age%3B%0D%0A%20%20%20%20%20%20%20%20this.colour%20%3D%20colour%3B%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Aclass%20Dog%20extends%20Animal%20%7B%0D%0A%20%20%20%20breed%3A%20string%3B%0D%0A%20%20%20%20constructor(age%3A%20number%2C%20colour%3A%20string%2C%20breed%3A%20string)%20%7B%0D%0A%20%20%20%20%20%20%20%20super(age%2C%20colour)%3B%0D%0A%20%20%20%20%20%20%20%20this.breed%20%3D%20breed%3B%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Aclass%20Fish%20%7B%0D%0A%20%20%20%20freshWater%3A%20boolean%3B%0D%0A%20%20%20%20constructor(fresh%3A%20boolean)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.freshWater%20%3D%20fresh%3B%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Aclass%20Guppy%20extends%20Fish%20%7B%0D%0A%20%20%20%20name%3A%20string%3B%0D%0A%20%20%20%20constructor(name%3A%20string)%20%7B%0D%0A%20%20%20%20%20%20%20%20super(true)%3B%0D%0A%20%20%20%20%20%20%20%20this.name%20%3D%20name%3B%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0A%2F%2F%20Create%20our%20function%0D%0Afunction%20f(a%3A%20Animal)%3A%20Fish%20%7B%0D%0A%20%20%20%20return%20new%20Guppy(%22Joseph%20Joestar%22)%3B%0D%0A%7D%0D%0A%0D%0A%2F%2F%20We%20can%20pass%20in%20a%20Dog%2C%20because%20a%20Dog%20is%20an%20Animal%0D%0A%2F%2F%20It%20can%20also%20return%20a%20Fish%2C%20because%20a%20Guppy%20is%20a%20Fish%0D%0Alet%20fish%3A%20Fish%20%3D%20f(new%20Dog(15%2C%20%22brown%22%2C%20%22Seymour%20Asses%22))%3B%0D%0Aalert(fish.freshWater)%3B"
                        >here</a
                    ></span
                ><span class="c4">.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">Here is a Java example:</span>
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <a id="t.25f77e0ccdc96468782b707a3e0fd9162e113fc6"></a><a id="t.14"></a>
        <table class="c29">
            <tbody>
                <tr class="c3">
                    <td class="c148" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c18 c16"
                                >// note that Number is a super class of Integer
                                and Double</span
                            >
                        </p>
                        <p class="c8">
                            <span class="c18 c16"
                                >public static Number foo(Number x) {</span
                            >
                        </p>
                        <p class="c8">
                            <span class="c18 c16"
                                >&nbsp; &nbsp; &nbsp; &nbsp; return
                                x.intValue();</span
                            >
                        </p>
                        <p class="c8"><span class="c18 c16">}</span></p>
                        <p class="c8">
                            <span class="c18 c16"
                                >Number integer = foo(2.5);</span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_206phb14j8ku-0">
            <li class="c1 li-bullet-0">
                <span class="c4">List types are covariant.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >If you have a list of Dogs, you can cast it as a list of
                    Animals.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">Here is a type rule for them:</span>
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 228px;
                    height: 58.95px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image226.png"
                    style="
                        width: 228px;
                        height: 58.95px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_pr8i7w7wbdlm-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4">Arrays are weird.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Reading from an array is covariant, but writing to an array
                    is contravariant. Weird, huh?</span
                >
            </li>
            <li class="c1 li-bullet-0"><span class="c4">Why is this?</span></li>
        </ul>
        <ul class="c0 lst-kix_pr8i7w7wbdlm-1 start">
            <li class="c2 li-bullet-0">
                <span>Let&rsquo;s go back to our typing of </span
                ><span class="c18 c16">Dog extends Animal</span>
            </li>
            <li class="c2 li-bullet-0">
                <span>Let&rsquo;s say you have an array of </span
                ><span class="c16">Dogs</span><span class="c4">.</span>
            </li>
            <li class="c2 li-bullet-0">
                <span>If you were to read an element from </span
                ><span class="c16">Dogs</span
                ><span>, you could cast it as an </span
                ><span class="c16">Animal</span><span>, because a </span
                ><span class="c16">Dog</span><span>&nbsp;is an </span
                ><span class="c16">Animal</span
                ><span class="c4"
                    >. It&rsquo;s the same logic as to why lists are
                    covariant.</span
                >
            </li>
        </ul>
        <p class="c42 c56 c41 c60"><span class="c4"></span></p>
        <ul class="c0 lst-kix_pr8i7w7wbdlm-1">
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >Now let&rsquo;s try and describe writing to an array.</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span>We can&rsquo;t write an </span
                ><span class="c16">Animal</span><span>&nbsp;to the </span
                ><span class="c16">Dog</span
                ><span>&nbsp;array, because an </span
                ><span class="c16">Animal</span
                ><span>&nbsp;could be anything: a </span
                ><span class="c16">Cat</span><span>, a </span
                ><span class="c16">Bird</span><span class="c4">&nbsp;etc.</span>
            </li>
            <li class="c2 li-bullet-0">
                <span>So the only things we can write are </span
                ><span class="c16">Dogs</span><span>&nbsp;or subtypes of </span
                ><span class="c16">Dogs</span><span class="c4">.</span>
            </li>
            <li class="c2 li-bullet-0">
                <span>That is, unless </span><span class="c16">Animals</span
                ><span>&nbsp;were a subtype of </span
                ><span class="c16">Dogs</span><span>. If </span
                ><span class="c16">Animal extends Dog</span
                ><span>, then we could put </span
                ><span class="c16">Animals</span><span>&nbsp;into the </span
                ><span class="c16">Dog</span><span>&nbsp;array.</span
                ><span>&nbsp;This sounds confusing and un</span
                ><span>intuitive</span
                ><span class="c4">&nbsp;but keep reading.</span>
            </li>
            <li class="c2 li-bullet-0">
                <span
                    >To write to an array, we need to swap the positions from </span
                ><span class="c16">Dog &lt;: Animal </span><span>to </span
                ><span class="c16">Animal &lt;: Dog</span
                ><span class="c4"
                    >. Only then will writing to an array work, hence making it
                    contravariant.</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_pr8i7w7wbdlm-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >So how do we have both reading from and writing to an
                    array?</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span>We need to have </span
                ><span class="c16">Dog &lt;: Animal</span><span>&nbsp;</span
                ><span class="c45">and</span><span>&nbsp;</span
                ><span class="c16">Animal &lt;: Dog</span
                ><span class="c4">.</span>
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 310.5px;
                    height: 69.07px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image176.png"
                    style="
                        width: 310.5px;
                        height: 69.07px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_1lg4puao2aj-0 start">
            <li class="c1 li-bullet-0">
                <span
                    >Obviously, in real-life, that relationship between dogs and
                    animals does not exist, but because arrays require this
                    subtype relationship, this makes arrays </span
                ><span class="c11">invariant</span><span class="c4">.</span>
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <a id="id.kyjyd2v6l2rr"></a>
        <ul class="c0 lst-kix_1lg4puao2aj-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >However, arrays in Java are not invariant. They&rsquo;re
                    covariant. Even though it&rsquo;s more flexible, this makes
                    Java arrays not type-safe!</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c31"
                    ><a
                        class="c32"
                        href="https://www.google.com/url?q=https://ideone.com/7C6Gme&amp;sa=D&amp;source=editors&amp;ust=1623676074231000&amp;usg=AOvVaw2M8AigwIxu3o4NOSVWny75"
                        >Click here</a
                    ></span
                ><span class="c4"
                    >&nbsp;to see an example of Java arrays not being
                    type-safe.</span
                >
            </li>
        </ul>
        <h2 class="c51" id="h.gwdhn4staitl-4">
            <span class="c57 c58">Objects</span>
        </h2>
        <ul class="c0 lst-kix_8e9cxa929jqj-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Don&rsquo;t worry, there&rsquo;s nothing new in this topic.
                    We&rsquo;re going to apply what we&rsquo;ve learned to
                    formally ensure Java Jr is well-typed!</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >First of all, we need to define Java Jr through a set of
                    declarations:</span
                >
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <a id="t.05bc9c215dca62a16dde909b1a9f1a9deb80ead9"></a><a id="t.15"></a>
        <table class="c29">
            <tbody>
                <tr class="c3">
                    <td class="c80 c84" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Declaration</span></p>
                    </td>
                    <td class="c91 c80" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Explanation</span></p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c84" colspan="1" rowspan="1">
                        <p class="c8">
                            <img
                                src="assets/programming-language-concepts/image1.png"
                            />
                        </p>
                    </td>
                    <td class="c91" colspan="1" rowspan="1">
                        <p class="c8">
                            <span>The main program, called </span
                            ><img
                                src="assets/programming-language-concepts/image2.png"
                            /><span
                                >, contains a set of all the classes within the
                                program, </span
                            ><img
                                src="assets/programming-language-concepts/image3.png"
                            /><span class="c4">.</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c84" colspan="1" rowspan="1">
                        <p class="c8">
                            <img
                                src="assets/programming-language-concepts/image4.png"
                            />
                        </p>
                    </td>
                    <td class="c91" colspan="1" rowspan="1">
                        <p class="c8">
                            <span>A class, </span
                            ><img
                                src="assets/programming-language-concepts/image5.png"
                            /><span>, needs to have a name </span
                            ><img
                                src="assets/programming-language-concepts/image6.png"
                            /><span>, a parent class </span
                            ><img
                                src="assets/programming-language-concepts/image7.png"
                            /><span>, a constructor </span
                            ><img
                                src="assets/programming-language-concepts/image8.png"
                            /><span>, as well as a set of fields </span
                            ><img
                                src="assets/programming-language-concepts/image9.png"
                            /><span>&nbsp;and a set of methods </span
                            ><img
                                src="assets/programming-language-concepts/image10.png"
                            /><span class="c4">.</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c84" colspan="1" rowspan="1">
                        <p class="c8">
                            <img
                                src="assets/programming-language-concepts/image11.png"
                            />
                        </p>
                        <p class="c8">
                            <img
                                src="assets/programming-language-concepts/image12.png"
                            />
                        </p>
                        <p class="c8">
                            <img
                                src="assets/programming-language-concepts/image13.png"
                            />
                        </p>
                    </td>
                    <td class="c91" colspan="1" rowspan="1">
                        <p class="c8">
                            <span>A constructor, </span
                            ><img
                                src="assets/programming-language-concepts/image8.png"
                            /><span
                                >, needs to have the name of the class it
                                constructs, </span
                            ><img
                                src="assets/programming-language-concepts/image6.png"
                            /><span
                                >, along with the inherited properties, </span
                            ><img
                                src="assets/programming-language-concepts/image14.png"
                            /><span>, and its own properties, </span
                            ><img
                                src="assets/programming-language-concepts/image15.png"
                            /><span class="c4"
                                >, as parameters to the constructor.</span
                            >
                        </p>
                        <p class="c8 c41"><span class="c4"></span></p>
                        <p class="c8">
                            <span>It must also start with the </span
                            ><img
                                src="assets/programming-language-concepts/image16.png"
                            /><span
                                >method, along with the inherited properties as
                                the arguments, </span
                            ><img
                                src="assets/programming-language-concepts/image17.png"
                            /><span
                                >. Afterwards, the members must be assigned
                                their values as supplied by the parameters, </span
                            ><img
                                src="assets/programming-language-concepts/image18.png"
                            /><span class="c4">. </span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c84" colspan="1" rowspan="1">
                        <p class="c8">
                            <img
                                src="assets/programming-language-concepts/image19.png"
                            />
                        </p>
                    </td>
                    <td class="c91" colspan="1" rowspan="1">
                        <p class="c8">
                            <span>A field declaration, </span
                            ><img
                                src="assets/programming-language-concepts/image20.png"
                            /><span>, must have a type, </span
                            ><img
                                src="assets/programming-language-concepts/image7.png"
                            /><span>, and a name, </span
                            ><img
                                src="assets/programming-language-concepts/image21.png"
                            /><span class="c4">.</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c84" colspan="1" rowspan="1">
                        <p class="c8">
                            <img
                                src="assets/programming-language-concepts/image22.png"
                            />
                        </p>
                        <p class="c8">
                            <img
                                src="assets/programming-language-concepts/image23.png"
                            />
                        </p>
                        <p class="c8">
                            <img
                                src="assets/programming-language-concepts/image13.png"
                            />
                        </p>
                        <p class="c8 c41"><span class="c55"></span></p>
                    </td>
                    <td class="c91" colspan="1" rowspan="1">
                        <p class="c8">
                            <span>A method </span
                            ><img
                                src="assets/programming-language-concepts/image24.png"
                            /><span>&nbsp;must have a return type </span
                            ><img
                                src="assets/programming-language-concepts/image7.png"
                            /><span>, a name </span
                            ><img
                                src="assets/programming-language-concepts/image25.png"
                            /><span>, parameters </span
                            ><img
                                src="assets/programming-language-concepts/image26.png"
                            /><span>&nbsp;and a return expression </span
                            ><img
                                src="assets/programming-language-concepts/image27.png"
                            /><span class="c4"
                                >. In Java Jr, that&rsquo;s all a method can do.
                                Additionally, a method must return
                                something.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c84" colspan="1" rowspan="1">
                        <p class="c8">
                            <img
                                src="assets/programming-language-concepts/image28.png"
                            />
                        </p>
                        <p class="c8">
                            <img
                                src="assets/programming-language-concepts/image29.png"
                            />
                        </p>
                        <p class="c8">
                            <img
                                src="assets/programming-language-concepts/image30.png"
                            />
                        </p>
                        <p class="c8">
                            <img
                                src="assets/programming-language-concepts/image31.png"
                            />
                        </p>
                        <p class="c8">
                            <img
                                src="assets/programming-language-concepts/image32.png"
                            />
                        </p>
                        <p class="c8">
                            <img
                                src="assets/programming-language-concepts/image33.png"
                            />
                        </p>
                        <p class="c8">
                            <img
                                src="assets/programming-language-concepts/image34.png"
                            />
                        </p>
                    </td>
                    <td class="c91" colspan="1" rowspan="1">
                        <p class="c8">
                            <span>An expression </span
                            ><img
                                src="assets/programming-language-concepts/image27.png"
                            /><span class="c4">&nbsp;can be:</span>
                        </p>
                        <ul class="c0 lst-kix_yyj21slm1snb-0 start">
                            <li class="c8 c61 li-bullet-0">
                                <span class="c4">A literal</span>
                            </li>
                            <li class="c8 c61 li-bullet-0">
                                <span class="c4">A variable</span>
                            </li>
                            <li class="c8 c61 li-bullet-0">
                                <span class="c4">A method call</span>
                            </li>
                            <li class="c8 c61 li-bullet-0">
                                <span class="c4">A field reference</span>
                            </li>
                            <li class="c8 c61 li-bullet-0">
                                <span class="c4">A field assignment</span>
                            </li>
                            <li class="c8 c61 li-bullet-0">
                                <span class="c4">A class instantiation</span>
                            </li>
                            <li class="c8 c61 li-bullet-0">
                                <span class="c4"
                                    >A ternary expression (like an if statement,
                                    but it returns something)</span
                                >
                            </li>
                        </ul>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_lso64icgwtsq-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Java Jr is a subset of Java; you can compile Java Jr code
                    using javac and it&rsquo;ll work.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_lso64icgwtsq-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Now we&rsquo;ve defined the grammar for Java Jr,
                    let&rsquo;s give our language some context:</span
                >
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <a id="t.967ca72880feb8a4d853077ec4055d9b6eb284e7"></a><a id="t.16"></a>
        <table class="c29">
            <tbody>
                <tr class="c3">
                    <td class="c114 c80" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Rule</span></p>
                    </td>
                    <td class="c47 c80" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Explanation</span></p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c114" colspan="1" rowspan="1">
                        <p class="c8">
                            <img
                                src="assets/programming-language-concepts/image35.png"
                            />
                        </p>
                    </td>
                    <td class="c47" colspan="1" rowspan="1">
                        <p class="c8">
                            <span>The </span
                            ><img
                                src="assets/programming-language-concepts/image36.png"
                            /><span class="c4"
                                >&nbsp;function takes in a class and returns the
                                name of the class.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c114" colspan="1" rowspan="1">
                        <p class="c8">
                            <img
                                src="assets/programming-language-concepts/image37.png"
                            />
                        </p>
                    </td>
                    <td class="c47" colspan="1" rowspan="1">
                        <p class="c8">
                            <span
                                >We can only reference a class from the program </span
                            ><img
                                src="assets/programming-language-concepts/image2.png"
                            /><span>&nbsp;(remember, </span
                            ><img
                                src="assets/programming-language-concepts/image2.png"
                            /><span class="c4"
                                >&nbsp;contains a set of classes) if the field
                                name we use is the same name as the class
                                (pretty obvious).</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c114" colspan="1" rowspan="1">
                        <p class="c8">
                            <img
                                src="assets/programming-language-concepts/image38.png"
                            />
                        </p>
                    </td>
                    <td class="c47" colspan="1" rowspan="1">
                        <p class="c8">
                            <span>The </span
                            ><img
                                src="assets/programming-language-concepts/image39.png"
                            /><span class="c4"
                                >&nbsp;class has no methods (in Java it does,
                                but in Java Jr it doesn&rsquo;t).</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c114" colspan="1" rowspan="1">
                        <p class="c8">
                            <img
                                src="assets/programming-language-concepts/image40.png"
                            />
                        </p>
                        <p class="c8">
                            <img
                                src="assets/programming-language-concepts/image41.png"
                            />
                        </p>
                        <p class="c8">
                            <img
                                src="assets/programming-language-concepts/image42.png"
                            />
                        </p>
                    </td>
                    <td class="c47" colspan="1" rowspan="1">
                        <p class="c8">
                            <span>When a class </span
                            ><img
                                src="assets/programming-language-concepts/image7.png"
                            /><span>&nbsp;inherits from class </span
                            ><img
                                src="assets/programming-language-concepts/image43.png"
                            /><span>, the methods within </span
                            ><img
                                src="assets/programming-language-concepts/image7.png"
                            /><span>&nbsp;are the methods defined in </span
                            ><img
                                src="assets/programming-language-concepts/image7.png"
                            /><span
                                >&nbsp;as well as the methods defined in </span
                            ><img
                                src="assets/programming-language-concepts/image43.png"
                            /><span class="c4">.</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c114" colspan="1" rowspan="1">
                        <p class="c8">
                            <img
                                src="assets/programming-language-concepts/image44.png"
                            />
                        </p>
                    </td>
                    <td class="c47" colspan="1" rowspan="1">
                        <p class="c8">
                            <span>The </span
                            ><img
                                src="assets/programming-language-concepts/image39.png"
                            /><span class="c4">&nbsp;class has no fields.</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c114" colspan="1" rowspan="1">
                        <p class="c8">
                            <img
                                src="assets/programming-language-concepts/image45.png"
                            />
                        </p>
                        <p class="c8">
                            <img
                                src="assets/programming-language-concepts/image46.png"
                            />
                        </p>
                        <p class="c8">
                            <img
                                src="assets/programming-language-concepts/image42.png"
                            />
                        </p>
                    </td>
                    <td class="c47" colspan="1" rowspan="1">
                        <p class="c8">
                            <span>When a class </span
                            ><img
                                src="assets/programming-language-concepts/image7.png"
                            /><span>&nbsp;inherits from class </span
                            ><img
                                src="assets/programming-language-concepts/image43.png"
                            /><span>, the fields within </span
                            ><img
                                src="assets/programming-language-concepts/image7.png"
                            /><span>&nbsp;are the fields defined in </span
                            ><img
                                src="assets/programming-language-concepts/image7.png"
                            /><span
                                >&nbsp;as well as the fields defined in </span
                            ><img
                                src="assets/programming-language-concepts/image43.png"
                            /><span class="c4">.</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c114" colspan="1" rowspan="1">
                        <p class="c8">
                            <img
                                src="assets/programming-language-concepts/image47.png"
                            />
                        </p>
                    </td>
                    <td class="c47" colspan="1" rowspan="1">
                        <p class="c8">
                            <span>The </span
                            ><img
                                src="assets/programming-language-concepts/image39.png"
                            /><span class="c4"
                                >&nbsp;class has no method signatures (think of
                                them like how C declares functions).</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c114" colspan="1" rowspan="1">
                        <p class="c8">
                            <img
                                src="assets/programming-language-concepts/image48.png"
                            />
                        </p>
                        <p class="c8">
                            <img
                                src="assets/programming-language-concepts/image49.png"
                            />
                        </p>
                        <p class="c8">
                            <img
                                src="assets/programming-language-concepts/image42.png"
                            />
                        </p>
                    </td>
                    <td class="c47" colspan="1" rowspan="1">
                        <p class="c8">
                            <span
                                >When you try to reference the method signatures
                                of a class </span
                            ><img
                                src="assets/programming-language-concepts/image7.png"
                            /><span
                                >, you&rsquo;ll get all the signatures of the
                                methods of class </span
                            ><img
                                src="assets/programming-language-concepts/image7.png"
                            /><span
                                >&nbsp;as well as the signatures of the parent
                                class </span
                            ><img
                                src="assets/programming-language-concepts/image43.png"
                            /><span class="c4">.</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c114" colspan="1" rowspan="1">
                        <p class="c8">
                            <img
                                src="assets/programming-language-concepts/image50.png"
                            />
                        </p>
                    </td>
                    <td class="c47" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c4"
                                >If you try to reference the signatures of a
                                method, you&rsquo;ll just get the signature of
                                that method.</span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_4qh123f1f84q-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Phew! Well, now we&rsquo;ve fully defined Java Jr.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >If you still don&rsquo;t fully understand how Java Jr
                    works, don&rsquo;t worry. Just pretend we&rsquo;re working
                    with a watered down version of Java (which is what Java Jr
                    is). Java Jr only exists for demonstrative purposes
                    anyway.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_4qh123f1f84q-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Now we can start implementing the typing relation and
                    subtyping relation for Java Jr!</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">First of all, let&rsquo;s do the types.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >The first relations we&rsquo;ll do are base cases:</span
                >
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <a id="t.578e74d0c8b9fd5b1908925ea0d2865512974157"></a><a id="t.17"></a>
        <table class="c29">
            <tbody>
                <tr class="c3">
                    <td class="c79 c80" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c5">Typing relation</span>
                        </p>
                    </td>
                    <td class="c40 c80" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Explanation</span></p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c79" colspan="1" rowspan="1">
                        <p class="c50">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 225px;
                                    height: 42px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image196.png"
                                    style="
                                        width: 225px;
                                        height: 62px;
                                        margin-left: 0px;
                                        margin-top: -20px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c40" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c4">The Object class is a type.</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c79" colspan="1" rowspan="1">
                        <p class="c50">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 187px;
                                    height: 41.91px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image122.png"
                                    style="
                                        width: 187px;
                                        height: 41.91px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c40" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c4">The int primitive is a type.</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c79" colspan="1" rowspan="1">
                        <p class="c50">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 208.5px;
                                    height: 49.11px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image215.png"
                                    style="
                                        width: 208.5px;
                                        height: 49.11px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c40" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c4"
                                >The bool primitive is a type.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c79" colspan="1" rowspan="1">
                        <p class="c50">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 365px;
                                    height: 65.33px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image142.png"
                                    style="
                                        width: 365px;
                                        height: 65.33px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c40" colspan="1" rowspan="1">
                        <p class="c8">
                            <img
                                src="assets/programming-language-concepts/image7.png"
                            /><span
                                >&nbsp;is a type, if it&rsquo;s a class defined
                                within the program </span
                            ><img
                                src="assets/programming-language-concepts/image2.png"
                            /><span class="c4">.</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c79 c80" colspan="1" rowspan="1">
                        <p class="c42 c56">
                            <span class="c5">Subtyping relation</span>
                        </p>
                    </td>
                    <td class="c40 c80" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Explanation</span></p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c79" colspan="1" rowspan="1">
                        <p class="c50">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 175.5px;
                                    height: 88.93px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image187.png"
                                    style="
                                        width: 175.5px;
                                        height: 88.93px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c40" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c4"
                                >The reflexive rule for types. Any type can be
                                seen as a subtype of itself.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c79" colspan="1" rowspan="1">
                        <p class="c50">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 214px;
                                    height: 83.77px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image114.png"
                                    style="
                                        width: 214px;
                                        height: 83.77px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c40" colspan="1" rowspan="1">
                        <p class="c8">
                            <span>Every type is a subtype of the </span
                            ><img
                                src="assets/programming-language-concepts/image39.png"
                            /><span class="c4"
                                >&nbsp;class (in Java Jr, this includes
                                primitives, but in Java primitives are not
                                included).</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c79" colspan="1" rowspan="1">
                        <p class="c50">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 305.5px;
                                    height: 74.49px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image224.png"
                                    style="
                                        width: 305.5px;
                                        height: 74.49px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c40" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c4"
                                >The transitive rule for types. If a JackRussell
                                is a Dog, and a Dog is an Animal, then
                                JackRussell is an Animal.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c79" colspan="1" rowspan="1">
                        <p class="c50">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 365px;
                                    height: 44px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image198.png"
                                    style="
                                        width: 365px;
                                        height: 44px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c40" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c4"
                                >If a child class inherits from a parent, then
                                the child class is a subtype of the parent (yes,
                                this includes primitives as well, but not for
                                normal Java).</span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_a16ekl1h071y-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Now, let&rsquo;s make sure all of the classes themselves
                    are well-typed:</span
                >
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 338px;
                    height: 67.43px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image132.png"
                    style="
                        width: 338px;
                        height: 67.43px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_ri3l42fg9uw2-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >This means that every class in the program must be
                    well-typed.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">Here&rsquo;s syntactic sugar for this:</span>
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 166px;
                    height: 77.52px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image246.png"
                    style="
                        width: 166px;
                        height: 77.52px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_qh65najo5id0-0 start">
            <li class="c1 li-bullet-0">
                <span
                    >Personally, I don&rsquo;t like this syntax, because
                    it&rsquo;s ambiguous as to what type </span
                ><img
                    src="assets/programming-language-concepts/image3.png"
                /><span class="c4"
                    >&nbsp;is, but it means the same thing as the top one.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_qh65najo5id0-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Time to do a type rule for class definitions!</span
                >
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 86.67px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image212.png"
                    style="
                        width: 602px;
                        height: 86.67px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_xby7dx1e25zx-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >This one&rsquo;s a bit big, so let&rsquo;s split it up and
                    explain it piece by piece:</span
                >
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <a id="t.26371eb10cbd1875f274e4886835fc301592eaea"></a><a id="t.18"></a>
        <table class="c29">
            <tbody>
                <tr class="c3">
                    <td class="c127" colspan="1" rowspan="1">
                        <p class="c48">
                            <span class="c4"
                                >This bit states that the parent class must be
                                some valid type. Simple enough.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c89" colspan="1" rowspan="1">
                        <p class="c8">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 587px;
                                    height: 85.04px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image241.png"
                                    style="
                                        width: 587px;
                                        height: 85.04px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c72 c127" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                >This bit states that the new fields that </span
                            ><img
                                src="assets/programming-language-concepts/image6.png"
                            /><span class="c4"
                                >&nbsp;introduces must also have valid
                                types.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c59" colspan="1" rowspan="1">
                        <p class="c8">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 587px;
                                    height: 85.04px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image174.png"
                                    style="
                                        width: 587px;
                                        height: 85.04px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c127" colspan="1" rowspan="1">
                        <p class="c48">
                            <span>This bit states that all the methods in </span
                            ><img
                                src="assets/programming-language-concepts/image6.png"
                            /><span class="c4">&nbsp;must be valid.</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c89" colspan="1" rowspan="1">
                        <p class="c8">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 587px;
                                    height: 85.04px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image165.png"
                                    style="
                                        width: 587px;
                                        height: 85.04px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c127 c72" colspan="1" rowspan="1">
                        <p class="c48">
                            <span class="c4"
                                >This bit states that all the signatures in the
                                parent class must also exist in the child class.
                                The child class doesn&rsquo;t have to override
                                them, but the method signatures should still
                                exist.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c59" colspan="1" rowspan="1">
                        <p class="c8">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 587px;
                                    height: 85.04px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image150.png"
                                    style="
                                        width: 587px;
                                        height: 85.04px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c127" colspan="1" rowspan="1">
                        <p class="c48">
                            <span class="c4"
                                >This bit states that all of the fields in the
                                parent class must be covered by the
                                constructor.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c89" colspan="1" rowspan="1">
                        <p class="c8">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 587px;
                                    height: 85.04px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image119.png"
                                    style="
                                        width: 587px;
                                        height: 85.04px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_x9pvf4uwhxwc-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Now we&rsquo;ve done it for classes, let&rsquo;s do the
                    same for methods!</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >The type rule for an entire method is as follows:</span
                >
            </li>
        </ul>
        <p class="c42 c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 72px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image203.png"
                    style="
                        width: 602px;
                        height: 72px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_put0m7ow6h8s-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >This is still big and weird, so let&rsquo;s split it up
                    again.</span
                >
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <a id="t.bb56ffe7ed29b2d117876b2536ef581b6cce2ce1"></a><a id="t.19"></a>
        <table class="c29">
            <tbody>
                <tr class="c3">
                    <td class="c127" colspan="1" rowspan="1">
                        <p class="c48">
                            <span class="c4"
                                >This bit states that the return type must be a
                                well-typed type.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c89" colspan="1" rowspan="1">
                        <p class="c8">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 587px;
                                    height: 71.46px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image117.png"
                                    style="
                                        width: 587px;
                                        height: 71.46px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c127 c72" colspan="1" rowspan="1">
                        <p class="c48">
                            <span class="c4"
                                >This bit states that the parameters types must
                                be well-typed.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c59" colspan="1" rowspan="1">
                        <p class="c8">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 587px;
                                    height: 71.46px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image116.png"
                                    style="
                                        width: 587px;
                                        height: 71.46px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c127" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                >This bit states that the return expression is
                                of the correct type. Since the parameters will
                                be used in </span
                            ><img
                                src="assets/programming-language-concepts/image27.png"
                            /><span
                                >, it has been added to the type environment, as
                                well as the </span
                            ><img
                                src="assets/programming-language-concepts/image51.png"
                            /><span class="c4">&nbsp;keyword.</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c89" colspan="1" rowspan="1">
                        <p class="c8">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 587px;
                                    height: 71.46px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image118.png"
                                    style="
                                        width: 587px;
                                        height: 71.46px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_50967fatkbwm-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Now that we&rsquo;ve done classes and methods, we can do
                    expressions.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span
                    >When we do expressions, we&rsquo;ll need a type
                    environment, because expressions can contain free variables,
                    so we&rsquo;ll need to bring back our friend </span
                ><img
                    src="assets/programming-language-concepts/image52.png"
                /><span class="c4">:</span>
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <a id="t.48ae833987945d11ee9a9af68c0d404a49759d45"></a><a id="t.20"></a>
        <table class="c29">
            <tbody>
                <tr class="c3">
                    <td class="c68 c80" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c5">Typing relation</span>
                        </p>
                    </td>
                    <td class="c38 c80" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Explanation</span></p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c68" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 195px;
                                    height: 46.97px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image109.png"
                                    style="
                                        width: 195px;
                                        height: 46.97px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c38" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c27"
                                >This is just an integer literal. Nothing
                                special here.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c68" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 186px;
                                    height: 38.39px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image193.png"
                                    style="
                                        width: 186px;
                                        height: 38.39px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c38" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c27"
                                >Again, it&rsquo;s just a boolean literal.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c68" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 150px;
                                    height: 69.71px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image218.png"
                                    style="
                                        width: 150px;
                                        height: 69.71px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c38" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c27"
                                >We can reference a variable only if it exists
                                in the type environment with the correct
                                type.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c68" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 371.5px;
                                    height: 49.6px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image172.png"
                                    style="
                                        width: 371.5px;
                                        height: 49.6px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c38" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c27"
                                >When we instantiate an instance of a class, we
                                must ensure that:</span
                            >
                        </p>
                        <ol class="c0 lst-kix_cgmcb74yzksd-0 start" start="1">
                            <li class="c8 c61 li-bullet-0">
                                <span class="c27"
                                    >The class exists and is well-typed</span
                                >
                            </li>
                            <li class="c8 c61 li-bullet-0">
                                <span class="c27"
                                    >All of the fields of the class are provided
                                    in the constructor call, including inherited
                                    fields (because in Java Jr, the constructor
                                    initialises every field in a class)</span
                                >
                            </li>
                        </ol>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c68" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 365px;
                                    height: 33.65px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image141.png"
                                    style="
                                        width: 365px;
                                        height: 33.65px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c38" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c27"
                                >When we use a ternary operator, the two
                                expressions being compared must be of the same
                                type.</span
                            >
                        </p>
                        <p class="c8 c41"><span class="c27"></span></p>
                        <p class="c8">
                            <span class="c27"
                                >Additionally, the two expressions that may be
                                returned must be of the same type as the entire
                                expression.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c68" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 373px;
                                    height: 65.33px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image104.png"
                                    style="
                                        width: 373px;
                                        height: 65.33px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c38" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c27"
                                >When we reference a field from an object, that
                                field must have the same type as the expression,
                                and the field has to exist in that class.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c68" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 373px;
                                    height: 45.33px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image228.png"
                                    style="
                                        width: 373px;
                                        height: 45.33px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c38" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c27"
                                >When we assign a value to a field, it&rsquo;s
                                pretty much the same as the above, but the new
                                value must be the same type as the field
                                we&rsquo;re putting it into.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c68" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 373px;
                                    height: 44px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image151.png"
                                    style="
                                        width: 373px;
                                        height: 44px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c38" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c27"
                                >When we run a method call, the method must
                                exist as one of the class&rsquo; method
                                signatures.
                            </span>
                        </p>
                        <p class="c8 c41"><span class="c27"></span></p>
                        <p class="c8">
                            <span class="c27"
                                >Additionally, the expressions we&rsquo;re
                                passing in as arguments must be well-typed and
                                be the same types as the parameters the method
                                expects in the method signature.</span
                            >
                        </p>
                        <p class="c8 c41"><span class="c27"></span></p>
                        <p class="c8">
                            <span class="c27"
                                >Lastly, the type of the method must be the same
                                as the type of the method call.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c68" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 373px;
                                    height: 78.67px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image149.png"
                                    style="
                                        width: 373px;
                                        height: 78.67px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c38" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c27"
                                >This rule lets us use subtyping in Java Jr.
                                Instead of integrating it inside other rules, we
                                can use the subtyping rule separately, then any
                                other rule of our choice.</span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_vpnl5rteb2w8-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >There&rsquo;s extra things we can do to, for example:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_vpnl5rteb2w8-1 start">
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >We can have references by modelling a heap.</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >We can have null pointers by adding null to the
                    grammar.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_vpnl5rteb2w8-0">
            <li class="c1 li-bullet-0">
                <span class="c4">What about type-casting?</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">Well, we could do this:</span>
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 255px;
                    height: 75.59px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image155.png"
                    style="
                        width: 255px;
                        height: 75.59px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_mo3mrc4uoqu-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >But this means E could be any type, and it can be cast as
                    c.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Usually, formalisations of Java use this rule:</span
                >
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 74.67px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image156.png"
                    style="
                        width: 602px;
                        height: 74.67px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_jdn48p83sly1-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >But with this, we get &ldquo;stupid&rdquo; casts. Any two
                    classes A and B can be type-casted, because we can treat B
                    like the type Object, then Object can get casted up to
                    A.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >The way I would solve this, which is what Java actually
                    does, is to only allow casts from children classes to parent
                    classes, like this:</span
                >
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 77.33px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image143.png"
                    style="
                        width: 602px;
                        height: 77.33px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_iqoripspggn8-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >After all, if you had an instance of Dog, you can&rsquo;t
                    cast it up to a JackRussell, because there&rsquo;d be
                    missing information. However if you have a Dog, you have
                    enough information to abstract that object into an
                    Animal.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c31"
                    ><a
                        class="c32"
                        href="https://www.google.com/url?q=https://ideone.com/7w88oE&amp;sa=D&amp;source=editors&amp;ust=1623676074302000&amp;usg=AOvVaw2hPvBkxOv1eLb9miAYVY1j"
                        >Here</a
                    ></span
                ><span class="c4"
                    >&nbsp;is a practical example of this in Java.</span
                >
            </li>
        </ul>
        <h2 class="c51" id="h.gwdhn4staitl-5">
            <span class="c57 c58">Lambda calculus and Curry Howard</span>
        </h2>
        <ul class="c0 lst-kix_kmzsstxnvyh5-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4">Do you remember lambda calculus?</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >If you failed Programming III, let me remind you:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_kmzsstxnvyh5-1 start">
            <li class="c2 li-bullet-0">
                <span class="c4">The grammar is simply:</span>
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 242.5px;
                    height: 29.39px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image223.png"
                    style="
                        width: 242.5px;
                        height: 29.39px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 160px;
                    height: 27.7px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image175.png"
                    style="
                        width: 160px;
                        height: 27.7px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_pogjgug01xv4-0 start">
            <li class="c1 li-bullet-0">
                <span>Application associates to the left (it goes </span
                ><span class="c16">(E1 E2) E3</span><span>, not </span
                ><span class="c16">E1 (E2 E3)</span><span class="c4">)</span>
            </li>
            <li class="c1 li-bullet-0">
                <span
                    >Lambda abstractions associate as far to the right as
                    possible (it&rsquo;s </span
                ><span class="c16">&lambda;x.(&lambda;y.x y)</span
                ><span>, not </span
                ><span class="c16">&lambda;x.(&lambda;y.x) y</span
                ><span class="c4">)</span>
            </li>
            <li class="c1 li-bullet-0">
                <span>A variable </span><span class="c16">x</span
                ><span>&nbsp;is bound in </span><span class="c16">E</span
                ><span>&nbsp;if </span><span class="c18 c16">&lambda;x.E</span>
            </li>
            <li class="c1 li-bullet-0">
                <span
                    >A variable is free if it&rsquo;s not in the scope of the
                    abstraction binding, like </span
                ><span class="c18 c16">&lambda;x.y</span>
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_a52i397fwcp8-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >There are also big step and small step semantics with
                    lambda calculus:</span
                >
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <a id="t.8450d636aeca56047caa3477a3b301985d27710b"></a><a id="t.21"></a>
        <table class="c29">
            <tbody>
                <tr class="c3">
                    <td class="c76 c72" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Big step rule</span></p>
                    </td>
                    <td class="c74 c72" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Explanation</span></p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c76" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 175.5px;
                                    height: 48.23px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image164.png"
                                    style="
                                        width: 175.5px;
                                        height: 48.23px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c74" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c4"
                                >If you have a function on its own, it
                                can&rsquo;t be simplified any further.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c76" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 350px;
                                    height: 56px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image130.png"
                                    style="
                                        width: 350px;
                                        height: 56px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c74" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c4"
                                >If you have an application, the left must
                                simplify to a function, the right must simplify
                                to some value, and when you substitute the
                                argument into the function body, the resulting
                                expression must match up with the expected
                                value.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c76 c72" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c5">Small step rule</span>
                        </p>
                    </td>
                    <td class="c74 c72" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Explanation</span></p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c76" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 285.5px;
                                    height: 49.76px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image225.png"
                                    style="
                                        width: 285.5px;
                                        height: 49.76px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c74" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c4"
                                >When you do function application, and you
                                substitute the argument for the parameter,
                                everything is fine. That&rsquo;s normal
                                behaviour.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c76" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 204px;
                                    height: 79.59px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image167.png"
                                    style="
                                        width: 204px;
                                        height: 79.59px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c74" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c4"
                                >If you have a function application, but the LHS
                                can be reduced first, then do that.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c76" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 181.5px;
                                    height: 81.76px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image100.png"
                                    style="
                                        width: 181.5px;
                                        height: 81.76px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c74" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c4"
                                >If you have a function application, the LHS is
                                a value and the RHS can be simplified, then do
                                that.</span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_29ks7otplr4r-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Also, here&rsquo;s the substitution rules from Programming
                    III:</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c18 c16">x [V/x] = V</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c18 c16">y [V/x] = y if x &ne; y</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c18 c16"
                    >(&lambda;y . E) [V/x] = &lambda;y . (E[V/x]) if x &ne; y
                    and y &notin; free-vars(V)</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c18 c16"
                    >(&lambda;x . E) [V/x] = &lambda;x . E</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c18 c16">(E1 E2) [V/x] = (E1[V/x]) (E2[V/x])</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Alpha equivalence defines this. What is alpha
                    equivalence?</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span
                    >Formally, it&rsquo;s the least equivalence relation
                    containing </span
                ><span class="c18 c16"
                    >(&lambda;x . E) &sim; (&lambda;y . E[y/x])</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Informally, two terms are alpha equivalent if they mean
                    exactly the same thing, but the bound variables just have
                    different names.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">For example, in Haskell:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_29ks7otplr4r-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16">addNums x y = x + y</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16">addNums a b = a + b</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_29ks7otplr4r-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >These two functions are alpha equivalent because they both
                    mean the same thing, it&rsquo;s just that the bound variable
                    names are different.</span
                >
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_7gtgv78z0b9t-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Lambda calculus has no stuck closed terms.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Every closed term is either an application (function call)
                    or an abstraction (a function).</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >A function by itself is obviously not stuck, because it
                    doesn&rsquo;t do anything.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >With a function application, the left part must either be a
                    function or reduce towards a function. The right part can be
                    anything. If both parts are fully reduced, substitution can
                    happen, so therefore, a function application must always
                    have a reduction.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_7gtgv78z0b9t-0">
            <li class="c1 li-bullet-0">
                <span class="c4">Not all terms reduce to a value, though.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">This will keep on looping forever:</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c18 c16"
                    >&Omega; = (&lambda;x . x x) (&lambda;x . x x)</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >If you follow it through, you can see why.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span>The function </span
                ><span class="c16">(&lambda;x . x x)</span
                ><span
                    >&nbsp;takes something and applies it to itself. So if we
                    pass in </span
                ><span class="c16">(&lambda;x . x x)</span><span>, we get </span
                ><span class="c16">(&lambda;x . x x) (&lambda;x . x x)</span
                ><span class="c4"
                    >, which is the same as what we had in the beginning.
                    We&rsquo;re in an endless loop!</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_7gtgv78z0b9t-0">
            <li class="c1 li-bullet-0">
                <span class="c16">&Omega;</span
                ><span class="c4"
                    >&nbsp;only works in untyped lambda calculus; in order
                    words, forms of lambda calculus where types aren&rsquo;t
                    checked, where we don&rsquo;t care about the types.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c16">&Omega;</span
                ><span class="c4"
                    >&nbsp;doesn&rsquo;t work in any typed language. If you
                    tried to do this in Haskell, or Java, you&rsquo;d quickly
                    find out you can&rsquo;t!</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >If we were to do denotational semantics in lambda
                    calculus...</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_7gtgv78z0b9t-1 start">
            <li class="c2 li-bullet-0">
                <span class="c4">What would the semantic domain be?</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >Well, everything is a function in lambda calculus, so we
                    could have the domain D for them</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >But functions map things, so we need a domain D &rarr;
                    D</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span
                    >So with D &rarr; D, we can pass in and return functions.
                    But D </span
                ><span class="c11">is</span
                ><span class="c4"
                    >&nbsp;the set of functions, so D and D &rarr; D needs to be
                    the same!</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >We need some structure that is equal to (or at least
                    isomorphic, meaning there needs to exist a one-to-one
                    mapping/relationship between them) to its own function
                    space.</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >Huh? What does that even mean? Don&rsquo;t worry too much
                    about it. In essence D is a partial order-like structure
                    with certain extra properties (yeah, I&rsquo;m not too sure
                    either).</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_7gtgv78z0b9t-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >We don&rsquo;t wanna get into the complications of untyped
                    lambda calculus. Sod that!</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Since our toy language has types, supports some form of
                    lambda calculus and we&rsquo;ve already proven that
                    it&rsquo;s type safe, we can use that.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_7gtgv78z0b9t-0">
            <li class="c1 li-bullet-0">
                <span>A property of some languages is </span
                ><span class="c11">termination</span><span class="c4">.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >A language has termination if, for every well-typed term,
                    it does not loop. No loops and no recursion!</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">This exists in our toy language.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >The proof is very tricky, so only do it if:</span
                >
            </li>
        </ul>
        <ol class="c0 lst-kix_m8ubjninfizo-0 start" start="1">
            <li class="c2 li-bullet-0">
                <span class="c4">Your name is Dr Julian Rathke</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >You really have nothing to do with your life</span
                >
            </li>
        </ol>
        <ul class="c0 lst-kix_rezhnguf625j-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >So if your life has no purpose (or if Julian really is
                    using my notes &#x1f60a;) then feel free to look for
                    &ldquo;Benjamin Pierce, Types and Programming Languages,
                    Chapter 12.1&rdquo;.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_rezhnguf625j-0">
            <li class="c1 li-bullet-0">
                <span>Another property for a language is </span
                ><span class="c11">determinism</span><span class="c4">.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span>A language is deterministic if, for every term </span
                ><span class="c16">E</span
                ><span
                    >&nbsp;that can be reduced, there is at most one other term </span
                ><span class="c16">E&rsquo;</span><span>&nbsp;such that </span
                ><span class="c16">E &rarr; E&rsquo;</span
                ><span class="c4">.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span>Another way to say it is, if </span
                ><span class="c16">E &rarr; E&rsquo;</span
                ><span>&nbsp;and </span
                ><span class="c16">E &rarr; E&rsquo;&rsquo;</span
                ><span>, then </span
                ><span class="c16">E&rsquo; = E&rsquo;&rsquo;</span
                ><span class="c4">.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Basically, it means that if there&rsquo;s a term to reduce,
                    it can only reduce to one other term; there&rsquo;s no
                    choice of many terms to reduce to.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">For example, with the line:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_rezhnguf625j-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16">var x = 5 + 6;</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_rezhnguf625j-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >There&rsquo;s no other reduction available, it has to
                    reduce to:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_rezhnguf625j-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16">var x = 11;</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_rezhnguf625j-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >That&rsquo;s what makes a language deterministic!</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Lambda calculus and the toy language are both
                    deterministic.</span
                >
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_eovdqe115rd8-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >OK, so now we&rsquo;re not using lambda calculus anymore.
                    We&rsquo;re using the toy language.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >But now we&rsquo;re not Turing complete anymore!</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">Lambda calculus is Turing complete.</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_eovdqe115rd8-1 start">
            <li class="c2 li-bullet-0">
                <span class="c4">Why? Because of:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_eovdqe115rd8-2 start">
            <li class="c37 li-bullet-0">
                <span class="c4"
                    >Church encodings: encodes natural numbers in lambda
                    calculus</span
                >
            </li>
            <li class="c37 li-bullet-0">
                <span class="c4">Fixed-point combinator: allows recursion</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_eovdqe115rd8-0">
            <li class="c1 li-bullet-0">
                <span class="c4">Toy language is not Turing complete.</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_eovdqe115rd8-1 start">
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >Why? Because it has the termination property; everything
                    terminates! There&rsquo;s no looping!</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_eovdqe115rd8-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Alright, so if we explicitly introduced recursion into the
                    toy language, it&rsquo;ll be able to loop. Would that make
                    it Turing complete?</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">Yes. But how do we do that?</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >The same way lambda calculus does it: the fixed-point
                    combinator (or the Y combinator)</span
                >
            </li>
        </ul>
        <h3 class="c67 c56" id="h.jxjlu6hx244m">
            <span class="c49">Fixed-point combinator</span>
        </h3>
        <ul class="c0 lst-kix_eovdqe115rd8-0">
            <li class="c1 li-bullet-0">
                <span class="c4">Are you sitting comfortably?</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Good. Because what I&rsquo;m about to explain is probably
                    one of the most mind-blowing ideas about recursion.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Are you ready? If you are, continue reading to learn about
                    the fixed-point combinator.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >First of all, what is the fixed-point combinator?
                    It&rsquo;s better if you see it than if I were to explain
                    it:</span
                >
            </li>
        </ul>
        <p class="c50">
            <span class="c16 c70 c54 c98">fix f</span
            ><span class="c16 c98">&nbsp;= f (</span
            ><span class="c16 c70 c54 c98">fix f</span
            ><span class="c71 c16 c98">)</span>
        </p>
        <ul class="c0 lst-kix_u1i2uf16mhl7-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >At first, this might seem so simple that it&rsquo;s
                    complicated. It&rsquo;s basically a function that takes in
                    any function, and then applies it to an application of
                    itself applied to the argument.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">You may be thinking:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_u1i2uf16mhl7-1 start">
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >&ldquo;How does this give the toy language the ability to
                    recurse?&rdquo;</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_u1i2uf16mhl7-0">
            <li class="c1 li-bullet-0">
                <span>Surprisingly, this </span><span class="c16">fix</span
                ><span class="c4"
                    >&nbsp;function can make a non-recursive function
                    recursive.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span
                    >So, theoretically, we only need one hard-coded recursive
                    function, and the rest can build up from </span
                ><span class="c16">fix</span><span class="c4">.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span
                    >To fully understand, let me give you a few applications of
                    the </span
                ><span class="c16">fix</span
                ><span class="c4">&nbsp;function.</span>
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_u1i2uf16mhl7-0">
            <li class="c1 li-bullet-0">
                <span class="c4">We can create this in Haskell:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_u1i2uf16mhl7-1 start">
            <li class="c2 li-bullet-0">
                <span class="c16">fix</span><span class="c16">&nbsp;</span
                ><span class="c92 c11">::</span><span class="c16">&nbsp;</span
                ><span class="c16">(a</span><span class="c16">&nbsp;</span
                ><span class="c92 c11">-&gt;</span
                ><span class="c16">&nbsp;</span><span class="c16">a)</span
                ><span class="c16">&nbsp;</span
                ><span class="c92 c11">-&gt;</span
                ><span class="c16">&nbsp;</span><span class="c16">a</span>
            </li>
            <li class="c56 c60 c99 li-bullet-0">
                <span class="c16">fix</span><span class="c16">&nbsp;</span
                ><span class="c16">f</span><span class="c16">&nbsp;</span
                ><span class="c11 c92">=</span><span class="c16">&nbsp;</span
                ><span class="c16">f</span><span class="c16">&nbsp;</span
                ><span class="c16">(fix</span><span class="c16">&nbsp;</span
                ><span class="c18 c16">f)</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_u1i2uf16mhl7-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Great! What happens if we pass functions into this?</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_u1i2uf16mhl7-1 start">
            <li class="c2 li-bullet-0">
                <span class="c73 c16 c70 c54">fix (\x -&gt; 9)</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c16">(\x -&gt; 9) (</span
                ><span class="c16 c70 c54">fix (\x -&gt; 9)</span
                ><span class="c18 c16">)</span>
            </li>
            <li class="c2 li-bullet-0"><span class="c16">9</span></li>
        </ul>
        <ul class="c0 lst-kix_u1i2uf16mhl7-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Alright, so when we pass in a function that returns 9,
                    it&rsquo;ll just return 9. Let&rsquo;s try something a
                    little more complex:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_u1i2uf16mhl7-1 start">
            <li class="c2 li-bullet-0">
                <span class="c101 c16 c70 c62 c54">fix (\x -&gt; 3 : x)</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c16 c62">(</span
                ><span class="c10">\x -&gt; 3 : x</span
                ><span class="c16 c62">) (</span
                ><span class="c16 c70 c62 c54">fix (\x -&gt; 3 : x</span
                ><span class="c16 c62">)</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c16 c62">(</span
                ><span class="c16 c62 c90 c69">\x -&gt; 3 : x</span
                ><span class="c16 c62">) ((</span
                ><span class="c10">\x -&gt; 3 : x</span
                ><span class="c16 c62">) (</span
                ><span class="c16 c70 c62 c54">fix (\x -&gt; 3 : x)</span
                ><span class="c16 c62">)</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c16 c62">(</span
                ><span class="c16 c77 c62">\x -&gt; 3 : x</span
                ><span class="c16 c62">) ((</span
                ><span class="c16 c62 c90 c69">\x -&gt; 3 : x</span
                ><span class="c16 c62">) ((</span
                ><span class="c10">\x -&gt; 3 : x</span
                ><span class="c16 c62">) (</span
                ><span class="c16 c70 c62 c54">fix (\x -&gt; 3 : x)</span
                ><span class="c71 c16 c62">)))</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_u1i2uf16mhl7-0">
            <li class="c1 li-bullet-0">
                <span
                    >This could go on for a while, so let&rsquo;s try
                    simplifying it now:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_u1i2uf16mhl7-1 start">
            <li class="c2 li-bullet-0">
                <span class="c16 c62">(</span
                ><span class="c16 c77 c62">\x -&gt; 3 : x</span
                ><span class="c16 c62">) ((</span
                ><span class="c16 c62 c90 c69">\x -&gt; 3 : x</span
                ><span class="c16 c62">) ((</span
                ><span class="c10">\x -&gt; 3 : x</span
                ><span class="c16 c62">) (</span
                ><span class="c16 c70 c62 c54">fix (\x -&gt; 3 : x)</span
                ><span class="c71 c16 c62">)))</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c16 c62">3 : ((</span
                ><span class="c16 c62 c90 c69">\x -&gt; 3 : x</span
                ><span class="c16 c62">) ((</span
                ><span class="c10">\x -&gt; 3 : x</span
                ><span class="c16 c62">) (</span
                ><span class="c16 c70 c62 c54">fix (\x -&gt; 3 : x)</span
                ><span class="c71 c16 c62">))</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c16 c62">3 : 3 : ((</span
                ><span class="c10">\x -&gt; 3 : x</span
                ><span class="c16 c62">) (</span
                ><span class="c16 c70 c62 c54">fix (\x -&gt; 3 : x)</span
                ><span class="c71 c16 c62">))</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c16 c62">3 : 3 : 3 : (</span
                ><span class="c16 c70 c62 c54">fix (\x -&gt; 3 : x)</span
                ><span class="c71 c16 c62">)</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_u1i2uf16mhl7-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >As you can see, if we kept on going, we&rsquo;d get an
                    infinite stream of 3&rsquo;s! Since Haskell is lazy,
                    that&rsquo;s exactly what we&rsquo;d get.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >It&rsquo;s starting to taste more like recursion...</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Now let&rsquo;s try a really traditional recursive
                    function: factorial!</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >But we have to style it in a certain way. We have to accept
                    the recursive call function as a parameter. You&rsquo;ll see
                    why in a second:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_u1i2uf16mhl7-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16">fac f 0 = 1</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16">fac f x = x * f (x-1)</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_u1i2uf16mhl7-0">
            <li class="c1 li-bullet-0">
                <span>Now that we have this, let&rsquo;s use our </span
                ><span class="c16">fix</span><span>&nbsp;function on the </span
                ><span class="c16">fac</span
                ><span class="c4">&nbsp;function:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_u1i2uf16mhl7-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16">(fix fac) 3</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16">fac (fix fac) 3</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16">3 * (fix fac) (3 - 1)</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16">3 * (fix fac) 2</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16">3 * fac (fix fac) 2</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16">3 * 2 * (fix fac) (2 - 1)</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16">3 * 2 * (fix fac) 1</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16">3 * 2 * fac (fix fac) 1</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16">3 * 2 * 1 * (fix fac) (1 - 1)</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16">3 * 2 * 1 * (fix fac) 0</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16">3 * 2 * 1 * fac (fix fac) 0</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16">3 * 2 * 1 * 1</span>
            </li>
            <li class="c2 li-bullet-0"><span class="c18 c16">6</span></li>
        </ul>
        <ul class="c0 lst-kix_u1i2uf16mhl7-0">
            <li class="c1 li-bullet-0">
                <span>Whoa, that&rsquo;s recursion! But the </span
                ><span class="c16">fac</span
                ><span
                    >&nbsp;function never refers to itself in its body. Instead,
                    the </span
                ><span class="c16">fix</span
                ><span
                    >&nbsp;function does it instead: by repeatedly passing the </span
                ><span class="c16">fac</span
                ><span class="c4"
                    >&nbsp;function to itself, it breathes recursion into
                    functions that don&rsquo;t explicitly use it.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">In fact, if we defined:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_u1i2uf16mhl7-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16">fact = fix fac</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_u1i2uf16mhl7-0">
            <li class="c1 li-bullet-0">
                <span
                    >We have a fully functioning recursive factorial function
                    named </span
                ><span class="c16">fact</span><span class="c4">!</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_u1i2uf16mhl7-1 start">
            <li class="c2 li-bullet-0">
                <span class="c16">fact 5 </span
                ><span class="c73 c16 c9">-- returns 120</span>
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_u1i2uf16mhl7-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Let&rsquo;s try to make this more general now.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >To convert a function from non-recursive to
                    recursive:</span
                >
            </li>
        </ul>
        <ol class="c0 lst-kix_z1q97v2cvnbv-0 start" start="1">
            <li class="c2 li-bullet-0">
                <span class="c4">Your first parameter must be a function</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >That first parameter function must be used in your
                    recursive calls instead of the function name</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span>Prepend your calls with the </span
                ><span class="c16">fix</span
                ><span class="c4">&nbsp;function</span>
            </li>
        </ol>
        <ul class="c0 lst-kix_u1i2uf16mhl7-0">
            <li class="c1 li-bullet-0">
                <span class="c4">That&rsquo;s it!</span>
            </li>
            <li class="c1 li-bullet-0">
                <span
                    >Let&rsquo;s try this out; let&rsquo;s say we have the
                    fibonacci function, but this time we want to rewrite it so
                    that it uses </span
                ><span class="c16">fix</span><span class="c4">.</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_u1i2uf16mhl7-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16">fib 0 = 0</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16">fib 1 = 1</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16">fib n = fib (n-1) + fib (n-2)</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_u1i2uf16mhl7-0">
            <li class="c1 li-bullet-0">
                <span class="c4">Let&rsquo;s perform those steps:</span>
            </li>
        </ul>
        <ol class="c0 lst-kix_im8bdhqqfw6h-0 start" start="1">
            <li class="c2 li-bullet-0">
                <span class="c18 c16">fib f 0 = 0</span>
            </li>
        </ol>
        <p class="c42 c56 c60"><span class="c18 c16">fib f 1 = 1</span></p>
        <p class="c42 c56 c60">
            <span class="c18 c16">fib f n = fib (n-1) + fib (n-2)</span>
        </p>
        <p class="c42 c56 c41 c60"><span class="c18 c16"></span></p>
        <ol class="c0 lst-kix_im8bdhqqfw6h-0" start="2">
            <li class="c2 li-bullet-0">
                <span class="c18 c16">fib f 0 = 0</span>
            </li>
        </ol>
        <p class="c42 c56 c60"><span class="c18 c16">fib f 1 = 1</span></p>
        <p class="c42 c56 c60">
            <span class="c18 c16">fib f n = f (n-1) + f (n-2)</span>
        </p>
        <p class="c42 c56 c41 c60"><span class="c18 c16"></span></p>
        <ol class="c0 lst-kix_im8bdhqqfw6h-0" start="3">
            <li class="c2 li-bullet-0">
                <span class="c18 c16">fibb = fix fib</span>
            </li>
        </ol>
        <ul class="c0 lst-kix_wsxwua2747ku-0 start">
            <li class="c1 li-bullet-0">
                <span>Now, when we run the </span><span class="c16">fibb</span
                ><span>&nbsp;function, it should work like the normal </span
                ><span class="c16">fib</span><span>, except with </span
                ><span class="c16">fix</span><span class="c4">!</span>
            </li>
            <li class="c1 li-bullet-0">
                <span
                    >In languages like OCaml, you need to explicitly state </span
                ><span class="c16">rec</span
                ><span class="c4"
                    >&nbsp;for &lsquo;recursive&rsquo; before you make a
                    recursive function. This is the sort of thing OCaml does to
                    turn your function into a recursive one!</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_wsxwua2747ku-0">
            <li class="c1 li-bullet-0">
                <span>You may be thinking &ldquo;Why use </span
                ><span class="c16">fix</span
                ><span class="c4"
                    >? Why not just make your function recursive?&rdquo;</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span
                    >That&rsquo;s where we go back to our toy language! Our toy
                    language doesn&rsquo;t support recursion yet, but if we
                    hard-code in the </span
                ><span class="c16">fix</span
                ><span class="c4"
                    >&nbsp;function, we can make any recursive function we
                    want.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span>So if we were to add </span><span class="c16">fix</span
                ><span
                    >&nbsp;into our toy language, we&rsquo;d need some small
                    step and type rules for </span
                ><span class="c16">fix</span><span class="c4">:</span>
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <a id="t.d1884c4fb4e0f3689ce37423d81019e763a028ae"></a><a id="t.22"></a>
        <table class="c29">
            <tbody>
                <tr class="c3">
                    <td class="c125 c72" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Type rule</span></p>
                    </td>
                    <td class="c113 c72" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Explanation</span></p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c125" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 253.5px;
                                    height: 93.39px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image220.png"
                                    style="
                                        width: 253.5px;
                                        height: 93.39px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c113" colspan="1" rowspan="1">
                        <p class="c8">
                            <span>If we&rsquo;re using the </span
                            ><span class="c16">fix</span
                            ><span
                                >&nbsp;function, whatever is being passed in
                                must also be a function, whose return type and
                                parameter type must be the same as the type of
                                the </span
                            ><span class="c16">fix</span
                            ><span class="c4">&nbsp;call.</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c125 c72" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c5">Small step rule</span>
                        </p>
                    </td>
                    <td class="c113 c72" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Explanation</span></p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c125" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 354px;
                                    height: 34.67px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image219.png"
                                    style="
                                        width: 354px;
                                        height: 34.67px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c113" colspan="1" rowspan="1">
                        <p class="c8">
                            <span>When we call the </span
                            ><span class="c16">fix </span
                            ><span>function, replace all instances of </span
                            ><span class="c16">x</span><span>&nbsp;within </span
                            ><span class="c16">E</span
                            ><span>&nbsp;with the </span
                            ><span class="c16">fix</span
                            ><span class="c4"
                                >&nbsp;function again (to create
                                recursion).</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c125" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 274px;
                                    height: 112px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image240.png"
                                    style="
                                        width: 274px;
                                        height: 112px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c113" colspan="1" rowspan="1">
                        <p class="c8">
                            <span>If we call the </span
                            ><span class="c16">fix</span
                            ><span class="c4"
                                >&nbsp;function, and the argument can be
                                simplified, then simplify it.</span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_66io9v8egsua-0 start">
            <li class="c1 li-bullet-0">
                <span>Now our toy language is Turing complete.</span>
            </li>
        </ul>
        <h3 class="c67 c56" id="h.od3je8cfzwqo">
            <span class="c49">Curry-Howard correspondence</span>
        </h3>
        <ul class="c0 lst-kix_ng27nnshm5gp-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4">Do you remember natural deduction?</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >If not, natural deduction is the proof calculus that we use
                    for predicate logic:</span
                >
            </li>
        </ul>
        <p class="c42 c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 252px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image257.png"
                    style="
                        width: 602px;
                        height: 252px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_kb9ur3b9he32-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Did you know that proofs and programs are the same
                    thing?</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">If we draw a couple of parallels:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_kb9ur3b9he32-1 start">
            <li class="c2 li-bullet-0">
                <span class="c13 c70 c54"
                    >T &rarr; U (function types) is the same as A =&gt; B
                    (implication)</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c13 c21 c46"
                    >T &#10005; U (product types) is the same as A &#8896; B
                    (and operator)</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c13 c69 c90"
                    >T + U (sum types) is the same as A &#8897; B (or
                    operator)</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c13 c77"
                    >() (unit value, or empty tuple type) is the same as &#8868;
                    (truth value)</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c13 c65 c140"
                    >void (empty sum type) is the same as &perp; (false
                    value)</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_kb9ur3b9he32-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Then we can form a mapping from proofs to programs, thereby
                    making them isomorphic.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Here&rsquo;s a relation from proof rules to typing
                    rules:</span
                >
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <a id="t.dd875083e84d64f8660fb1193d82af1be54f2c7f"></a><a id="t.23"></a>
        <table class="c29">
            <tbody>
                <tr class="c3">
                    <td class="c39 c72" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Proof rule</span></p>
                    </td>
                    <td class="c109 c72" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Typing rule</span></p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c39 c54" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 249px;
                                    height: 53px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image192.png"
                                    style="
                                        width: 249px;
                                        height: 53px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c109 c54" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 157px;
                                    height: 54px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image249.png"
                                    style="
                                        width: 157px;
                                        height: 54px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c39 c54" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 69.33px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image108.png"
                                    style="
                                        width: 286px;
                                        height: 69.33px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c54 c109" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 196px;
                                    height: 95px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image209.png"
                                    style="
                                        width: 196px;
                                        height: 95px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c39 c54" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 57.33px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image222.png"
                                    style="
                                        width: 286px;
                                        height: 57.33px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c109 c54" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 81.33px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image125.png"
                                    style="
                                        width: 286px;
                                        height: 81.33px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c39 c21" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 268px;
                                    height: 78px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image140.png"
                                    style="
                                        width: 268px;
                                        height: 78px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c109 c21" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 68px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image98.png"
                                    style="
                                        width: 286px;
                                        height: 68px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c39 c21" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 217px;
                                    height: 77px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image146.png"
                                    style="
                                        width: 217px;
                                        height: 77px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c109 c21" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 243px;
                                    height: 78px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image243.png"
                                    style="
                                        width: 243px;
                                        height: 78px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                        <p class="c48">
                            <span>Where </span
                            ><img
                                src="assets/programming-language-concepts/image53.png"
                            /><span>&nbsp;is a function like </span
                            ><span class="c18 c16">fst</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c21 c39" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 215px;
                                    height: 74px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image211.png"
                                    style="
                                        width: 215px;
                                        height: 74px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c109 c21" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 240px;
                                    height: 76px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image200.png"
                                    style="
                                        width: 240px;
                                        height: 76px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                        <p class="c48">
                            <span>Where </span
                            ><img
                                src="assets/programming-language-concepts/image54.png"
                            /><span>&nbsp;is a function like </span
                            ><span class="c18 c16">snd</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c39 c69" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 50.67px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image134.png"
                                    style="
                                        width: 286px;
                                        height: 50.67px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c109 c69" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 74.67px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image99.png"
                                    style="
                                        width: 286px;
                                        height: 74.67px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c39 c69" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 40px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image121.png"
                                    style="
                                        width: 286px;
                                        height: 40px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c109 c69" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 36px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image96.png"
                                    style="
                                        width: 286px;
                                        height: 36px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c39 c164" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 228px;
                                    height: 75px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image163.png"
                                    style="
                                        width: 228px;
                                        height: 75px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 66.67px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image252.png"
                                    style="
                                        width: 286px;
                                        height: 66.67px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c39 c65" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 233px;
                                    height: 115px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image170.png"
                                    style="
                                        width: 233px;
                                        height: 115px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c109 c65" colspan="1" rowspan="1">
                        <p class="c48">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 66.67px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image236.png"
                                    style="
                                        width: 286px;
                                        height: 66.67px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_s8pxe0ynlqqv-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >The Curry-Howard isomorphism, formally, goes like
                    this:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_s8pxe0ynlqqv-1 start">
            <li class="c2 li-bullet-0">
                <span>Let each formula A correspond to a type T, then </span
                ><img
                    src="assets/programming-language-concepts/image55.png"
                /><span
                    >&nbsp;is derivable in full intuitionistic logic (natural
                    deduction) if and only if </span
                ><img
                    src="assets/programming-language-concepts/image56.png"
                /><span>&nbsp;is well-typed for some term t (with </span
                ><span>&#10005;</span
                ><span class="c4"
                    >, +, unit and void) such that free-vars(t) &sube; { x1, x2,
                    ... , xn }</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_s8pxe0ynlqqv-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >To explain this: if you have some formula A in predicate
                    logic, which corresponds to the type T, you can only prove
                    it fully using natural deduction only if the term t, which
                    is also of type T, is well-typed, assuming that the term t
                    has a bunch of free variables with it that are also of type
                    T.</span
                >
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_vcveoq7w1oe9-0 start">
            <li class="c1 li-bullet-0">
                <span
                    >This may sound weird and useless, but the languages Coq and
                    Agda strongly utilise this relationship to create proofs. To
                    get a better understanding of the Curry-Howard </span
                ><span>correspondence</span><span>, I&rsquo;d suggest </span
                ><span class="c31"
                    ><a
                        class="c32"
                        href="https://www.google.com/url?q=http://learnyouanagda.liamoc.net/pages/introduction.html&amp;sa=D&amp;source=editors&amp;ust=1623676074389000&amp;usg=AOvVaw3k_Kz-SCOECpOiohGncmrp"
                        >Learn You a Good Agda</a
                    ></span
                ><span
                    >. It&rsquo;s incomplete, but I hear it gives very good
                    insight into this topic.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span
                    >To sum it up, just remember that proofs are programs (or
                    values) and propositions are types.</span
                >
            </li>
        </ul>
        <h1 class="c118 c56" id="h.kk2zg4oia1hw">
            <span class="c35">Concurrency in programming languages</span>
        </h1>
        <h2 class="c51" id="h.oora04bdi3w4">
            <span class="c57 c58">Race conditions and mutual exclusion</span>
        </h2>
        <ul class="c0 lst-kix_omxzq4bbly99-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4">Firstly, what is concurrency?</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Concurrency</span
                ><span class="c4"
                    >: several processes executing simultaneously, potentially
                    interacting with each other</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">So, what&rsquo;s a process?</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Process</span
                ><span class="c4"
                    >: an Operating System abstraction that involves:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_omxzq4bbly99-1 start">
            <li class="c2 li-bullet-0">
                <span class="c4">an address space (allocation of memory)</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >a number of threads, each with its own call stack and
                    access to the shared address space</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_omxzq4bbly99-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Sometimes, a computer can&rsquo;t actually run multiple
                    threads simultaneously (unless it&rsquo;s multi-core).</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span
                    >Usually, a CPU has to swap between threads. This is called </span
                ><span class="c11">context switch</span
                ><span class="c4">.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >It happens at a very low level; at the granularity of
                    machine code instructions.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >However, since it happens at a low level, the effects will
                    propagate to high level code without us even knowing
                    it.</span
                >
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_y8au22w6r5j4-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4">Let&rsquo;s look at an example of that.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Here, we have some quick, dirty C / Java code:</span
                >
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <a id="t.521ef9e3707474e8aa6bdf9c33f8ddce41061cd4"></a><a id="t.24"></a>
        <table class="c29">
            <tbody>
                <tr class="c136">
                    <td class="c148" colspan="2" rowspan="1">
                        <p class="c8">
                            <span class="c18 c16">double accountBalance;</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c14 c54" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c101 c16 c70 c62"
                                >void withdraw(double out)</span
                            >
                        </p>
                        <p class="c8">
                            <span class="c101 c16 c70 c62">{</span>
                        </p>
                        <p class="c8">
                            <span class="c101 c16 c70 c62"
                                >&nbsp; if (accountBalance &gt; outAmount)</span
                            >
                        </p>
                        <p class="c8">
                            <span class="c101 c16 c70 c62"
                                >&nbsp; &nbsp; accountBalance = accountBalance -
                                out;</span
                            >
                        </p>
                        <p class="c8">
                            <span class="c101 c16 c70 c62">}</span>
                        </p>
                    </td>
                    <td class="c14 c21" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c101 c16 c62 c46"
                                >void credit(double in)</span
                            >
                        </p>
                        <p class="c8">
                            <span class="c101 c16 c62 c46">{</span>
                        </p>
                        <p class="c8">
                            <span class="c101 c16 c62 c46"
                                >&nbsp; accountBalance = accountBalance +
                                in;</span
                            >
                        </p>
                        <p class="c8">
                            <span class="c101 c16 c62 c46">}</span>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_9769grxjoazm-0 start">
            <li class="c1 li-bullet-0">
                <span>The </span><span class="c70 c54">left</span
                ><span>&nbsp;side is thread #1, and the </span
                ><span class="c21 c46">right</span
                ><span class="c4">&nbsp;side is thread #2.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >What would happen if #1 tried to withdraw some money and if
                    #2 tried to add some money at the same time?</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >For example, what if we had 30 in our balance, #1 withdrew
                    10, but #2 added 20? You&rsquo;d think our balance would be
                    40, right?</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >That&rsquo;s what we&rsquo;d like, but the line:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_9769grxjoazm-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16"
                    >accountBalance = accountBalance - out;</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_9769grxjoazm-0">
            <li class="c1 li-bullet-0">
                <span>... i</span
                ><span>sn&rsquo;t atomic. It fetches the value of </span
                ><span class="c16">accountBalance</span
                ><span>, calculates the new value of </span
                ><span class="c16">accountBalance</span
                ><span class="c4">, then updates the variable.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >A context switch could happen, and #2 could interrupt #1
                    just before it updates the balance, causing
                    inconsistencies.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Here&rsquo;s a timeline to help visualise it:</span
                >
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <a id="t.4c55d31e5c0b4eda4424dcb66bc65dba79089474"></a><a id="t.25"></a>
        <table class="c29">
            <tbody>
                <tr class="c3">
                    <td class="c14 c54" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c73 c70 c108 c11">Thread #1</span>
                        </p>
                    </td>
                    <td class="c14 c21" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c22 c108 c11">Thread #2</span>
                        </p>
                    </td>
                </tr>
                <tr class="c136">
                    <td class="c14 c54" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c13 c70"
                                >Check if we have enough to withdraw.</span
                            >
                        </p>
                    </td>
                    <td class="c120" colspan="1" rowspan="4">
                        <p class="c8 c41"><span class="c13 c46"></span></p>
                    </td>
                </tr>
                <tr class="c136">
                    <td class="c14 c54" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c13 c70"
                                >We have enough to withdraw!</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c136">
                    <td class="c14 c54" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c13 c70"
                                >Fetches the value of accountBalance, which is
                                30.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c136">
                    <td class="c14 c54" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c13 c70"
                                >Calculates the new value for accountBalance by
                                doing 30 - 10, which is 20.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c136">
                    <td class="c120" colspan="1" rowspan="3">
                        <p class="c8 c41"><span class="c13 c70"></span></p>
                    </td>
                    <td class="c14 c21" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c13 c46"
                                >Fetches the value of accountBalance, which is
                                30.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c136">
                    <td class="c14 c21" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c13 c46"
                                >Calculates the new value for accountBalance by
                                doing 30 + 20, which is 50.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c136">
                    <td class="c14 c21" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c13 c46"
                                >Updates the accountBalance variable with
                                50.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c14 c54" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c13 c70"
                                >Updates the accountBalance variable with
                                20.</span
                            >
                        </p>
                    </td>
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c8 c41"><span class="c13 c46"></span></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_k9z8go2xd7jc-0 start">
            <li class="c1 li-bullet-0">
                <span>When #2 interrupts #1, we end up with the incorrect </span
                ><span class="c16">accountBalance </span
                ><span class="c4">of 20.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span
                    >Clearly, there is a problem with how #1 and #2 access </span
                ><span class="c16">accountBalance</span
                ><span class="c4">!</span>
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_k9z8go2xd7jc-0">
            <li class="c1 li-bullet-0">
                <span>These problems are called </span
                ><span class="c11">race conditions</span
                ><span class="c4">.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >They&rsquo;re types of problems that are caused when two
                    threads try to access and modify the same memory
                    location.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Race conditions happen when both of the following
                    happen:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_k9z8go2xd7jc-1 start">
            <li class="c2 li-bullet-0">
                <span class="c11">Aliasing</span
                ><span class="c4"
                    >: when the same memory location can be accessed by multiple
                    threads.</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >Rust handles concurrency by removing aliasing.</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c11">Mutability</span><span>: </span
                ><span class="c4"
                    >when data in some shared memory location can be
                    modified.</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >Clojure handles concurrency by removing mutability.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_k9z8go2xd7jc-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Critical region</span
                ><span
                    >: the part of the program where a shared resource is
                    accessed and modified, for example: </span
                ><span class="c18 c16"
                    >accountBalance = accountBalance - out;</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Mutual exclusion</span
                ><span class="c4"
                    >: the idea that if one thread is in a critical region, no
                    other thread is allowed to access that shared resource</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >With mutual exclusion, there are no race conditions.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_k9z8go2xd7jc-0">
            <li class="c1 li-bullet-0">
                <span class="c4">So how do we implement mutual exclusion?</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Let&rsquo;s look at how we might do that:</span
                >
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <a id="t.4b479a1302f3e62bdfa7490f67601457f47667b3"></a><a id="t.26"></a>
        <table class="c29">
            <tbody>
                <tr class="c3">
                    <td class="c14 c54" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c73 c70 c11 c108">Thread #1</span>
                        </p>
                    </td>
                    <td class="c14 c21" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c22 c108 c11">Thread #2</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c14 c54" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c73 c16 c70">while (1)</span>
                        </p>
                        <p class="c8"><span class="c73 c16 c70">{</span></p>
                        <p class="c8">
                            <span class="c73 c16 c70"
                                >&nbsp; while (lock);</span
                            >
                        </p>
                        <p class="c8">
                            <span class="c73 c16 c70">&nbsp; lock = 1;</span>
                        </p>
                        <p class="c8">
                            <span class="c73 c16 c70"
                                >&nbsp; critical_region();</span
                            >
                        </p>
                        <p class="c8">
                            <span class="c73 c16 c70">&nbsp; lock = 0;</span>
                        </p>
                        <p class="c8">
                            <span class="c73 c16 c70"
                                >&nbsp; noncritical_region();</span
                            >
                        </p>
                        <p class="c8"><span class="c73 c16 c70">}</span></p>
                    </td>
                    <td class="c14 c21" colspan="1" rowspan="1">
                        <p class="c8"><span class="c22 c16">while (1)</span></p>
                        <p class="c8"><span class="c22 c16">{</span></p>
                        <p class="c8">
                            <span class="c22 c16">&nbsp; while (lock);</span>
                        </p>
                        <p class="c8">
                            <span class="c22 c16">&nbsp; lock = 1;</span>
                        </p>
                        <p class="c8">
                            <span class="c22 c16"
                                >&nbsp; critical_region();</span
                            >
                        </p>
                        <p class="c8">
                            <span class="c22 c16">&nbsp; lock = 0;</span>
                        </p>
                        <p class="c8">
                            <span class="c22 c16"
                                >&nbsp; noncritical_region();</span
                            >
                        </p>
                        <p class="c8"><span class="c22 c16">}</span></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_jz7notey63h9-0 start">
            <li class="c1 li-bullet-0">
                <span class="c16">lock </span
                ><span class="c4">initially has a value of 0.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >At first, this might seem to implement mutual exclusion,
                    but it actually doesn&rsquo;t.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >The whole point of this method is that only one thread goes
                    past its while loop, and then once that thread is done, the
                    other may get past its while loop.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span
                    >But if #1 were to go past its while loop, and just before
                    it updates </span
                ><span class="c16">lock</span
                ><span class="c4"
                    >, a context switch happens and #2 goes past its while loop,
                    this idea of mutual exclusion is broken, because now both
                    threads are past their while loops at the same time.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_jz7notey63h9-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >So that one doesn&rsquo;t work. Let&rsquo;s try
                    another:</span
                >
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <a id="t.b184b185053c6e47c6ddc77423391a983e149b39"></a><a id="t.27"></a>
        <table class="c29">
            <tbody>
                <tr class="c3">
                    <td class="c14 c54" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c73 c70 c108 c11">Thread #1</span>
                        </p>
                    </td>
                    <td class="c14 c21" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c22 c108 c11">Thread #2</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c14 c54" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c73 c16 c70">while (1)</span>
                        </p>
                        <p class="c8"><span class="c73 c16 c70">{</span></p>
                        <p class="c8">
                            <span class="c16 c70 c73"
                                >&nbsp; while (turn != 0);</span
                            >
                        </p>
                        <p class="c8">
                            <span class="c73 c16 c70"
                                >&nbsp; critical_region();</span
                            >
                        </p>
                        <p class="c8">
                            <span class="c73 c16 c70">&nbsp; turn = 1;</span>
                        </p>
                        <p class="c8">
                            <span class="c73 c16 c70"
                                >&nbsp; noncritical_region();</span
                            >
                        </p>
                        <p class="c8"><span class="c73 c16 c70">}</span></p>
                    </td>
                    <td class="c14 c21" colspan="1" rowspan="1">
                        <p class="c8"><span class="c22 c16">while (1)</span></p>
                        <p class="c8"><span class="c22 c16">{</span></p>
                        <p class="c8">
                            <span class="c22 c16"
                                >&nbsp; while (turn != 1);</span
                            >
                        </p>
                        <p class="c8">
                            <span class="c22 c16"
                                >&nbsp; critical_region();</span
                            >
                        </p>
                        <p class="c8">
                            <span class="c22 c16">&nbsp; turn = 0;</span>
                        </p>
                        <p class="c8">
                            <span class="c22 c16"
                                >&nbsp; noncritical_region();</span
                            >
                        </p>
                        <p class="c8"><span class="c22 c16">}</span></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_vx6ampbwd0nu-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4">Does this work?</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >It works, but a thread can&rsquo;t access their critical
                    region twice in a row. Once #1 accesses their thread, #2
                    must access theirs before #1 can access it again.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_vx6ampbwd0nu-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >A working algorithm would be Peterson&rsquo;s
                    algorithm.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">Peterson&rsquo;s works like this:</span>
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <a id="t.fb8824f756ce38b18d07bdcf4584682396d2fed5"></a><a id="t.28"></a>
        <table class="c29">
            <tbody>
                <tr class="c136">
                    <td class="c148" colspan="2" rowspan="1">
                        <p class="c8">
                            <span class="c16 c81">bool</span
                            ><span class="c16 c81">&nbsp;</span
                            ><span class="c16 c81">flag[2]</span
                            ><span class="c16 c81">&nbsp;</span
                            ><span class="c16 c81">=</span
                            ><span class="c16 c81">&nbsp;</span
                            ><span class="c16 c81">{false,</span
                            ><span class="c16 c81">&nbsp;</span
                            ><span class="c16 c81">false};</span>
                        </p>
                        <p class="c157">
                            <span class="c16 c81">int</span
                            ><span class="c16 c81">&nbsp;</span
                            ><span class="c16 c81">turn;</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c14 c54" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c34 c16">flag[0] = true;</span>
                        </p>
                        <p class="c8 c41"><span class="c34 c16"></span></p>
                        <p class="c8"><span class="c34 c16">turn = 1;</span></p>
                        <p class="c8">
                            <span class="c70 c11 c75">while</span
                            ><span class="c34 c16"
                                >&nbsp;(flag[1] == true &amp;&amp; turn ==
                                1)</span
                            >
                        </p>
                        <p class="c8"><span class="c34 c16">{</span></p>
                        <p class="c8">
                            <span class="c16 c70 c81">&nbsp; &nbsp; </span
                            ><span class="c16 c6 c81">// busy wait</span>
                        </p>
                        <p class="c8"><span class="c34 c16">}</span></p>
                        <p class="c8">
                            <span class="c16 c34">critical_region();</span>
                        </p>
                        <p class="c8 c41"><span class="c34 c16"></span></p>
                        <p class="c157">
                            <span class="c34 c16">flag[0] = false;</span>
                        </p>
                        <p class="c8 c41"><span class="c18 c16"></span></p>
                    </td>
                    <td class="c14 c21" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c101 c16 c81 c46"
                                >flag[1] = true;</span
                            >
                        </p>
                        <p class="c8 c41">
                            <span class="c101 c16 c81 c46"></span>
                        </p>
                        <p class="c8">
                            <span class="c101 c16 c81 c46">turn = 0;</span>
                        </p>
                        <p class="c8">
                            <span class="c75 c46 c11">while</span
                            ><span class="c101 c16 c81 c46"
                                >&nbsp;(flag[0] == true &amp;&amp; turn ==
                                0)</span
                            >
                        </p>
                        <p class="c8">
                            <span class="c101 c16 c81 c46">{</span>
                        </p>
                        <p class="c8">
                            <span class="c16 c81 c46">&nbsp; &nbsp;</span
                            ><span class="c16 c45 c81 c46">// busy wait</span>
                        </p>
                        <p class="c8">
                            <span class="c101 c16 c81 c46">}</span>
                        </p>
                        <p class="c8">
                            <span class="c101 c16 c81 c46"
                                >critical_region();</span
                            >
                        </p>
                        <p class="c8 c41">
                            <span class="c101 c16 c81 c46"></span>
                        </p>
                        <p class="c157">
                            <span class="c101 c16 c81 c46"
                                >flag[1] = false;</span
                            >
                        </p>
                        <p class="c8 c41"><span class="c18 c16"></span></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_i7ucy5yxpouh-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Basically, a thread can enter its critical region if
                    either:</span
                >
            </li>
        </ul>
        <ol class="c0 lst-kix_vqr0axhtujmd-0 start" start="1">
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >The other thread doesn&rsquo;t want to access its critical
                    region</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >The thread is letting the other thread access their
                    critical region</span
                >
            </li>
        </ol>
        <ul class="c0 lst-kix_3zxrdwfv9a11-0 start">
            <li class="c1 li-bullet-0">
                <span>The </span><span class="c16">flag</span
                ><span
                    >&nbsp;array maps processes to whether or not they want to
                    access their critical region. For example, </span
                ><span class="c16">flag[0] = true</span><span>&nbsp;and </span
                ><span class="c16">flag[1] = false</span
                ><span class="c4"
                    >&nbsp;means that thread #1 wants to access their critical
                    region, whereas thread #2 doesn&rsquo;t want to.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span>The </span><span class="c16">turn</span
                ><span
                    >&nbsp;variable stores whoever&rsquo;s turn it is to access
                    their critical region. For example, if </span
                ><span class="c16">turn = 0</span
                ><span
                    >, #2 is letting #1 access their critical region. If </span
                ><span class="c16">turn = 1</span
                ><span class="c4"
                    >, #1 is letting #2 access their critical region.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_3zxrdwfv9a11-0">
            <li class="c1 li-bullet-0">
                <span>All these implementations utilise </span
                ><span class="c11">busy waiting</span
                ><span class="c4"
                    >, which means threads are blocked until they are allowed to
                    access their critical region.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Modern compilers and hardware reorder instructions within
                    threads, which can break down algorithms like
                    Peterson&rsquo;s.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_3zxrdwfv9a11-0">
            <li class="c1 li-bullet-0">
                <span
                    >There is hardware support for concurrency, such as the </span
                ><span class="c11">TSL (Test and Set Lock) instruction</span
                ><span class="c4">.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >The syntax of test-and-set lock instruction goes as
                    follows:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_3zxrdwfv9a11-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16">TSL RX,LOCK</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_3zxrdwfv9a11-0">
            <li class="c1 li-bullet-0">
                <span class="c4">What the instruction actually does is:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_3zxrdwfv9a11-1 start">
            <li class="c2 li-bullet-0">
                <span>reads the value of memory location </span
                ><span class="c18 c16">LOCK</span>
            </li>
            <li class="c2 li-bullet-0">
                <span>writes the value to register </span
                ><span class="c18 c16">RX</span>
            </li>
            <li class="c2 li-bullet-0">
                <span>stores a nonzero value at </span
                ><span class="c18 c16">LOCK</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_3zxrdwfv9a11-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >What&rsquo;s good about this is that it&rsquo;s atomic
                    (indivisible) because it&rsquo;s a hardware
                    instruction.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >So how do we use TSL to implement mutual exclusion?</span
                >
            </li>
            <li class="c1 li-bullet-0"><span class="c4">This is how:</span></li>
        </ul>
        <ul class="c0 lst-kix_3zxrdwfv9a11-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16">Enter_region:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_3zxrdwfv9a11-2 start">
            <li class="c37 li-bullet-0">
                <span class="c18 c16">TSL RX,LOCK</span>
            </li>
            <li class="c37 li-bullet-0">
                <span class="c18 c16"
                    >CMP RX,#0 &nbsp; &nbsp; &nbsp; &nbsp;| check if value of
                    lock (RX) was 0</span
                >
            </li>
            <li class="c37 li-bullet-0">
                <span class="c18 c16"
                    >JNE enter_region | not 0 then try again</span
                >
            </li>
            <li class="c37 li-bullet-0">
                <span class="c18 c16"
                    >RET &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| 0 so
                    we can enter critical region</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_3zxrdwfv9a11-1">
            <li class="c2 li-bullet-0">
                <span class="c18 c16">Leave_region:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_3zxrdwfv9a11-2 start">
            <li class="c37 li-bullet-0">
                <span class="c18 c16">MOV LOCK,#0</span>
            </li>
            <li class="c37 li-bullet-0"><span class="c18 c16">RET</span></li>
        </ul>
        <ul class="c0 lst-kix_3zxrdwfv9a11-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >As you can see, it&rsquo;s very similar to what we&rsquo;ve
                    done before, except now it&rsquo;s very low-level; so low
                    that the computer can&rsquo;t split up the instructions
                    anymore.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Programming languages have something similar, called CAS
                    (compare-and-set).</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_3zxrdwfv9a11-0">
            <li class="c1 li-bullet-0">
                <span>There&rsquo;s also </span><span class="c11">XCHG</span
                ><span class="c4"
                    >, which exchanges the contents of two register and memory
                    locations atomically.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">You can use it in place of TSL:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_3zxrdwfv9a11-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16">Enter_region:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_3zxrdwfv9a11-2 start">
            <li class="c37 li-bullet-0">
                <span class="c18 c16"
                    >MOV RX,#1 &nbsp; &nbsp;| set RX to 1</span
                >
            </li>
            <li class="c37 li-bullet-0">
                <span class="c18 c16"
                    >XCHG RX,LOCK | exchange values of RX and LOCK</span
                >
            </li>
            <li class="c37 li-bullet-0">
                <span class="c18 c16">CMP RX,#0</span>
            </li>
            <li class="c37 li-bullet-0">
                <span class="c18 c16">JNE enter_region</span>
            </li>
            <li class="c37 li-bullet-0"><span class="c18 c16">RET</span></li>
        </ul>
        <ul class="c0 lst-kix_3zxrdwfv9a11-1">
            <li class="c2 li-bullet-0">
                <span class="c18 c16">Leave_region:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_3zxrdwfv9a11-2 start">
            <li class="c37 li-bullet-0">
                <span class="c18 c16">MOV LOCK,#0</span>
            </li>
            <li class="c37 li-bullet-0"><span class="c18 c16">RET</span></li>
        </ul>
        <ul class="c0 lst-kix_3zxrdwfv9a11-0">
            <li class="c1 li-bullet-0">
                <span
                    >This is used in Intel x86 CPUs, which are very common in
                    home computers.</span
                >
            </li>
        </ul>
        <h2 class="c51" id="h.oora04bdi3w4-6">
            <span class="c57 c58">Atomicity, locks, monitors</span>
        </h2>
        <ul class="c0 lst-kix_on32t0j4teib-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4">CPUs have cache.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >When a thread modifies a variable, its write may first go
                    into a cache before it goes through into the main
                    memory.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >If another thread reads from memory before the cache has
                    been written to main memory, it will see the old
                    value.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Similarly, when a thread reads a value it may read from a
                    cache instead from the actual memory location.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >If one thread reads from the most up to date cache while
                    another thread reads from an outdated cache, there could be
                    confusion over what the value of the variable is.</span
                >
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 364.5px;
                    height: 243.77px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image245.png"
                    style="
                        width: 364.5px;
                        height: 243.77px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_3ardwkqj9mqg-0 start">
            <li class="c1 li-bullet-0">
                <span
                    >Modern programming languages have constructs that get
                    around this, such as </span
                ><span class="c16">volatile</span
                ><span class="c4">&nbsp;in Java.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span>When a variable is </span><span class="c16">volatile</span
                ><span class="c4"
                    >&nbsp;in Java, the compiler knows that the variable will be
                    shared between threads, so operations on that variable are
                    not re-ordered and writes do not get lost in the caches -
                    they go directly into memory</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >In addition, reads are not performed from the cache but
                    from the main memory.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >This way we can guarantee that all threads that read a
                    value after a write see the same updated value.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >In modern compilers, instructions are re-ordered for
                    optimization.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >A memory model is a formal description of how shared memory
                    works, concurrently.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >It&rsquo;s so that the programmer and the compiler designer
                    can agree on how things should work.</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_3ardwkqj9mqg-1 start">
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >The compiler designer wants maximum flexibility for
                    optimisations</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >The programmer wants to avoid compiler bugs</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_3ardwkqj9mqg-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >In Java, normal variables can be re-ordered, but volatile
                    ones cannot.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_3ardwkqj9mqg-0">
            <li class="c1 li-bullet-0">
                <span>An operation is </span><span class="c11">atomic</span
                ><span class="c4">&nbsp;if it&rsquo;s not divisible.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >For example, machine code instructions are atomic.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span>Something like </span
                ><span class="c16">balance = balance - 10;</span
                ><span class="c4">&nbsp;is not atomic.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Atomic data structures are thread-safe data
                    structures.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span>An example would be the </span
                ><span class="c16">AtomicInteger</span
                ><span class="c4">&nbsp;class in Java, with methods:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_3ardwkqj9mqg-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16">int get()</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16">int set(int newValue)</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16">int getAndAdd(int delta)</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_3ardwkqj9mqg-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >These operations are atomic in the sense that, when used in
                    multi-threaded applications, these methods are either 100%
                    fully completed or not done at all.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_3ardwkqj9mqg-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >However, be careful; when you compose atomic operations,
                    the whole operation isn&rsquo;t atomic.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">For example, if you did:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_3ardwkqj9mqg-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16">set(10);</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16">getAndAdd(20);</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_3ardwkqj9mqg-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >This process isn&rsquo;t atomic anymore, even though each
                    of the operations are atomic, because it&rsquo;s made up of
                    two operations.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_3ardwkqj9mqg-0">
            <li class="c1 li-bullet-0">
                <span class="c4">Last time, we were looking at locks.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >They&rsquo;re a low-level abstraction that provides mutual
                    exclusion, but it&rsquo;s hard to get right and does not
                    interact well with programming features (using locks makes
                    your code look a lot bulkier and uglier).</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_3ardwkqj9mqg-0">
            <li class="c1 li-bullet-0">
                <span class="c4">Locks can also lead to deadlocks!</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Deadlock</span
                ><span class="c4"
                    >: when two processes wait for the other process to access
                    their critical region, so the two processes never end up
                    doing anything.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >This can also occur with more than two threads when they
                    wait for each other. E.g. Thread A waits for B, B waits for
                    C and C waits for A.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Have you ever played badminton in doubles? Have you ever
                    experienced the situation where the shuttlecock is landing
                    at the midpoint between you and your partner, and you both
                    expect the other to hit it back, but then you two
                    don&rsquo;t do anything and the shuttlecock hits the floor?
                    That&rsquo;s deadlock!</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Deadlocks can happen because locks are picked up and
                    released in the wrong order, locks are not released
                    etc.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Due to this, applications with wild interleaving of actions
                    (like GUIs) often only have one thread.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_3ardwkqj9mqg-0">
            <li class="c1 li-bullet-0">
                <span class="c4">Java implements locks in different ways.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span>One way is the </span
                ><span class="c11">intrinsic lock</span><span>, using the </span
                ><span class="c16">synchronized</span
                ><span class="c4">&nbsp;keyword.</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_3ardwkqj9mqg-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16">synchronized (lock) {</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16">&nbsp; &nbsp;... something ...</span>
            </li>
            <li class="c2 li-bullet-0"><span class="c18 c16">}</span></li>
        </ul>
        <ul class="c0 lst-kix_3ardwkqj9mqg-0">
            <li class="c1 li-bullet-0">
                <span>With </span><span class="c16">synchronized</span
                ><span
                    >, the lock is the object itself. The JVM only allows one
                    thread to access that object at a time, if it&rsquo;s
                    encapsulated in </span
                ><span class="c16">synchronized</span><span class="c4">.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >You can also use it on methods, and then the instance
                    becomes a lock, like so:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_3ardwkqj9mqg-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16">public synchronized add(int a) {</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16">&nbsp; &nbsp;...</span>
            </li>
            <li class="c2 li-bullet-0"><span class="c18 c16">}</span></li>
        </ul>
        <ul class="c0 lst-kix_3ardwkqj9mqg-0">
            <li class="c1 li-bullet-0">
                <span>There are also </span
                ><span class="c11">explicit locks</span
                ><span class="c4">, like the ReentrantLock class.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >You can do things you can&rsquo;t do with an intrinsic
                    lock, like interrupting a thread that is waiting for a lock,
                    or attempt to get a lock without waiting.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >These features are more advanced, but they&rsquo;re more
                    dangerous, as locks aren&rsquo;t automatically released at
                    the end of a critical region.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_3ardwkqj9mqg-0">
            <li class="c1 li-bullet-0">
                <span class="c4">Lastly, we will be looking at monitors.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Monitor</span
                ><span class="c4"
                    >: a facility that monitors the threads&rsquo; access to
                    critical regions.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Monitors allow us to control locks and other threads that
                    are waiting for the lock.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">The monitor methods are:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_3ardwkqj9mqg-1 start">
            <li class="c2 li-bullet-0">
                <span class="c16">wait</span
                ><span class="c4"
                    >&nbsp;- Release the lock and go to sleep. When woken up by
                    another thread, we&rsquo;ll get the lock again.</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c16">signal</span
                ><span
                    >&nbsp;- Wake up another thread that&rsquo;s sleeping (in
                    Java it&rsquo;s </span
                ><span class="c16">notify</span><span class="c4">).</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c16">broadcast</span
                ><span
                    >&nbsp;- Wake up all sleeping threads (in Java it&rsquo;s </span
                ><span class="c16">notifyAll</span><span class="c4">).</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_3ardwkqj9mqg-0">
            <li class="c1 li-bullet-0">
                <span>In Java, these methods can only be used in a </span
                ><span class="c16">synchronized</span
                ><span class="c4">&nbsp;block.</span>
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_3ardwkqj9mqg-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Here&rsquo;s a classic concurrency problem: the producer
                    and consumer problem.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >A producer adds things to a buffer, and a consumer takes
                    things from the buffer.</span
                >
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 469.59px;
                    height: 99.5px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image217.png"
                    style="
                        width: 469.59px;
                        height: 99.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_hdndr5yflf64-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >There are some things we need to consider:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_hdndr5yflf64-1 start">
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >If the buffer is too full, the producer must wait for the
                    consumer to consume more.</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >If the buffer is empty, the consumer must wait for the
                    producer to add more.</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_hdndr5yflf64-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >If the threads are waiting, how do we know when to wake
                    them up?</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_hdndr5yflf64-1 start">
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >If the producer adds to the buffer, the producer can wake
                    up the consumer because the buffer isn&rsquo;t empty.</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >If the consumer consumes from the buffer, the consumer can
                    wake up the producer because the buffer isn&rsquo;t
                    full.</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_hdndr5yflf64-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Here are some implementations in Java. Don&rsquo;t worry,
                    I&rsquo;ve added plenty of comments so that you don&rsquo;t
                    get lost!</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span>Non-thread safe version: </span
                ><span class="c31"
                    ><a
                        class="c32"
                        href="https://www.google.com/url?q=https://ideone.com/MpKwu8&amp;sa=D&amp;source=editors&amp;ust=1623676074463000&amp;usg=AOvVaw2u_EmXWFCG9hJkPXScMtGF"
                        >https://ideone.com/MpKwu8</a
                    ></span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span>Thread safe version: </span
                ><span class="c31"
                    ><a
                        class="c32"
                        href="https://www.google.com/url?q=https://ideone.com/cxSRZA&amp;sa=D&amp;source=editors&amp;ust=1623676074463000&amp;usg=AOvVaw14TYFpSilpmGFOuYEgL9qd"
                        >https://ideone.com/cxSRZA</a
                    ></span
                >
            </li>
        </ul>
        <h2 class="c51" id="h.oora04bdi3w4-7">
            <span class="c57 c58"
                >Barriers and latches, performance and scalability, CAS and
                fine-grained concurrency</span
            >
        </h2>
        <ul class="c0 lst-kix_shr38dyz7sq1-0 start">
            <li class="c1 li-bullet-0">
                <span class="c11">Latch</span
                ><span class="c4"
                    >: a state based facility that blocks threads until its
                    terminal state is reached.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >It acts like a gate; the gate is closed when it&rsquo;s in
                    any other state, and the gate is open when it reaches its
                    terminal state.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >An implementation of a latch is the CountDownLatch class in
                    Java.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >It&rsquo;s initialised with some positive integer, and has
                    two methods:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_shr38dyz7sq1-1 start">
            <li class="c2 li-bullet-0">
                <span class="c16">await()</span
                ><span class="c4"
                    >&nbsp;- Blocks a thread until the terminal state is
                    reached</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c16">countDown()</span
                ><span class="c4"
                    >&nbsp;- Decrements an internal counter in the latch</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_shr38dyz7sq1-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >The CountDownLatch reaches its terminal state when its
                    internal counter equals zero.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span>Here&rsquo;s an example of using this class: </span
                ><span class="c31"
                    ><a
                        class="c32"
                        href="https://www.google.com/url?q=https://ideone.com/7nTU1j&amp;sa=D&amp;source=editors&amp;ust=1623676074465000&amp;usg=AOvVaw2cTZMpzxsTDPNBe9mOX9Sh"
                        >https://ideone.com/7nTU1j</a
                    ></span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >In this example, thread #1 and #2 wait for the latch, and
                    thread #3 counts the latch down twice. Since the latch was
                    initialised with the number &lsquo;2&rsquo;, by counting
                    down twice, the counter reaches zero, thereby making the
                    latch reach its terminal state. When the latch reaches its
                    terminal state, threads #1 and #2 are no longer blocked and
                    they display their respective messages.</span
                >
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 556.5px;
                    height: 285.48px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image183.png"
                    style="
                        width: 556.5px;
                        height: 285.48px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_shr38dyz7sq1-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Barrier</span
                ><span
                    >: blocks threads until a certain number of threads reach
                    the barrier. Once </span
                ><span class="c144">seven human SOULs are collected</span
                ><span class="c4"
                    >&nbsp;all the threads are present at the barrier, the
                    barrier opens and all the threads are freed together,
                    thereby synchronising all of them.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Java has a barrier called CyclicBarrier, which is
                    initialised with a number of processes.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >As opposed to latches, barriers only have one method:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_shr38dyz7sq1-1 start">
            <li class="c2 li-bullet-0">
                <span class="c16">await()</span
                ><span class="c4"
                    >&nbsp;- Blocks a thread, making it wait for the other
                    threads</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_shr38dyz7sq1-0">
            <li class="c1 li-bullet-0">
                <span>Here&rsquo;s an example of using this class: </span
                ><span class="c31"
                    ><a
                        class="c32"
                        href="https://www.google.com/url?q=https://ideone.com/kjCWfj&amp;sa=D&amp;source=editors&amp;ust=1623676074466000&amp;usg=AOvVaw0K4pev8dSIddDfAcba-U3E"
                        >https://ideone.com/kjCWfj</a
                    ></span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >In this example, threads #1, #2 and #3 each arrive at the
                    barrier at different times. However, they only ever finish
                    after all threads have arrived at the barrier.</span
                >
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 576.37px;
                    height: 254.5px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image97.png"
                    style="
                        width: 576.37px;
                        height: 254.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_shr38dyz7sq1-0">
            <li class="c1 li-bullet-0">
                <span class="c4">Latches and barriers differentiate by:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_shr38dyz7sq1-1 start">
            <li class="c2 li-bullet-0">
                <span class="c4">Latches wait for events</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4">Barriers wait for other threads</span>
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_of4qckkdq8it-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >In terms of performance, you should aim to make stuff work,
                    and then optimise it (make it fast).</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Threading generally increases performance, but it has
                    overheads:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_of4qckkdq8it-1 start">
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >Thread coordination (locking, signalling, synchronisation
                    etc.) can be expensive</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >Context switching, thread creation, OS scheduling
                    overheads</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_of4qckkdq8it-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >You need to judge if making everything concurrent is
                    actually worth it.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >But you should always aim to make your software
                    scalable.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Scalability</span
                ><span class="c4"
                    >: the ability to improve performance when additional
                    resources are added</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >If you double the clock speed, obviously operations will
                    run faster.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >But if you added another CPU core, will your software run
                    faster?</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_of4qckkdq8it-1 start">
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >If your software uses multiple threads, then yes,
                    theoretically it&rsquo;ll have better performance.</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >If you do everything on one thread (if everything is
                    sequential), then that extra hardware isn&rsquo;t used, so
                    performance stays the same.</span
                >
            </li>
        </ul>
        <p class="c42 c56 c41 c60"><span class="c4"></span></p>
        <ul class="c0 lst-kix_of4qckkdq8it-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >A way to model this is through Amdahl&rsquo;s law:</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c18 c16">speedup &le; 1 / (F + (1 - F) / N)</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_of4qckkdq8it-1 start">
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >F is the fraction of the task that is sequential.</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4">N is the number of cores.</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_of4qckkdq8it-0">
            <li class="c1 li-bullet-0">
                <span>For example, if 100% of your software is </span
                ><span>sequential</span><span class="c4">&nbsp;(F = 1):</span>
            </li>
        </ul>
        <p class="c42 c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 328px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image250.png"
                    style="
                        width: 602px;
                        height: 328px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_ei8il6rdkh4z-0 start">
            <li class="c1 li-bullet-0">
                <span>As you can see (the </span><span class="c70 c54">red</span
                ><span class="c4"
                    >&nbsp;line is Amdahl&rsquo;s law) there is absolutely no
                    speedup when you increase the number of cores.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >If your software is a little bit multi-threaded (F =
                    0.8):</span
                >
            </li>
        </ul>
        <p class="c42 c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 329.33px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image232.png"
                    style="
                        width: 602px;
                        height: 329.33px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_187zd796k6ix-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Performance doesn&rsquo;t really increase much, but it
                    still goes up.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Do you remember limits from Intelligent Systems?</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >If you were to find the limit of Amdahl&rsquo;s law where F
                    = 0.8, you&rsquo;ll find that you&rsquo;ll never increase
                    your performance past x1.25.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >If your software is very multi-threaded (F = 0.1):</span
                >
            </li>
        </ul>
        <p class="c42 c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 328px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image227.png"
                    style="
                        width: 602px;
                        height: 328px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_er63isp3be4m-0 start">
            <li class="c1 li-bullet-0">
                <span
                    >Then you&rsquo;ll get a lot of performance increase from
                    adding more cores. But there is always a point at which
                    adding more cores is </span
                ><span>negligible</span
                ><span class="c4">&nbsp;to the performance increase.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Where F = 0.1, the most you can increase your performance
                    by is x10. That&rsquo;s far greater than x1.25!</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Nevertheless, it&rsquo;s good to make your software as
                    multi-threaded as possible (unless the overheads are too big
                    of a problem in your system).</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_er63isp3be4m-0">
            <li class="c1 li-bullet-0">
                <span
                    >There are other ways to improve scalability, like reducing </span
                ><span class="c11">lock contention</span
                ><span class="c4"
                    >&nbsp;(multiple threads fighting over the same lock).</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">You can do that by:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_er63isp3be4m-1 start">
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >reducing the duration for which locks are held</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >reducing the frequency at which locks are requested</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >replace exclusive locks with other mechanisms that provide
                    greater concurrency, like CAS</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_er63isp3be4m-0">
            <li class="c1 li-bullet-0">
                <span class="c11">CAS (compare-and-set)</span
                ><span class="c4"
                    >: an atomic instruction that will only set a new value if a
                    memory location contains the old, expected value.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">It goes like this:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_er63isp3be4m-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16">CAS(V, A, B)</span>
            </li>
            <li class="c2 li-bullet-0"><span class="c4">Where:</span></li>
        </ul>
        <ul class="c0 lst-kix_er63isp3be4m-2 start">
            <li class="c37 li-bullet-0">
                <span class="c16">V</span
                ><span class="c4">&nbsp;- Memory location</span>
            </li>
            <li class="c37 li-bullet-0">
                <span class="c16">A</span
                ><span class="c4">&nbsp;- Old, expected value</span>
            </li>
            <li class="c37 li-bullet-0">
                <span class="c16">B</span
                ><span class="c4">&nbsp;- New value to write</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_er63isp3be4m-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >If V contains A then it is atomically changed to B and CAS
                    returns true.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >If V does not contain A then nothing happens and CAS
                    returns false.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >If multiple threads try to change a value using CAS, one
                    wins and the others fail.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >When the others fail, they fetch the old value again and
                    try again.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span>From Java 5, CAS has been available on </span
                ><span class="c16">int</span><span>, </span
                ><span class="c16">long</span><span>&nbsp;and </span
                ><span class="c16">Object</span
                ><span
                    >&nbsp;references. It&rsquo;s used in lots of thread-safe
                    data structures in </span
                ><span class="c16">java.util.concurrent</span
                ><span class="c4">.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span>Here&rsquo;s an example of CAS: </span
                ><span class="c31"
                    ><a
                        class="c32"
                        href="https://www.google.com/url?q=https://ideone.com/TuTFS7&amp;sa=D&amp;source=editors&amp;ust=1623676074474000&amp;usg=AOvVaw3B1DF2IPzuOpc3k9aM9eIJ"
                        >https://ideone.com/TuTFS7</a
                    ></span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >In this example, five threads try to change the value of
                    one AtomicInteger. Each thread has a loop, which keeps
                    trying to use CAS on the integer until they succeed. It also
                    uses a barrier, so that a sixth thread can tell us the final
                    integer value. It is 70, as expected.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span>Here is the same example, but without CAS: </span
                ><span class="c31"
                    ><a
                        class="c32"
                        href="https://www.google.com/url?q=https://ideone.com/UYkwIc&amp;sa=D&amp;source=editors&amp;ust=1623676074475000&amp;usg=AOvVaw3m3YKvWtgE4Yj3WyQQ3dMD"
                        >https://ideone.com/UYkwIc</a
                    ></span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >This example is not thread-safe, so the threads are
                    overwriting and interrupting each other. This leads to an
                    incorrect final integer value at the end.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_er63isp3be4m-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Stacks are simple to implement and are easy to make
                    concurrent because it only has one point of contention: the
                    top of the stack.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span
                    >There are also other solutions to other data types, like
                    the Michael-Scott queue (in Java, it&rsquo;s </span
                ><span class="c16">java.util.concurrent.JavaLinkedQueue</span
                ><span>)</span>
            </li>
        </ul>
        <h2 class="c51" id="h.um50bke1h1k0">
            <span class="c57 c58"
                >Message passing, software transactional memory</span
            >
        </h2>
        <ul class="c0 lst-kix_susox73j8v74-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >How do other languages handle concurrency?</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_susox73j8v74-1 start">
            <li class="c2 li-bullet-0">
                <span class="c4">Erlang: asynchronous message passing</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >Clojure: immutable data, software transactional
                    memory</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_susox73j8v74-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Message passing </span
                ><span class="c4"
                    >is exactly what it sounds; processes send messages to each
                    other when they want to communicate.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span>With message passing, all</span
                ><span>&nbsp;communication </span
                ><span class="c4"
                    >is explicit: processes send messages to each other, they
                    read it and act based on that message.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >It&rsquo;s easier to manage this way: fewer risks of
                    deadlock, races, visibility bus etc.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >It&rsquo;s also more general, as distributed systems use
                    this (they do not have shared memory, unless there is a file
                    server, but that&rsquo;s different)</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >There is increasing hardware support for this kind of
                    thing.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_susox73j8v74-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Synchronous </span
                ><span class="c4"
                    >communication: sender is blocked until receiver is ready,
                    or receiver is blocked until sender is ready</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_susox73j8v74-1 start">
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >It&rsquo;s popular in hardware design, but it&rsquo;s very
                    hard to do in distributed settings</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_susox73j8v74-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Asynchronous</span
                ><span class="c4"
                    >&nbsp;communication: sender just sends and continues its
                    execution</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_susox73j8v74-1 start">
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >It uses callback functions, which are like events that are
                    fired when a response is received</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >It&rsquo;s easier to use this in distributed settings</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_susox73j8v74-0">
            <li class="c1 li-bullet-0">
                <span class="c83">Erlang</span
                ><span class="c4"
                    >&nbsp;uses asynchronous message passing. It&rsquo;s
                    designed for distributed, fault-tolerant applications.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >It&rsquo;s functional, call-by-value and has a garbage
                    collector.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">It powers things like Facebook chat.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span>The model that Erlang uses for concurrency is the </span
                ><span class="c11">actor model</span
                ><span
                    >, where processes are modelled as &lsquo;actors&rsquo;,
                    each with their own addresses and message queues</span
                ><span class="c4">.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >An actor can send a message to another actor, given that
                    they know that actor&rsquo;s address, or PID.</span
                >
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 432.69px;
                    height: 149.5px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image178.png"
                    style="
                        width: 432.69px;
                        height: 149.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_bltvqgyh7zzk-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >If you know Haskell, Erlang is actually really simple to
                    learn!</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span
                    >First, download OTP from here (it&rsquo;s comparable to
                    Haskell Platform): </span
                ><span class="c31"
                    ><a
                        class="c32"
                        href="https://www.google.com/url?q=https://www.erlang.org/downloads&amp;sa=D&amp;source=editors&amp;ust=1623676074479000&amp;usg=AOvVaw35Ene5hSGJly43dBpLHCL3"
                        >https://www.erlang.org/downloads</a
                    ></span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span>I recommend the course from the Erlang website </span
                ><span class="c31"
                    ><a
                        class="c32"
                        href="https://www.google.com/url?q=https://www.erlang.org/course&amp;sa=D&amp;source=editors&amp;ust=1623676074479000&amp;usg=AOvVaw1ymCrBv7OCtFKaqOChYS5U"
                        >https://www.erlang.org/course</a
                    ></span
                ><span class="c4"
                    >&nbsp;(even though it&rsquo;s more like a reference guide).
                    Start with the sequential programming section to get used to
                    the syntax, and then move on to the concurrent programming
                    section to see how to create processes and send messages in
                    Erlang.</span
                >
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_8ms3m7nwvsrw-0 start">
            <li class="c1 li-bullet-0">
                <span>Another really interesting thing about Erlang is </span
                ><span class="c11">nodes</span><span class="c4">.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span
                    >Nodes are running instances of the Erlang virtual machine.
                    When you type </span
                ><span class="c16">erl</span
                ><span class="c4"
                    >&nbsp;into the terminal and you open up the shell,
                    you&rsquo;ve already created a new node!</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >If you have Erlang installed, here&rsquo;s something you
                    can try right now:</span
                >
            </li>
        </ul>
        <ol class="c0 lst-kix_o3smy4adwala-0 start" start="1">
            <li class="c2 li-bullet-0">
                <span class="c4">Open up two terminals</span>
            </li>
            <li class="c2 li-bullet-0">
                <span>Run </span><span class="c16">erl -sname hi</span
                ><span class="c4">&nbsp;in one</span>
            </li>
            <li class="c2 li-bullet-0">
                <span>Run </span><span class="c16">erl -sname hi2</span
                ><span class="c4">&nbsp;in the other</span>
            </li>
            <li class="c2 li-bullet-0">
                <span>You will now see something like </span
                ><span class="c16">(hi@pcname)1&gt;</span><span>&nbsp;and </span
                ><span class="c18 c16">(hi2@pcname)1&gt;</span>
            </li>
            <li class="c2 li-bullet-0">
                <span>To ping a node, run </span
                ><span class="c16">net_adm:ping(&#39;hi@pcname&#39;). </span
                ><span>in the hi2 shell (obviously, replace </span
                ><span class="c16">pcname</span
                ><span class="c4"
                    >&nbsp;with whatever it says on the hi node).</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >You&rsquo;ll see it prints just &lsquo;pong&rsquo;, but
                    that &lsquo;pong&rsquo; came from the hi node!</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span>To see a list of visible nodes, run </span
                ><span class="c18 c16">nodes().</span>
            </li>
            <li class="c2 li-bullet-0">
                <span
                    >If you run that in hi2, you&rsquo;ll see hi, and if you run
                    it in hi, you&rsquo;ll see hi2.</span
                >
            </li>
        </ol>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_bltvqgyh7zzk-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >If you don&rsquo;t give a rat&rsquo;s ass about Erlang, you
                    just need to know these things:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_bltvqgyh7zzk-1 start">
            <li class="c2 li-bullet-0">
                <span>You can spawn a process with the </span
                ><span class="c16">spawn </span><span>function</span>
            </li>
            <li class="c2 li-bullet-0">
                <span>You can send messages with the </span
                ><span class="c16">!</span
                ><span class="c4">&nbsp;operator</span>
            </li>
            <li class="c2 li-bullet-0">
                <span>The </span><span class="c16">register</span
                ><span class="c4"
                    >&nbsp;function lets you assign names to PIDs (process
                    addresses)</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span>The </span><span class="c16">receive</span
                ><span class="c4"
                    >&nbsp;construct lets you pattern match messages sent to
                    this process</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >Nodes are instances of the Erlang virtual machine that can
                    run many processes, and there is lots of support for
                    communicating between them.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_bltvqgyh7zzk-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Software Transactional Memory (STM)</span
                ><span class="c4"
                    >: an alternative to the lock mechanism used in concurrency,
                    and was inspired by database transactions.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">It works like this:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_bltvqgyh7zzk-1 start">
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >There exists shared memory and a number of processes that
                    can read/write to it.</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span
                    >A process wants to edit some memory. So it makes the change </span
                ><span class="c45">locally</span><span class="c4">.</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >After doing all the read/write it wants, it checks if any
                    process edited the memory while it was working on it.</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >If there was a change, there is a roll-back, and the
                    process tries again.</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >If there was no change, this process&rsquo; change is
                    committed, and all other processes immediately see that
                    process&rsquo; changes.</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_bltvqgyh7zzk-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Think of it like Git. Let&rsquo;s just say you&rsquo;re
                    working on a file, Main.java, with your group. While
                    you&rsquo;re editing the file, nobody else can see your
                    changes, because they&rsquo;re local. Your group can only
                    see your changes once you commit and push. Instead of lots
                    of little reads and writes, your commit is like one big
                    change. Now just imagine the shared memory being the
                    repository, and all of your team members (including you!)
                    being the processes. This idea of atomic transactions is
                    what drives Software Transactional Memory.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >The only difference is, if there was a change to your file
                    and you tried to commit, in Git you would have a merge
                    conflict, but in STM you&rsquo;d simply roll-back your
                    changes and try again.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >This idea is usually software-based, rather than a hardware
                    component.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >It&rsquo;s easier for the programmer because we don&rsquo;t
                    have to fiddle around with explicit locks.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Just like Git, changes look like they&rsquo;re done in
                    series, when really they&rsquo;re done concurrently.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_bltvqgyh7zzk-0">
            <li class="c1 li-bullet-0">
                <span
                    >We still have challenges though; how do we roll-back
                    side-effects (like </span
                ><span class="c16">printf</span
                ><span class="c4">), or deal with nested transactions?</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Well, what does Git do? Git has snapshots of previous
                    commits, and anyone can see a snapshot of the repository at
                    any time, and relies on one persistent data structure to
                    link all the commits together. Hmm...</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_bltvqgyh7zzk-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Multiversion concurrency control (MVCC)</span
                ><span class="c4"
                    >: a concurrency control method that relies on copy-on-write
                    and snapshots of the shared memory to implement
                    transactional memory.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >In Git, when you commit, do you throw away the old changes
                    and replace them with the new ones?</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >No! You have multiple snapshots, and everyone can see a
                    snapshot at any time.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Additionally, are all the commits just hard copies of the
                    repository?</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Of course not! The commits state what is added and what is
                    removed, which is basically copy-on-write.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >With MVCC, nobody blocks each other. It uses snapshots, so
                    nobody has to wait (even though people may get old versions
                    of the data), and it uses copy-on-write, so we don&rsquo;t
                    have large amounts of copies and redundant data.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_bltvqgyh7zzk-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Don&rsquo;t know how copy-on-write works? Don&rsquo;t
                    worry, here&rsquo;s an example:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_bltvqgyh7zzk-1 start">
            <li class="c2 li-bullet-0">
                <span class="c4">Let&rsquo;s say you had a binary tree:</span>
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 220px;
                    height: 199px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image254.png"
                    style="
                        width: 220px;
                        height: 199px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_2ccl41cgnrma-0 start">
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >You want to add the node 34 so you copy the whole tree and
                    add this node into it:</span
                >
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 257px;
                    height: 199px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image147.png"
                    style="
                        width: 257px;
                        height: 199px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_o47q1xo29uvp-0 start">
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >Now the tree has changed. Congratulations!
                    &#x1f44f;&#x1f44f;&#x1f44f;</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span
                    >But some branches are repeated, such as the left branch of
                    5, and the left branch of 21. This is duplicate data!</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >So, instead of copying that data, we can have pointers to
                    the original data structure in this new one:</span
                >
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 382px;
                    height: 201px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image159.png"
                    style="
                        width: 382px;
                        height: 201px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c50 c93">
            <span class="c27"
                >The thick arrows are paths in the tree, and the dotted lines
                are pointers</span
            >
        </p>
        <ul class="c0 lst-kix_7kyeaeumq5xf-0 start">
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >Now, if you tried to access the left subtree of 5 in the
                    new tree, you&rsquo;d be taken back to the original tree,
                    because the data didn&rsquo;t change in that
                    transaction.</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >So now, when we add a node, instead of copying the entire
                    tree, we only need to copy the path to that new node. See?
                    Much more efficient!</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >In addition, when we do this, we can make our data
                    structures immutable (not editable). There&rsquo;s no need
                    to if we do it this way! This also makes them thread-safe,
                    because we no longer have mutability! Yay!</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span>Source: </span
                ><span class="c31"
                    ><a
                        class="c32"
                        href="https://www.google.com/url?q=https://hackerboss.com/copy-on-write-101-part-1-what-is-it/&amp;sa=D&amp;source=editors&amp;ust=1623676074494000&amp;usg=AOvVaw0PSu1dTPpSPf7EsiY6E7uk"
                        >https://hackerboss.com/copy-on-write-101-part-1-what-is-it/</a
                    ></span
                >
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_pg05ojldwgeg-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >What? You want more examples? Here&rsquo;s an example of
                    MVCC in action:</span
                >
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <a id="t.9f3e6a6f80bca138779b6d038cb4ef131921a3da"></a><a id="t.29"></a>
        <table class="c29">
            <tbody>
                <tr class="c3">
                    <td class="c14 c72" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Table</span></p>
                    </td>
                    <td class="c14 c72" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Explanation</span></p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c8 c41"><span class="c4"></span></p>
                        <a id="t.72a71ad1388b7db197851595d90349b364ec9276"></a
                        ><a id="t.30"></a>
                        <table class="c29">
                            <tbody>
                                <tr class="c3">
                                    <td class="c87 c72" colspan="1" rowspan="1">
                                        <p class="c8">
                                            <span class="c5">Time</span>
                                        </p>
                                    </td>
                                    <td
                                        class="c117 c72"
                                        colspan="1"
                                        rowspan="1"
                                    >
                                        <p class="c8">
                                            <span class="c5">Data</span>
                                        </p>
                                    </td>
                                </tr>
                                <tr class="c3">
                                    <td class="c87" colspan="1" rowspan="1">
                                        <p class="c8">
                                            <span class="c4">0s</span>
                                        </p>
                                    </td>
                                    <td class="c117" colspan="1" rowspan="1">
                                        <p class="c8">
                                            <span class="c18 c16"
                                                >Foo: 56 by Alice</span
                                            >
                                        </p>
                                        <p class="c8">
                                            <span class="c18 c16"
                                                >Bar: 42 by Alice</span
                                            >
                                        </p>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <p class="c8 c41"><span class="c4"></span></p>
                    </td>
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c42 c56">
                            <span class="c4"
                                >Alice and Bob have shared memory they want to
                                use.</span
                            >
                        </p>
                        <p class="c42 c56 c41"><span class="c4"></span></p>
                        <p class="c42 c56">
                            <span class="c4"
                                >Alice and Bob can commit changes and read
                                snapshots at any time.</span
                            >
                        </p>
                        <p class="c42 c56 c41"><span class="c4"></span></p>
                        <p class="c42 c56">
                            <span class="c4"
                                >Alice wrote the Foo and Bar objects before they
                                started.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c8 c41"><span class="c4"></span></p>
                        <a id="t.8e8e32b764d033395c0274b3d7fb0797b0093be7"></a
                        ><a id="t.31"></a>
                        <table class="c29">
                            <tbody>
                                <tr class="c3">
                                    <td class="c87 c72" colspan="1" rowspan="1">
                                        <p class="c8">
                                            <span class="c5">Time</span>
                                        </p>
                                    </td>
                                    <td
                                        class="c117 c72"
                                        colspan="1"
                                        rowspan="1"
                                    >
                                        <p class="c8">
                                            <span class="c5">Data</span>
                                        </p>
                                    </td>
                                </tr>
                                <tr class="c3">
                                    <td class="c87" colspan="1" rowspan="1">
                                        <p class="c8">
                                            <span class="c4">0s</span>
                                        </p>
                                    </td>
                                    <td class="c117" colspan="1" rowspan="1">
                                        <p class="c8">
                                            <span class="c18 c16"
                                                >Foo: 56 by Alice</span
                                            >
                                        </p>
                                        <p class="c8">
                                            <span class="c18 c16"
                                                >Bar: 42 by Alice</span
                                            >
                                        </p>
                                    </td>
                                </tr>
                                <tr class="c3">
                                    <td class="c87" colspan="1" rowspan="1">
                                        <p class="c8">
                                            <span class="c4">10s</span>
                                        </p>
                                    </td>
                                    <td class="c117" colspan="1" rowspan="1">
                                        <p class="c8">
                                            <span class="c18 c16"
                                                >Bar: 20 by Bob</span
                                            >
                                        </p>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <p class="c8 c41"><span class="c4"></span></p>
                    </td>
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c42 c56">
                            <span class="c4"
                                >10 seconds pass, and Bob commits a change to
                                the Bar object. It&rsquo;s now 20.</span
                            >
                        </p>
                        <p class="c42 c56 c41"><span class="c4"></span></p>
                        <p class="c42 c56">
                            <span class="c4"
                                >Alice reads the value of Foo and Bar at the 5
                                second mark, and gets the values 56 and 42,
                                respectively.</span
                            >
                        </p>
                        <p class="c42 c56 c41"><span class="c4"></span></p>
                        <p class="c42 c56">
                            <span class="c4"
                                >But then Alice reads the value of Foo and Bar
                                at the 15 second mark, and instead gets 56 and
                                20, respectively.</span
                            >
                        </p>
                        <p class="c42 c56 c41"><span class="c4"></span></p>
                        <p class="c42 c56">
                            <span class="c4"
                                >The new value that Bob writes supersedes the
                                previous value, because it was written
                                after.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c8 c41"><span class="c4"></span></p>
                        <a id="t.322597b45258f687429aa0be69452cdc9fb23fa4"></a
                        ><a id="t.32"></a>
                        <table class="c29">
                            <tbody>
                                <tr class="c3">
                                    <td class="c87 c72" colspan="1" rowspan="1">
                                        <p class="c8">
                                            <span class="c5">Time</span>
                                        </p>
                                    </td>
                                    <td
                                        class="c117 c72"
                                        colspan="1"
                                        rowspan="1"
                                    >
                                        <p class="c8">
                                            <span class="c5">Data</span>
                                        </p>
                                    </td>
                                </tr>
                                <tr class="c3">
                                    <td class="c87" colspan="1" rowspan="1">
                                        <p class="c8">
                                            <span class="c4">0s</span>
                                        </p>
                                    </td>
                                    <td class="c117" colspan="1" rowspan="1">
                                        <p class="c8">
                                            <span class="c18 c16"
                                                >Foo: 56 by Alice</span
                                            >
                                        </p>
                                        <p class="c8">
                                            <span class="c18 c16"
                                                >Bar: 42 by Alice</span
                                            >
                                        </p>
                                    </td>
                                </tr>
                                <tr class="c3">
                                    <td class="c87" colspan="1" rowspan="1">
                                        <p class="c8">
                                            <span class="c4">10s</span>
                                        </p>
                                    </td>
                                    <td class="c117" colspan="1" rowspan="1">
                                        <p class="c8">
                                            <span class="c18 c16"
                                                >Bar: 20 by Bob</span
                                            >
                                        </p>
                                    </td>
                                </tr>
                                <tr class="c3">
                                    <td class="c87" colspan="1" rowspan="1">
                                        <p class="c8">
                                            <span class="c4">20s</span>
                                        </p>
                                    </td>
                                    <td class="c117" colspan="1" rowspan="1">
                                        <p class="c8">
                                            <span class="c18 c16"
                                                >Bar: (deleted) by TS</span
                                            >
                                        </p>
                                        <p class="c8">
                                            <span class="c18 c16"
                                                >FooBar: &ldquo;pawel&rdquo; by
                                                Bob</span
                                            >
                                        </p>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <p class="c8 c41"><span class="c4"></span></p>
                        <p class="c8 c41"><span class="c4"></span></p>
                    </td>
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c42 c56">
                            <span class="c4"
                                >Now, at the 20 second mark, someone else comes
                                in, known only by the initials &ldquo;TS&rdquo;,
                                and deletes Bar!</span
                            >
                        </p>
                        <p class="c42 c56 c41"><span class="c4"></span></p>
                        <p class="c42 c56">
                            <span class="c4"
                                >At the same time, Bob commits a new object
                                called FooBar.</span
                            >
                        </p>
                        <p class="c42 c56 c41"><span class="c4"></span></p>
                        <p class="c42 c56">
                            <span class="c4"
                                >At the 18 second mark, Alice still reads Foo =
                                56 and Bar = 20. Alice is unaware of FooBar
                                until that 20 second mark.</span
                            >
                        </p>
                        <p class="c42 c56 c41"><span class="c4"></span></p>
                        <p class="c42 c56">
                            <span class="c4"
                                >However, at the 26 second mark, Alice reads
                                again and realises that Bar was deleted and
                                FooBar was created.</span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_rjpti319mv4w-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >As you can see, it&rsquo;s very similar to how Git
                    works.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_rjpti319mv4w-0">
            <li class="c1 li-bullet-0">
                <span>Lastly, let&rsquo;s see how </span
                ><span class="c83">Clojure</span><span>&nbsp;</span
                ><span class="c4">handles concurrency.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >The syntax is like Lisp and Scheme, because there&rsquo;s
                    lots of parentheses.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >It compiles to JVM, like Scala or Kotlin.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >It&rsquo;s functional, dynamically typed, designed for
                    concurrency and has metadata for all types.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >The philosophy of Clojure is that all data is immutable, so
                    copy-on-write is a big thing.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >So instead of the data changing, only the references
                    do!</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span>Clojure has the data type </span
                ><span class="c16">Ref</span
                ><span class="c4">&nbsp;which holds a reference.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Refs can only change during transactions.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Like STM, changes to Refs are either made or not, and
                    no-one can see changes during a transaction.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span
                    >Side-effects are not allowed! (Well, you could use monads
                    in Clojure, but nobody ever does, not even </span
                ><span class="c31"
                    ><a
                        class="c32"
                        href="https://www.google.com/url?q=https://stackoverflow.com/a/9900472&amp;sa=D&amp;source=editors&amp;ust=1623676074522000&amp;usg=AOvVaw0hRDuc1yJy3ZkDGDUoye2E"
                        >this guy</a
                    ></span
                ><span class="c4">)</span>
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_rjpti319mv4w-0">
            <li class="c1 li-bullet-0">
                <span>To perform a transaction, wrap code in a </span
                ><span class="c16">dosync</span
                ><span class="c4">&nbsp;function.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Clojure uses MVCC, so it&rsquo;ll create a new snapshot of
                    the data.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >You don&rsquo;t edit Refs directly; that only for
                    coordinated, synchronous changes.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >To work asynchronously, you need to use agents.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span>An </span><span class="c11">agent</span
                ><span class="c4"
                    >&nbsp;is attached to a single location and can perform
                    actions on that location asynchronously by:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_rjpti319mv4w-1 start">
            <li class="c2 li-bullet-0">
                <span class="c4">being fed a function to execute</span>
            </li>
            <li class="c2 li-bullet-0">
                <span
                    >executes that function asynchronously by a thread
                    pool</span
                >
            </li>
        </ul>
        <h2 class="c51" id="h.mne411yuaf9e">
            <span class="c57 c58">Rust and concurrency</span>
        </h2>
        <ul class="c0 lst-kix_pn76tsohm6oy-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >We&rsquo;ve already established that race conditions happen
                    because of two things:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_pn76tsohm6oy-1 start">
            <li class="c2 li-bullet-0">
                <span>Aliasing </span
                ><span class="c45 c9 c58 c104"
                    >(multiple threads have access to the same location)</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span>Mutability </span
                ><span class="c104 c45 c9 c58"
                    >(the same location can be modified by any thread)</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_pn76tsohm6oy-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Clojure restricts mutability, but like Erlang, Rust
                    restricts aliasing.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_pn76tsohm6oy-0">
            <li class="c1 li-bullet-0">
                <span>Rust uses a </span
                ><span class="c11">linear type system</span
                ><span
                    >, which means that types are passed around instead of
                    shared, allowing </span
                ><span class="c11">ownership</span><span class="c4">.</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_pn76tsohm6oy-1 start">
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >I can own a resource, but then if I give that resource to
                    someone else, I don&rsquo;t own that resource anymore.</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_pn76tsohm6oy-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >It eliminates race conditions using its linear type
                    system.</span
                >
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_l69vo8ze7uj8-0 start">
            <li class="c1 li-bullet-0">
                <span>Rust is an </span><span>imperative</span
                ><span class="c4"
                    >&nbsp;language. It mixes object-orientation and functional
                    concepts, but it aims to be a systems language.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_l69vo8ze7uj8-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Here&rsquo;s an example of ownership in Rust (if you
                    don&rsquo;t know Rust, don&rsquo;t worry; it&rsquo;s similar
                    to C):</span
                >
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <a id="t.7baf9ef06f27a4669cbf65220e2d9a673b61fe05"></a><a id="t.33"></a>
        <table class="c29">
            <tbody>
                <tr class="c3">
                    <td class="c139 c72" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Code</span></p>
                    </td>
                    <td class="c106 c72" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Explanation</span></p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c139 c153" colspan="1" rowspan="1">
                        <p class="c42">
                            <span class="c25 c16">fn</span
                            ><span class="c30 c16"
                                >&nbsp;main() {<br />
                                &nbsp; </span
                            ><span class="c25 c16">let</span
                            ><span class="c30 c16">&nbsp;s = </span
                            ><span class="c24 c16">String</span
                            ><span class="c30 c16">::from(</span
                            ><span class="c16 c111 c62">&quot;hello&quot;</span
                            ><span class="c30 c16"
                                >);<br />
                                &nbsp; takes_ownership(s);<br /><br />
                                &nbsp; </span
                            ><span class="c16 c152 c62"
                                >// ERROR: println!(&quot;{}&quot;, s);</span
                            ><span class="c30 c16"
                                ><br /><br />
                                &nbsp; </span
                            ><span class="c25 c16">let</span
                            ><span class="c30 c16">&nbsp;x = </span
                            ><span class="c16 c95 c62">5</span
                            ><span class="c30 c16"
                                >;<br />
                                &nbsp; makes_copy(x);<br /><br />
                                &nbsp; </span
                            ><span class="c24 c16">println!</span
                            ><span class="c30 c16">(</span
                            ><span class="c16 c111 c62">&quot;{}&quot;</span
                            ><span class="c30 c16">, x);<br />}<br /></span
                            ><span class="c25 c16">fn</span
                            ><span class="c30 c16"
                                >&nbsp;takes_ownership(some_string: </span
                            ><span class="c24 c16">String</span
                            ><span class="c30 c16"
                                >) {<br />
                                &nbsp; </span
                            ><span class="c24 c16">println!</span
                            ><span class="c30 c16">(</span
                            ><span class="c16 c111 c62">&quot;{}&quot;</span
                            ><span class="c30 c16"
                                >, some_string);<br />}<br /><br /></span
                            ><span class="c25 c16">fn</span
                            ><span class="c30 c16"
                                >&nbsp;makes_copy(some_integer: </span
                            ><span class="c24 c16">i32</span
                            ><span class="c30 c16"
                                >) {<br />
                                &nbsp; </span
                            ><span class="c24 c16">println!</span
                            ><span class="c30 c16">(</span
                            ><span class="c16 c111 c62">&quot;{}&quot;</span
                            ><span class="c30 c16"
                                >, some_integer);<br />}</span
                            >
                        </p>
                    </td>
                    <td class="c106" colspan="1" rowspan="1">
                        <p class="c8">
                            <span>Let&rsquo;s start at the </span
                            ><span class="c16">main</span
                            ><span class="c4">&nbsp;function.</span>
                        </p>
                        <p class="c8 c41"><span class="c4"></span></p>
                        <p class="c8">
                            <span class="c4"
                                >On the first line, we create a string that
                                contains &lsquo;hello&rsquo;.</span
                            >
                        </p>
                        <p class="c8 c41"><span class="c4"></span></p>
                        <p class="c8">
                            <span>Then, we pass that string into the </span
                            ><span class="c16">takes_ownership</span
                            ><span
                                >&nbsp;function. That function now has ownership
                                of that string, so we can&rsquo;t use it in the
                                main function anymore. If we were to uncomment
                                that </span
                            ><span class="c16">println</span
                            ><span>&nbsp;line that accesses the string </span
                            ><span class="c16">s</span
                            ><span class="c4"
                                >, we would receive an error.</span
                            >
                        </p>
                        <p class="c8 c41"><span class="c4"></span></p>
                        <p class="c8">
                            <span class="c4"
                                >Next, we create an integer that contains
                                &lsquo;5&rsquo;.</span
                            >
                        </p>
                        <p class="c8 c41"><span class="c4"></span></p>
                        <p class="c8">
                            <span>We then pass that into the function </span
                            ><span class="c16">makes_copy</span
                            ><span>. Because the type of </span
                            ><span class="c16">x</span><span>, </span
                            ><span class="c16">i32</span
                            ><span
                                >&nbsp;(integer 32 bit), implements the Copy
                                trait, a copy of the value is made and we can
                                still use the variable </span
                            ><span class="c16">x</span><span>&nbsp;inside </span
                            ><span class="c16">main</span
                            ><span class="c4">.</span>
                        </p>
                        <p class="c8 c41"><span class="c4"></span></p>
                        <p class="c8">
                            <span>At the end of the </span
                            ><span class="c16">takes_ownership</span
                            ><span>&nbsp;function, </span
                            ><span class="c16">drop</span
                            ><span>&nbsp;is called</span
                            ><span class="c4"
                                >&nbsp;implicitly and the memory that
                                accommodates the string is freed.</span
                            >
                        </p>
                        <p class="c8 c41"><span class="c4"></span></p>
                        <p class="c8">
                            <span>You can run this code here: </span
                            ><span class="c31"
                                ><a
                                    class="c32"
                                    href="https://www.google.com/url?q=https://ideone.com/tgO6S2&amp;sa=D&amp;source=editors&amp;ust=1623676074535000&amp;usg=AOvVaw2grDqPg-0O_YZsXkrIpPsV"
                                    >https://ideone.com/tgO6S2</a
                                ></span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_oeoannm5rqgm-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4">There&rsquo;s also borrowing in Rust.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >This is similar to passing around references in C++:</span
                >
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <a id="t.bcfedd5d8d1326801bf0db658ded2ab68dbe2253"></a><a id="t.34"></a>
        <table class="c29">
            <tbody>
                <tr class="c3">
                    <td class="c139 c72" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Code</span></p>
                    </td>
                    <td class="c72 c106" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Explanation</span></p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c139 c153" colspan="1" rowspan="1">
                        <p class="c42">
                            <span class="c25 c16">fn</span
                            ><span class="c30 c16"
                                >&nbsp;main() {<br />
                                &nbsp; </span
                            ><span class="c25 c16">let</span
                            ><span class="c30 c16">&nbsp;s1 = </span
                            ><span class="c24 c16">String</span
                            ><span class="c30 c16">::from(</span
                            ><span class="c16 c111 c62">&quot;hello&quot;</span
                            ><span class="c30 c16"
                                >);<br />
                                &nbsp; </span
                            ><span class="c25 c16">let</span
                            ><span class="c30 c16"
                                >&nbsp;len = calculate_length(&amp;s1);<br />
                                &nbsp; </span
                            ><span class="c24 c16">println!</span
                            ><span class="c30 c16">(</span
                            ><span class="c16 c111 c62"
                                >&quot;The length of &#39;{}&#39; is
                                {}.&quot;</span
                            ><span class="c30 c16"
                                >,<br />
                                &nbsp; &nbsp; s1, len);<br />}<br /><br /></span
                            ><span class="c25 c16">fn</span
                            ><span class="c30 c16"
                                >&nbsp;calculate_length(s: &amp;</span
                            ><span class="c24 c16">String</span
                            ><span class="c30 c16">) -&gt; </span
                            ><span class="c24 c16">usize</span
                            ><span class="c30 c16"
                                >&nbsp;{<br />
                                &nbsp; s.len()<br />}<br /><br /></span
                            ><span class="c25 c16">fn</span
                            ><span class="c30 c16"
                                >&nbsp;change(some_string: &amp;</span
                            ><span class="c16 c24">String</span
                            ><span class="c30 c16"
                                >) {<br />
                                &nbsp; some_string.push_str(</span
                            ><span class="c16 c111 c62"
                                >&quot;, world&quot;</span
                            ><span class="c30 c101 c16">);<br />}</span>
                        </p>
                    </td>
                    <td class="c106" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c4"
                                >Like before, we create a string.</span
                            >
                        </p>
                        <p class="c8 c41"><span class="c4"></span></p>
                        <p class="c8">
                            <span>When we define </span
                            ><span class="c16">len</span
                            ><span>, we use the </span
                            ><span class="c16">calculate_length </span
                            ><span
                                >function. Notice that we pass in &amp;s1, not
                                s1. This is a &lsquo;reference&rsquo; to </span
                            ><span class="c16">s1</span><span>, and </span
                            ><span class="c16">calculate_length </span
                            ><span class="c4"
                                >doesn&rsquo;t claim ownership, but borrows it
                                instead.</span
                            >
                        </p>
                        <p class="c8 c41"><span class="c4"></span></p>
                        <p class="c8">
                            <span>References are immutable, so </span
                            ><span class="c16">calculate_length </span
                            ><span>can&rsquo;t mutate the string </span
                            ><span class="c16">s</span
                            ><span>. That&rsquo;s why the function </span
                            ><span class="c16">change</span
                            ><span class="c4"
                                >&nbsp;wouldn&rsquo;t work, if you tried
                                it.</span
                            >
                        </p>
                        <p class="c8 c41"><span class="c4"></span></p>
                        <p class="c8">
                            <span>You can run this code here: </span
                            ><span class="c31"
                                ><a
                                    class="c32"
                                    href="https://www.google.com/url?q=https://ideone.com/VhT9Gd&amp;sa=D&amp;source=editors&amp;ust=1623676074544000&amp;usg=AOvVaw2kjyVzwSoJf64AoxPLaHJV"
                                    >https://ideone.com/VhT9Gd</a
                                ></span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_1t8fm6ci8uzl-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Technically, you can make mutable references, but there can
                    only be one mutable reference per piece of data at a
                    time!</span
                >
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <a id="t.74757bdda28b3f90b334fb44e702083302806663"></a><a id="t.35"></a>
        <table class="c29">
            <tbody>
                <tr class="c3">
                    <td class="c72 c139" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Code</span></p>
                    </td>
                    <td class="c106 c72" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Explanation</span></p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c139 c153" colspan="1" rowspan="1">
                        <p class="c42">
                            <span class="c25 c16">fn</span
                            ><span class="c30 c16"
                                >&nbsp;main() {<br />
                                &nbsp; </span
                            ><span class="c25 c16">let</span
                            ><span class="c30 c16">&nbsp;</span
                            ><span class="c25 c16">mut</span
                            ><span class="c30 c16">&nbsp;s = </span
                            ><span class="c24 c16">String</span
                            ><span class="c30 c16">::from(</span
                            ><span class="c16 c111 c62">&quot;hello&quot;</span
                            ><span class="c30 c16"
                                >);<br />
                                &nbsp; </span
                            ><span class="c25 c16">let</span
                            ><span class="c30 c16">&nbsp;r1 = &amp;</span
                            ><span class="c25 c16">mut</span
                            ><span class="c30 c16"
                                >&nbsp;s;<br />
                                &nbsp; </span
                            ><span class="c25 c16">let</span
                            ><span class="c30 c16">&nbsp;r2 = &amp;</span
                            ><span class="c25 c16">mut</span
                            ><span class="c30 c16"
                                >&nbsp;s;<br />
                                &nbsp; </span
                            ><span class="c24 c16">println!</span
                            ><span class="c30 c16">(</span
                            ><span class="c16 c111 c62">&quot;{}, {}&quot;</span
                            ><span class="c30 c16">, r1, r2);<br />}</span>
                        </p>
                    </td>
                    <td class="c106" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c4"
                                >Here, we make a string, and try to create two
                                mutable references of that string. This will
                                throw an error, since there can only be one
                                mutable reference of the string.</span
                            >
                        </p>
                        <p class="c8 c41"><span class="c4"></span></p>
                        <p class="c8">
                            <span>You can run this code here: </span
                            ><span class="c31"
                                ><a
                                    class="c32"
                                    href="https://www.google.com/url?q=https://ideone.com/tQjndr&amp;sa=D&amp;source=editors&amp;ust=1623676074549000&amp;usg=AOvVaw1fu-abZlKQM5V9l73oNhM0"
                                    >https://ideone.com/tQjndr</a
                                ></span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_z6nn322g0x46-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Rust can also spawn threads fairly easily:</span
                >
            </li>
        </ul>
        <p class="c42 c41 c56"><span class="c4"></span></p>
        <a id="t.88bf6a1cdd20f5f826dda769e6a48337eff05f3b"></a><a id="t.36"></a>
        <table class="c29">
            <tbody>
                <tr class="c3">
                    <td class="c110 c72" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Code</span></p>
                    </td>
                    <td class="c97 c72" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Explanation</span></p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c110 c153" colspan="1" rowspan="1">
                        <p class="c42">
                            <span class="c25 c16">use</span
                            ><span class="c30 c16"
                                >&nbsp;std::thread;<br /></span
                            ><span class="c25 c16">use</span
                            ><span class="c30 c16"
                                >&nbsp;std::time::Duration;<br /></span
                            ><span class="c25 c16">fn</span
                            ><span class="c16 c30"
                                >&nbsp;main() {<br />
                                &nbsp; </span
                            ><span class="c25 c16">let</span
                            ><span class="c30 c16"
                                >&nbsp;handle = thread::spawn(|| {<br />
                                &nbsp; &nbsp; &nbsp; </span
                            ><span class="c25 c16">for</span
                            ><span class="c30 c16">&nbsp;i </span
                            ><span class="c25 c16">in</span
                            ><span class="c30 c16">&nbsp;</span
                            ><span class="c16 c95 c62">1</span
                            ><span class="c30 c16">..</span
                            ><span class="c16 c95 c62">10</span
                            ><span class="c30 c16"
                                >&nbsp;{<br />
                                &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span
                            ><span class="c24 c16">println!</span
                            ><span class="c30 c16">(</span
                            ><span class="c16 c111 c62"
                                >&quot;hi number {} from the spawned
                                thread!&quot;</span
                            ><span class="c30 c16"
                                >, i);<br />
                                &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                                thread::sleep(Duration::from_millis(</span
                            ><span class="c16 c62 c95">1</span
                            ><span class="c30 c16"
                                >));<br />
                                &nbsp; &nbsp; &nbsp; }<br />
                                &nbsp; });<br />
                                &nbsp; </span
                            ><span class="c25 c16">for</span
                            ><span class="c30 c16">&nbsp;i </span
                            ><span class="c25 c16">in</span
                            ><span class="c30 c16">&nbsp;</span
                            ><span class="c16 c95 c62">1</span
                            ><span class="c30 c16">..</span
                            ><span class="c16 c95 c62">5</span
                            ><span class="c30 c16"
                                >&nbsp;{<br />
                                &nbsp; &nbsp; &nbsp; </span
                            ><span class="c24 c16">println!</span
                            ><span class="c30 c16">(</span
                            ><span class="c16 c111 c62"
                                >&quot;hi number {} from the main
                                thread!&quot;</span
                            ><span class="c30 c16"
                                >, i);<br />
                                &nbsp; &nbsp; &nbsp;
                                thread::sleep(Duration::from_millis(</span
                            ><span class="c16 c95 c62">1</span
                            ><span class="c30 c16"
                                >));<br />
                                &nbsp; }<br />
                                &nbsp; handle.join().unwrap();<br />}</span
                            >
                        </p>
                    </td>
                    <td class="c97" colspan="1" rowspan="1">
                        <p class="c8">
                            <span>Here we use the </span
                            ><span class="c16">thread::spawn</span
                            ><span class="c4"
                                >&nbsp;function to spawn in a thread.</span
                            >
                        </p>
                        <p class="c8 c41"><span class="c4"></span></p>
                        <p class="c8">
                            <span class="c4"
                                >Both the main thread and the new thread loops
                                through a set of numbers and prints from 1 to
                                n.</span
                            >
                        </p>
                        <p class="c8 c41"><span class="c4"></span></p>
                        <p class="c8">
                            <span class="c4"
                                >In the output, you can see the counting
                                alternate between both threads.</span
                            >
                        </p>
                        <p class="c8 c41"><span class="c4"></span></p>
                        <p class="c8">
                            <span>The last line, </span
                            ><span class="c16">handle.join().unwrap()</span
                            ><span class="c4"
                                >, just makes the main thread wait for the new
                                thread.</span
                            >
                        </p>
                        <p class="c8 c41"><span class="c4"></span></p>
                        <p class="c8">
                            <span>You can run this code here: </span
                            ><span class="c31"
                                ><a
                                    class="c32"
                                    href="https://www.google.com/url?q=https://ideone.com/I0srJN&amp;sa=D&amp;source=editors&amp;ust=1623676074555000&amp;usg=AOvVaw1nrFYwbgXfLLcVNBXiNAqe"
                                    >https://ideone.com/I0srJN</a
                                ></span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_jdcgh12ion1x-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Threads are also subject to ownership rules. Here&rsquo;s a
                    thread that is trying to access a resource it doesn&rsquo;t
                    own:</span
                >
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <a id="t.f22ae67c82853cfd915257722b4cbb4b1ddaec1d"></a><a id="t.37"></a>
        <table class="c29">
            <tbody>
                <tr class="c3">
                    <td class="c72 c141" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Code</span></p>
                    </td>
                    <td class="c151 c72" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Explanation</span></p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c141 c153" colspan="1" rowspan="1">
                        <p class="c42">
                            <span class="c25 c16">use</span
                            ><span class="c30 c16"
                                >&nbsp;std::thread;<br /></span
                            ><span class="c25 c16">fn</span
                            ><span class="c30 c16"
                                >&nbsp;main() {<br />
                                &nbsp; </span
                            ><span class="c25 c16">let</span
                            ><span class="c30 c16">&nbsp;v = </span
                            ><span class="c24 c16">vec!</span
                            ><span class="c30 c16">[</span
                            ><span class="c16 c95 c62">1</span
                            ><span class="c30 c16">, </span
                            ><span class="c16 c95 c62">2</span
                            ><span class="c30 c16">, </span
                            ><span class="c16 c95 c62">3</span
                            ><span class="c30 c16"
                                >];<br />
                                &nbsp; </span
                            ><span class="c25 c16">let</span
                            ><span class="c30 c16"
                                >&nbsp;handle = thread::spawn(|| {<br />
                                &nbsp; &nbsp; &nbsp; </span
                            ><span class="c24 c16">println!</span
                            ><span class="c30 c16">(</span
                            ><span class="c16 c62 c111"
                                >&quot;Here&#39;s a vector: {:?}&quot;</span
                            ><span class="c30 c16"
                                >, v);<br />
                                &nbsp; });<br />
                                &nbsp; handle.join().unwrap();<br />
                                &nbsp; </span
                            ><span class="c24 c16">drop</span
                            ><span class="c30 c16">(v);<br />}</span>
                        </p>
                    </td>
                    <td class="c151" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c4"
                                >Here, we create a thread, just like last
                                time.</span
                            >
                        </p>
                        <p class="c8 c41"><span class="c4"></span></p>
                        <p class="c8">
                            <span class="c4"
                                >We also create a vector, which is a list
                                (similar to Vector in Java).</span
                            >
                        </p>
                        <p class="c8 c41"><span class="c4"></span></p>
                        <p class="c8">
                            <span>The thread tries to use the vector </span
                            ><span class="c16">v</span
                            ><span
                                >, but this code will throw an error because the
                                main thread never gave ownership of </span
                            ><span class="c16">v</span
                            ><span class="c4">&nbsp;to the new thread.</span>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_lakktrlev3e8-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >So how do we move ownership of v to the new thread?</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">We use the move keyword!</span>
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <a id="t.3a94e54f6e4f63edbc447dcdf19750c1fdeb7e3b"></a><a id="t.38"></a>
        <table class="c29">
            <tbody>
                <tr class="c3">
                    <td class="c72 c156" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Code</span></p>
                    </td>
                    <td class="c122 c72" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Explanation</span></p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c137" colspan="1" rowspan="1">
                        <p class="c42">
                            <span class="c25 c16">use</span
                            ><span class="c30 c16"
                                >&nbsp;std::thread;<br /></span
                            ><span class="c25 c16">fn</span
                            ><span class="c30 c16"
                                >&nbsp;main() {<br />
                                &nbsp; &nbsp;</span
                            ><span class="c25 c16">let</span
                            ><span class="c30 c16">&nbsp;v = </span
                            ><span class="c24 c16">vec!</span
                            ><span class="c30 c16">[</span
                            ><span class="c16 c95 c62">1</span
                            ><span class="c30 c16">, </span
                            ><span class="c16 c95 c62">2</span
                            ><span class="c30 c16">, </span
                            ><span class="c16 c95 c62">3</span
                            ><span class="c30 c16"
                                >];<br />
                                &nbsp; &nbsp;</span
                            ><span class="c16 c25">let</span
                            ><span class="c30 c16"
                                >&nbsp;handle = thread::spawn(</span
                            ><span class="c25 c16">move</span
                            ><span class="c30 c16"
                                >&nbsp;|| {<br />
                                &nbsp; &nbsp; &nbsp; &nbsp;</span
                            ><span class="c24 c16">println!</span
                            ><span class="c30 c16">(</span
                            ><span class="c16 c111 c62"
                                >&quot;Here&#39;s a vector: {:?}&quot;</span
                            ><span class="c30 c16"
                                >, v);<br />
                                &nbsp; &nbsp;});<br />
                                &nbsp; &nbsp;handle.join().unwrap();<br />
                                &nbsp; &nbsp;</span
                            ><span class="c16 c62 c152">//drop(v);</span
                            ><span class="c30 c16"><br />}</span>
                        </p>
                    </td>
                    <td class="c122" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c4"
                                >This is the same code as before, except now we
                                use the move keyword when we spawn the new
                                thread.</span
                            >
                        </p>
                        <p class="c8 c41"><span class="c4"></span></p>
                        <p class="c8">
                            <span
                                >Since we&rsquo;re moving ownership, we
                                can&rsquo;t drop </span
                            ><span class="c16">v</span
                            ><span
                                >&nbsp;at the end of the main thread, because
                                the main thread doesn&rsquo;t own </span
                            ><span class="c16">v</span
                            ><span class="c4"
                                >&nbsp;anymore. Therefore, if we were to
                                uncomment that line, we would get an
                                error.</span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h1 class="c118 c56" id="h.u1exd5rng3cn">
            <span class="c35">Semantics of concurrency</span>
        </h1>
        <h2 class="c51" id="h.7u0y1f94wq8p">
            <span class="c57 c58">Labelled Transitions Systems</span>
        </h2>
        <ul class="c0 lst-kix_2o66n7bplpw0-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >There are three main aspects to concurrency:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_2o66n7bplpw0-1 start">
            <li class="c2 li-bullet-0">
                <span class="c11">Communication</span
                ><span class="c4"
                    >: processes communicate to each other via shared memory or
                    messages</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c11">Synchronisation</span
                ><span class="c4"
                    >: processes sometimes must synchronise their actions to
                    ensure atomicity</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c11">Non-determinism</span
                ><span class="c4"
                    >: what can be observed about a program changes from one run
                    to the next</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_2o66n7bplpw0-0">
            <li class="c1 li-bullet-0">
                <span class="c4">What do we mean by non-determinism?</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Let&rsquo;s just say we ran these three threads:</span
                >
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <a id="t.b4ddf8963c0f8366967dcf753182b69abd0ec231"></a><a id="t.39"></a>
        <table class="c29">
            <tbody>
                <tr class="c3">
                    <td class="c52" colspan="1" rowspan="1">
                        <p class="c8"><span class="c18 c16">x = 0;</span></p>
                        <p class="c8">
                            <span class="c18 c16"
                                >print(&ldquo;x is &ldquo; + x);</span
                            >
                        </p>
                    </td>
                    <td class="c52" colspan="1" rowspan="1">
                        <p class="c8"><span class="c18 c16">x = 1;</span></p>
                    </td>
                    <td class="c52" colspan="1" rowspan="1">
                        <p class="c8"><span class="c18 c16">x = 2;</span></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_9b5ewkozf61e-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4">What would output to the screen?</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Because of the race conditions, there are three
                    possibilities:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_9b5ewkozf61e-1 start">
            <li class="c2 li-bullet-0"><span class="c4">x is 0</span></li>
            <li class="c2 li-bullet-0"><span class="c4">x is 1</span></li>
            <li class="c2 li-bullet-0"><span class="c4">x is 2</span></li>
        </ul>
        <ul class="c0 lst-kix_9b5ewkozf61e-0">
            <li class="c1 li-bullet-0">
                <span>We can use a mathematical model called a </span
                ><span class="c11">labelled transition system (LTS)</span
                ><span class="c4"
                    >&nbsp;to capture what can be observed about a
                    program.</span
                >
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 474.5px;
                    height: 156.85px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image185.png"
                    style="
                        width: 474.5px;
                        height: 156.85px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_9b5ewkozf61e-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >We use these to reason about non-determinism.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >The labels of the transitions say &ldquo;what can be
                    observed&rdquo; (or, in this case, the output of our
                    program).</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_9b5ewkozf61e-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Labelled transition systems are mathematical structures
                    that go like this:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_9b5ewkozf61e-1 start">
            <li class="c2 li-bullet-0">
                <img src="assets/programming-language-concepts/image57.png" />
            </li>
        </ul>
        <ul class="c0 lst-kix_9b5ewkozf61e-0">
            <li class="c1 li-bullet-0"><span class="c4">Where:</span></li>
        </ul>
        <ul class="c0 lst-kix_9b5ewkozf61e-1 start">
            <li class="c2 li-bullet-0">
                <img
                    src="assets/programming-language-concepts/image58.png"
                /><span class="c4">&nbsp;is a set of states</span>
            </li>
            <li class="c2 li-bullet-0">
                <img
                    src="assets/programming-language-concepts/image59.png"
                /><span class="c4">&nbsp;is an alphabet of actions</span>
            </li>
            <li class="c2 li-bullet-0">
                <img
                    src="assets/programming-language-concepts/image60.png"
                /><span class="c4">&nbsp;is the set of transitions</span>
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_9b5ewkozf61e-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >LTS&rsquo; are very similar to finite automata,
                    except:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_9b5ewkozf61e-1 start">
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >The set of states could be infinite, or even
                    uncountable</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >The set of transitions could be infinite, or even
                    uncountable</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >There are no &ldquo;start&rdquo; or &ldquo;final&rdquo;
                    states</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_9b5ewkozf61e-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Here is the previous example as a fully-defined LTS:</span
                >
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 219.87px;
                    height: 182.5px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image194.png"
                    style="
                        width: 219.87px;
                        height: 182.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_h9pz3t4zpp78-0 start">
            <li class="c1 li-bullet-0">
                <img src="assets/programming-language-concepts/image61.png" />
            </li>
            <li class="c1 li-bullet-0">
                <img src="assets/programming-language-concepts/image62.png" />
            </li>
            <li class="c1 li-bullet-0">
                <img src="assets/programming-language-concepts/image63.png" />
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_h9pz3t4zpp78-0">
            <li class="c1 li-bullet-0">
                <span class="c4">There are two kinds of non-determinism:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_h9pz3t4zpp78-1 start">
            <li class="c2 li-bullet-0">
                <span class="c11">Internal</span
                ><span class="c4">&nbsp;non-determinism:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_h9pz3t4zpp78-2 start">
            <li class="c37 li-bullet-0">
                <span class="c4">&ldquo;the machine chooses&rdquo;</span>
            </li>
            <li class="c37 li-bullet-0">
                <span class="c4"
                    >It&rsquo;s up to the program&rsquo;s scheduler</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_h9pz3t4zpp78-1">
            <li class="c2 li-bullet-0">
                <span class="c11">External</span
                ><span class="c4">&nbsp;non-determinism:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_h9pz3t4zpp78-2 start">
            <li class="c37 li-bullet-0">
                <span class="c4">&ldquo;the environment chooses&rdquo;</span>
            </li>
            <li class="c37 li-bullet-0">
                <span class="c4"
                    >It&rsquo;s up to entities outside of the program, for
                    example a user</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_h9pz3t4zpp78-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >An example of an LTS that uses external non-determinism is
                    a vending machine:</span
                >
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 498.36px;
                    height: 179.5px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image186.png"
                    style="
                        width: 498.36px;
                        height: 179.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_wn55r39xyti9-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4">The user puts in money (&pound;)</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >The user can either pick tea (t) or coffee (c)</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_wn55r39xyti9-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >How can we tell if two LTS&rsquo; are equivalent?</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span>One of the ways is checking for </span
                ><span class="c11">trace equivalence</span
                ><span class="c4"
                    >, which checks if the set of traces between two states are
                    the same.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >First of all, what is a trace? A trace is a path that we
                    can possibly take from a node.</span
                >
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 400px;
                    height: 199.54px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image152.png"
                    style="
                        width: 400px;
                        height: 199.54px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_3657c3ry19ef-0 start">
            <li class="c1 li-bullet-0">
                <span>Those traces are all from x</span
                ><span class="c23">0</span
                ><span>&nbsp;because you can take all those paths from x</span
                ><span class="c23">0</span
                ><span class="c4"
                    >. Even paths that don&rsquo;t take you anywhere, or
                    partitions of paths (&pound; from &pound;t or &pound;c), are
                    still traces.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >States can also have traces that are infinite:</span
                >
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 183px;
                    height: 113.81px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image256.png"
                    style="
                        width: 183px;
                        height: 113.81px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_lpao02yqcpc7-0 start">
            <li class="c1 li-bullet-0">
                <span>The traces in this LTS follow the regex </span
                ><span class="c16">a*b</span><span class="c4">.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span>How about this one, where the regex is </span
                ><span class="c16">(a+b)*</span
                ><span class="c4">? It has infinite traces too!</span>
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 146px;
                    height: 152.99px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image242.png"
                    style="
                        width: 146px;
                        height: 152.99px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_t2kh015oa8o-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Now that we have that, let&rsquo;s see if these two
                    LTS&rsquo; are equivalent:</span
                >
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 158.83px;
                    height: 244.5px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image133.png"
                    style="
                        width: 158.83px;
                        height: 244.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title="" /></span
            ><span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 152.5px;
                    height: 244.61px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image102.png"
                    style="
                        width: 152.5px;
                        height: 244.61px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_kkjw6nh8k25-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Clearly, these two systems are the same, because they both
                    make tea and coffee for money. But are they trace
                    equivalent?</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span>Well, x</span><span class="c23">0</span
                ><span
                    >&nbsp;has traces &epsilon;, &pound;, &pound;t and &pound;c
                    , and y</span
                ><span class="c23">0</span
                ><span>&nbsp;also has those traces. Therefore, x</span
                ><span class="c23">0</span><span>&nbsp;and y</span
                ><span class="c23">0</span
                ><span class="c4">&nbsp;are trace equivalent.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span>However, x</span><span class="c23">1</span
                ><span>&nbsp;has traces t and c, but y</span
                ><span class="c23">1</span
                ><span>&nbsp;only has the trace t and y</span
                ><span class="c23">2</span
                ><span>&nbsp;only has the trace c. x</span
                ><span class="c23">1</span
                ><span class="c4"
                    >&nbsp;isn&rsquo;t trace equivalent to anything!</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >In these LTS&rsquo;, the difference is when the
                    non-deterministic choice happens.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_kkjw6nh8k25-0">
            <li class="c1 li-bullet-0">
                <span
                    >It seems that trace equivalence is too coarse; we need
                    something more fine-grained to test for equivalence.
                    That&rsquo;s where simulation equivalence comes in!</span
                >
            </li>
        </ul>
        <h2 class="c51" id="h.kusdinfj2v6u">
            <span class="c57 c58">Simulations</span>
        </h2>
        <ul class="c0 lst-kix_vpv4vmnoaq3f-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >A state from one LTS can simulate another state from
                    another LTS.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >A state y can simulate a state x if the state y can respond
                    to whatever transition state x performs, with the exact same
                    transition label, and keep responding to state x.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span>More formally, there exists a relation R called a </span
                ><span class="c11">simulation</span><span>. Whenever </span
                ><img
                    src="assets/programming-language-concepts/image64.png"
                /><span>&nbsp;and </span
                ><img
                    src="assets/programming-language-concepts/image65.png"
                /><span>, then there exists </span
                ><img
                    src="assets/programming-language-concepts/image66.png"
                /><span>&nbsp;such that </span
                ><img
                    src="assets/programming-language-concepts/image67.png"
                /><span>&nbsp;and </span
                ><img src="assets/programming-language-concepts/image68.png" />
            </li>
            <li class="c1 li-bullet-0">
                <span>If </span
                ><img
                    src="assets/programming-language-concepts/image64.png"
                /><span>&nbsp;we say that y simulates x, or </span
                ><img src="assets/programming-language-concepts/image69.png" />
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_vpv4vmnoaq3f-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Let&rsquo;s have a look at these two again:</span
                >
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 158.83px;
                    height: 244.5px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image133.png"
                    style="
                        width: 158.83px;
                        height: 244.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title="" /></span
            ><span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 152.5px;
                    height: 244.61px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image102.png"
                    style="
                        width: 152.5px;
                        height: 244.61px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_rms9dju4zoy4-0 start">
            <li class="c1 li-bullet-0">
                <span>Does x</span><span class="c23">0</span
                ><span>&nbsp;simulate y</span><span class="c23">0</span
                ><span class="c4">? Let&rsquo;s have a look...</span>
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <a id="t.19abbcc494f2bb552320dd851e9f8e0b86aeb441"></a><a id="t.40"></a>
        <table class="c29">
            <tbody>
                <tr class="c3">
                    <td class="c14 c72" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">LTS&rsquo;</span></p>
                    </td>
                    <td class="c14 c72" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Explanation</span></p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c8">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 214.07px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image238.png"
                                    style="
                                        width: 286px;
                                        height: 214.07px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c8">
                            <span
                                >This is our initial state. Both LTS&rsquo; are
                                in the x</span
                            ><span class="c23">0</span><span>&nbsp;and y</span
                            ><span class="c23">0</span
                            ><span class="c4">&nbsp;states.</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c8">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 214.07px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image231.png"
                                    style="
                                        width: 286px;
                                        height: 214.07px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c42 c56">
                            <span>y</span><span class="c23">0</span
                            ><span
                                >&nbsp;can perform the &pound; transition and go
                                to either y</span
                            ><span class="c23">1</span><span>&nbsp;or y</span
                            ><span class="c23">2</span><span>. x</span
                            ><span class="c23">0</span
                            ><span
                                >&nbsp;can simulate this by also performing the
                                &pound; transition and going to x</span
                            ><span class="c23">1</span><span class="c4">.</span>
                        </p>
                        <p class="c42 c56 c41"><span class="c4"></span></p>
                        <p class="c42 c56">
                            <span>For now, we&rsquo;ll go to y</span
                            ><span class="c23">1</span
                            ><span
                                >, and we&rsquo;ll see what happens when we go
                                to y</span
                            ><span class="c23">2</span
                            ><span class="c4">&nbsp;later.</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c8">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 214.07px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image237.png"
                                    style="
                                        width: 286px;
                                        height: 214.07px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c42 c56">
                            <span>Now, the only transition y</span
                            ><span class="c23">1</span
                            ><span>&nbsp;can make is t, taking it to y</span
                            ><span class="c23">3</span><span>. x</span
                            ><span class="c23">1</span
                            ><span
                                >&nbsp;can also perform t, taking it to x</span
                            ><span class="c23">2</span><span class="c4">.</span>
                        </p>
                        <p class="c42 c56 c41"><span class="c4"></span></p>
                        <p class="c42 c56">
                            <span class="c4"
                                >No more moves can be made, so this branch is
                                fully simulated.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c8">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 214.07px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image103.png"
                                    style="
                                        width: 286px;
                                        height: 214.07px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c42 c56">
                            <span
                                >But what happens if, from before, we go to
                                y</span
                            ><span class="c23">2</span
                            ><span>&nbsp;instead of y</span
                            ><span class="c23">1</span
                            ><span class="c4">? Will it be any different?</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c8">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 214.07px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image191.png"
                                    style="
                                        width: 286px;
                                        height: 214.07px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c42 c56">
                            <span>No! Because y</span><span class="c23">2</span
                            ><span
                                >&nbsp;can only perform the c transition, taking
                                it to y</span
                            ><span class="c23">4</span><span>. x</span
                            ><span class="c23">1</span
                            ><span
                                >&nbsp;can also perform the c transition, taking
                                it to x</span
                            ><span class="c23">3</span
                            ><span
                                >. Now all branches have been simulated, and we
                                can conclude that x</span
                            ><span class="c23">0</span
                            ><span>&nbsp;simulates y</span
                            ><span class="c23">0</span><span class="c4">.</span>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_rms9dju4zoy4-0">
            <li class="c1 li-bullet-0">
                <span>The simulation in this example would be </span
                ><img src="assets/programming-language-concepts/image70.png" />
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_kl0sfhbvc28i-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Unions of simulations are also simulations.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span
                    >There is also a name for the largest simulation in a given
                    transition system: it&rsquo;s the </span
                ><span class="c11">similarity</span
                ><span>, and it&rsquo;s written like this: </span
                ><img src="assets/programming-language-concepts/image71.png" />
            </li>
            <li class="c1 li-bullet-0">
                <span>Simulation is an instance of something called </span
                ><span class="c11">coinduction </span
                ><span class="c4">in mathematics.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Coinduction is the mathematical dual to induction which
                    uses corecursion.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Corecursion is the mathematical dual to recursion.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Instead of reducing something down to a base case,
                    corecursion starts from a base case and produces subsequent
                    steps (perhaps even infinitely).</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >A recursive function breaks down an inductively defined
                    structure and calls itself with smaller pieces until it
                    reaches a base case.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >A corecursive function increments a coinductively defined
                    structure and calls itself with bigger pieces.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >You don&rsquo;t really need to know much about coinduction,
                    but think of it like an infinite list in Haskell:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_kl0sfhbvc28i-1 start">
            <li class="c2 li-bullet-0">
                <span class="c18 c16">infList = 0 : infList</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_kl0sfhbvc28i-0">
            <li class="c1 li-bullet-0">
                <span
                    >This is a corecursive definition on a coinductive
                    structure, because at each iteration of its </span
                ><span>definition</span
                ><span class="c4">, it gets bigger.</span>
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_kl0sfhbvc28i-0">
            <li class="c1 li-bullet-0">
                <span>So we know how to show that x</span
                ><span class="c23">0</span><span>&nbsp;simulates y</span
                ><span class="c23">0</span
                ><span class="c4"
                    >: we construct a simulation that contains the pair
                    (x,y).</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span>How do we show that y</span><span class="c23">0</span
                ><span>&nbsp;does not simulate x</span><span class="c23">0</span
                ><span class="c4">?</span>
            </li>
            <li class="c1 li-bullet-0">
                <span>We play the demon game again! </span
                ><span class="c78">&#x1f479;</span
                ><span class="c4">&nbsp;</span>
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_o0q0xtv77hpw-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Here&rsquo;s how to play this new demon game:</span
                >
            </li>
        </ul>
        <ol class="c0 lst-kix_jj0kbxfh16yi-0 start" start="1">
            <li class="c2 li-bullet-0">
                <span>We start at position </span
                ><img src="assets/programming-language-concepts/image72.png" />
            </li>
            <li class="c2 li-bullet-0">
                <span>The demon picks a move </span
                ><img src="assets/programming-language-concepts/image65.png" />
            </li>
            <li class="c2 li-bullet-0">
                <span>We pick a move </span
                ><img src="assets/programming-language-concepts/image67.png" />
            </li>
            <li class="c2 li-bullet-0">
                <span>The game goes back to step 2, with position </span
                ><img src="assets/programming-language-concepts/image73.png" />
            </li>
        </ol>
        <ul class="c0 lst-kix_21hxcotfyezh-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >If there is a point where we&rsquo;re unable to move, then
                    the demon wins.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >If the demon has at least 1 winning strategy, then y does
                    not simulate x.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >If the game goes on forever or if we win, then y simulates
                    x.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Basically, to prove that y does not simulate x, we want us
                    to lose and the demon to win (we don&rsquo;t like this
                    game).</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_21hxcotfyezh-0">
            <li class="c1 li-bullet-0">
                <span>Now, let&rsquo;s use the demon game to prove that y</span
                ><span class="c23">0</span><span>&nbsp;does not simulate x</span
                ><span class="c23">0</span><span class="c4">!</span>
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <a id="t.75f98b9d84201be9c9d5881bf5cf731d4bf67b77"></a><a id="t.41"></a>
        <table class="c29">
            <tbody>
                <tr class="c3">
                    <td class="c14 c72" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">LTS&rsquo;</span></p>
                    </td>
                    <td class="c14 c72" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Explanation</span></p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c8">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 216.69px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image113.png"
                                    style="
                                        width: 286px;
                                        height: 216.69px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c8">
                            <span
                                >This is our initial state. Both LTS&rsquo; are
                                in the x</span
                            ><span class="c23">0</span><span>&nbsp;and y</span
                            ><span class="c23">0</span
                            ><span>&nbsp;states. The left is the </span
                            ><span class="c70 c54">demon</span
                            ><span>&nbsp;and the right is the </span
                            ><span class="c21 c46">player</span
                            ><span class="c4">.</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c8">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 216.69px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image177.png"
                                    style="
                                        width: 286px;
                                        height: 216.69px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c42 c56">
                            <span
                                >First of all, the demon picks the transition
                                &ldquo;&pound;&rdquo; and moves to x</span
                            ><span class="c23">1</span><span class="c4">.</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c8">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 216.69px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image195.png"
                                    style="
                                        width: 286px;
                                        height: 216.69px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c42 c56">
                            <span
                                >Since the demon picked &pound;, we have a
                                choice of either the &pound; that goes to
                                y</span
                            ><span class="c23">1</span
                            ><span>&nbsp;or the &pound; that goes to y</span
                            ><span class="c23">2</span><span class="c4">.</span>
                        </p>
                        <p class="c42 c56 c41"><span class="c4"></span></p>
                        <p class="c42 c56">
                            <span>For now, we&rsquo;ll go to y</span
                            ><span class="c23">1</span><span class="c4">.</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c8">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 216.69px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image95.png"
                                    style="
                                        width: 286px;
                                        height: 216.69px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c42 c56">
                            <span
                                >At this state, the demon can pick the c move
                                and trap us. There is no c move at y</span
                            ><span class="c23">1</span
                            ><span
                                >! Here, the demon has won. This is usually
                                enough to prove that y</span
                            ><span class="c23">0</span
                            ><span>&nbsp;does not simulate x</span
                            ><span class="c23">0</span><span class="c4">.</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c8">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 216.69px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image207.png"
                                    style="
                                        width: 286px;
                                        height: 216.69px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c42 c56">
                            <span>The same goes for if we were to pick y</span
                            ><span class="c23">2</span
                            ><span
                                >. The demon would end up picking the t
                                transition, and we wouldn&rsquo;t be able to
                                move, since y</span
                            ><span class="c23">2</span
                            ><span
                                >&nbsp;only has the c transition. The demon wins
                                in every case, so y</span
                            ><span class="c23">0</span
                            ><span>&nbsp;does not simulate x</span
                            ><span class="c23">0</span><span class="c4">!</span>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_12mragmzsahg-0 start">
            <li class="c1 li-bullet-0">
                <span class="c11">Simulation equivalence </span
                ><span>is a property that holds if both </span
                ><img
                    src="assets/programming-language-concepts/image69.png"
                /><span>&nbsp;and </span
                ><img
                    src="assets/programming-language-concepts/image74.png"
                /><span class="c4">.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Thus, to check for simulation equivalence, we have to
                    construct two simulations.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span>For example, we know that x</span
                ><span class="c23">0</span><span>&nbsp;and y</span
                ><span class="c23">0</span
                ><span>&nbsp;do not have simulation equivalence because y</span
                ><span class="c23">0</span><span>&nbsp;does not simulate x</span
                ><span class="c23">0</span><span class="c4">.</span>
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_12mragmzsahg-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >If x and y are simulation equivalent, then x and y are
                    trace equivalent too.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span
                    >This doesn&rsquo;t work the other way around, since x</span
                ><span class="c23">0</span><span>&nbsp;and y</span
                ><span class="c23">0</span
                ><span class="c4"
                    >&nbsp;are trace equivalent but not simulation
                    equivalent.</span
                >
            </li>
            <li class="c1 li-bullet-0"><span class="c4">We say that:</span></li>
        </ul>
        <ul class="c0 lst-kix_12mragmzsahg-1 start">
            <li class="c2 li-bullet-0">
                <span class="c4">trace equivalence =&gt; coarser</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4">simulation equivalence =&gt; finer</span>
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_12mragmzsahg-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Here&rsquo;s another example of simulation equivalence: the
                    evil coffee machine</span
                >
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 493.5px;
                    height: 232.81px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image179.png"
                    style="
                        width: 493.5px;
                        height: 232.81px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_47crgwtyekc-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Some race condition is making the evil coffee machine
                    restrict the user to just tea or coffee, but not both!</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >These two actually have simulation equivalence. How?</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Here are the two simulations to prove it:</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <img src="assets/programming-language-concepts/image75.png" />
            </li>
            <li class="c1 li-bullet-0">
                <img src="assets/programming-language-concepts/image76.png" />
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >But that coffee machine is evil! Surely, we shouldn&rsquo;t
                    let it be equivalent to this perfectly working coffee
                    machine! Perhaps our definition of equivalence is still too
                    coarse...?</span
                >
            </li>
        </ul>
        <h2 class="c51" id="h.j71b16y8vjyy">
            <span class="c57 c58">Bisimulations</span>
        </h2>
        <ul class="c0 lst-kix_aayqq6rsrh7e-0 start">
            <li class="c1 li-bullet-0">
                <span
                    >We can get even finer with our equivalence by using
                    bisimulations!</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Bisimulation</span
                ><span class="c4"
                    >: like a simulation relation, but its inverse is a
                    simulation too</span
                >
            </li>
            <li class="c1 li-bullet-0"><span class="c4">For example:</span></li>
        </ul>
        <ul class="c0 lst-kix_aayqq6rsrh7e-1 start">
            <li class="c2 li-bullet-0">
                <span>If </span><span class="c16">{ (x</span
                ><span class="c12">0</span><span class="c16">, y</span
                ><span class="c12">0</span><span class="c16">), (x</span
                ><span class="c12">1</span><span class="c16">, y</span
                ><span class="c12">1</span><span class="c16">) ... }</span
                ><span class="c4">&nbsp;is a simulation</span>
            </li>
            <li class="c2 li-bullet-0">
                <span>It can be a bisimulation if </span
                ><span class="c16">{ (y</span><span class="c12">0</span
                ><span class="c16">, x</span><span class="c12">0</span
                ><span class="c16">), (y</span><span class="c12">1</span
                ><span class="c16">, x</span><span class="c12">1</span
                ><span class="c16">) ... }</span
                ><span class="c4">&nbsp;is a simulation too</span>
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_aayqq6rsrh7e-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >More formally, a bisimulation is a relation on states that
                    satisfies the</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span>following conditions, whenever </span
                ><img
                    src="assets/programming-language-concepts/image64.png"
                /><span class="c4">:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_aayqq6rsrh7e-1 start">
            <li class="c2 li-bullet-0">
                <span>if </span
                ><img
                    src="assets/programming-language-concepts/image77.png"
                /><span>&nbsp;then there exists </span
                ><img
                    src="assets/programming-language-concepts/image66.png"
                /><span>&nbsp;such that </span
                ><img
                    src="assets/programming-language-concepts/image78.png"
                /><span>&nbsp;and </span
                ><img src="assets/programming-language-concepts/image68.png" />
            </li>
            <li class="c2 li-bullet-0">
                <span>if </span
                ><img
                    src="assets/programming-language-concepts/image78.png"
                /><span>&nbsp;then there exists </span
                ><img
                    src="assets/programming-language-concepts/image79.png"
                /><span>&nbsp;such that </span
                ><img
                    src="assets/programming-language-concepts/image77.png"
                /><span>&nbsp;and </span
                ><img src="assets/programming-language-concepts/image68.png" />
            </li>
        </ul>
        <ul class="c0 lst-kix_aayqq6rsrh7e-0">
            <li class="c1 li-bullet-0">
                <span>We write </span><span class="c16">x ~ y</span
                ><span>&nbsp;if there is a bisimulation that contains </span
                ><img src="assets/programming-language-concepts/image72.png" />
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_aayqq6rsrh7e-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >For example, concerning the two LTS&rsquo;:</span
                >
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 229px;
                    height: 183.34px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image153.png"
                    style="
                        width: 229px;
                        height: 183.34px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_qqqx3rp9b4mm-0 start">
            <li class="c1 li-bullet-0">
                <span class="c16">{ (x</span><span class="c12">0</span
                ><span class="c16">, y</span><span class="c12">0</span
                ><span class="c16">), (x</span><span class="c12">0</span
                ><span class="c16">, y</span><span class="c12">1</span
                ><span class="c16">) }</span
                ><span class="c4">&nbsp;is a bisimulation, because:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_qqqx3rp9b4mm-1 start">
            <li class="c2 li-bullet-0">
                <span class="c16">{ (x</span><span class="c12">0</span
                ><span class="c16">, y</span><span class="c12">0</span
                ><span class="c16">), (x</span><span class="c12">0</span
                ><span class="c16">, y</span><span class="c12">1</span
                ><span class="c16">) }</span
                ><span>&nbsp;is a simulation, because x</span
                ><span class="c23">0</span><span>&nbsp;can only go to x</span
                ><span class="c23">0</span
                ><span
                    >&nbsp;using the transition &lsquo;a&rsquo;, and y can
                    respond to that by going to y</span
                ><span class="c23">1</span><span>. After that, when x</span
                ><span class="c23">0</span><span>&nbsp;goes to x</span
                ><span class="c23">0</span><span>, y</span
                ><span class="c23">1</span
                ><span>&nbsp;can only respond to going to y</span
                ><span class="c23">1</span><span class="c4">&nbsp;again.</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c16">{ (y</span><span class="c12">0</span
                ><span class="c16">, x</span><span class="c12">0</span
                ><span class="c16">), (y</span><span class="c12">1</span
                ><span class="c16">, x</span><span class="c12">0</span
                ><span class="c16">) }</span
                ><span>&nbsp;is a simulation, because y</span
                ><span class="c23">0</span><span>&nbsp;can go to y</span
                ><span class="c23">1</span><span>, and x</span
                ><span class="c23">0</span
                ><span>&nbsp;can respond to this by going to x</span
                ><span class="c23">0</span><span>. After that, y</span
                ><span class="c23">1</span><span>&nbsp;can only go to y</span
                ><span class="c23">1</span><span>&nbsp;again, and x</span
                ><span class="c23">0</span
                ><span
                    >&nbsp;can just keep responding to this by going to x</span
                ><span class="c23">0</span><span class="c4">.</span>
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_qqqx3rp9b4mm-0">
            <li class="c1 li-bullet-0">
                <span class="c88 c83 c58"
                    >Unions of bisimulations are also bisimulations.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span
                    >The union of all bisimulations (the biggest bisimulation
                    between LTS&rsquo;) is called the bisimilarity, and is
                    denoted with ~.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_aayqq6rsrh7e-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Bisimulation demon game &#x1f479;</span
                ><span
                    >: the same as simulation, except the demon can change sides
                    at any time if they wish (they could be moving from x</span
                ><span class="c23">0</span><span>&nbsp;to x</span
                ><span class="c23">1</span
                ><span>, making the player go from y</span
                ><span class="c23">0</span><span>&nbsp;to y</span
                ><span class="c23">1</span
                ><span>, then in the next go they could move y</span
                ><span class="c23">1</span><span>&nbsp;to y</span
                ><span class="c23">2</span
                ><span class="c4">, forcing the player to make an x move)</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Think of it like chess. You&rsquo;re black, and the
                    opponent is white. The opponent takes their first move, and
                    you take yours. In the next turn, the opponent could swap
                    sides and move one of your black pieces, forcing you to move
                    one of their white pieces</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_aayqq6rsrh7e-0">
            <li class="c1 li-bullet-0">
                <span class="c4">In full, the game goes like this:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_aayqq6rsrh7e-1 start">
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >We play against a demon. The game starts at position
                    (x,y)</span
                >
            </li>
        </ul>
        <ol class="c0 lst-kix_nh7gtrk0r16b-0 start" start="1">
            <li class="c37 li-bullet-0">
                <span class="c4"
                    >The demon picks where to play, either at x or at y</span
                >
            </li>
            <li class="c37 li-bullet-0">
                <span>If demon chose x, he picks a move </span
                ><img src="assets/programming-language-concepts/image77.png" />
            </li>
        </ol>
        <p class="c42 c56 c158">
            <span>in this case we must respond with </span
            ><img src="assets/programming-language-concepts/image78.png" />
        </p>
        <ol class="c0 lst-kix_vsljaoyn3519-0 start" start="3">
            <li class="c37 li-bullet-0">
                <span>If demon chose y, he picks a move </span
                ><img src="assets/programming-language-concepts/image78.png" />
            </li>
        </ol>
        <p class="c42 c56 c60 c93">
            <span>in this case we must respond with </span
            ><img src="assets/programming-language-concepts/image77.png" />
        </p>
        <ol class="c0 lst-kix_r4damfv9mq5f-0 start" start="4">
            <li class="c37 li-bullet-0">
                <span>The game goes back to step 1, changing position to </span
                ><img src="assets/programming-language-concepts/image73.png" />
            </li>
        </ol>
        <ul class="c0 lst-kix_fb2fcoifxy7k-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >If the demon has a winning strategy, the simulation is not
                    bisimilar.</span
                >
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_gwi1qellddcm-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4">Remember the evil coffee machine?</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >That passes the trace and simulation equivalence test; but
                    is it bisimilar?</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Let&rsquo;s play the demon game and find out!</span
                >
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <a id="t.bfa96caeb1f5da0f013f904a66a43a9068d9824a"></a><a id="t.42"></a>
        <table class="c29">
            <tbody>
                <tr class="c3">
                    <td class="c14 c72" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">LTS&rsquo;</span></p>
                    </td>
                    <td class="c14 c72" colspan="1" rowspan="1">
                        <p class="c8"><span class="c5">Explanation</span></p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c8">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 158.5px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image201.png"
                                    style="
                                        width: 286px;
                                        height: 158.5px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c8">
                            <span
                                >This is our initial state. Both LTS&rsquo; are
                                in the x</span
                            ><span class="c23">0</span><span>&nbsp;and z</span
                            ><span class="c23">0</span
                            ><span>&nbsp;states. The </span
                            ><span class="c70 c54">demon</span
                            ><span
                                >&nbsp;wants to move z first, meaning us, the </span
                            ><span class="c21 c46">player</span
                            ><span>, will have to move x next</span
                            ><span class="c4">.</span>
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c8">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 158.5px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image230.png"
                                    style="
                                        width: 286px;
                                        height: 158.5px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c8">
                            <span>The demon moves from z</span
                            ><span class="c23">0</span><span>&nbsp;to z</span
                            ><span class="c23">2</span
                            ><span class="c4"
                                >&nbsp;using the transition &pound;.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c8">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 158.5px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image120.png"
                                    style="
                                        width: 286px;
                                        height: 158.5px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c8">
                            <span
                                >We also need to use the transition &pound;, so
                                we move from x</span
                            ><span class="c23">0</span><span>&nbsp;to x</span
                            ><span class="c23">1</span
                            ><span class="c4"
                                >, the only move we can make.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c8">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 158.5px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image169.png"
                                    style="
                                        width: 286px;
                                        height: 158.5px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c8">
                            <span class="c4"
                                >It is now the demon&rsquo;s turn and
                                they&rsquo;ve decided to switch systems! Now the
                                demon can move x, forcing us to move z on the
                                next go!</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c3">
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c8">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 158.5px;
                                "
                                ><img
                                    alt=""
                                    src="assets/programming-language-concepts/image137.png"
                                    style="
                                        width: 286px;
                                        height: 158.5px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c14" colspan="1" rowspan="1">
                        <p class="c8">
                            <span>The demon has decided to move from x</span
                            ><span class="c23">1</span><span>&nbsp;to x</span
                            ><span class="c23">3</span
                            ><span class="c4"
                                >&nbsp;using the transition c. At our position,
                                there are no transitions we can take named c, so
                                now the demon has a winning strategy, showing
                                that these two systems are not bisimilar.</span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_g25qowyfw9o7-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >If bisimulation equivalent, then it is simulation
                    equivalent and trace equivalent.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >There is nothing finer than a bisimulation.</span
                >
            </li>
        </ul>
        <h1 class="c118 c56" id="h.utc0ndeh9dw">
            <span class="c35">TL;DR</span>
        </h1>
        <ul class="c0 lst-kix_fdzz13c3eitc-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Welcome back to the TL;DR section, which (heavily)
                    condenses the notes to make it easier to skim through and
                    revise!</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >As always, please read the notes above before you read this
                    section. Or not. It&rsquo;s your degree.</span
                >
            </li>
        </ul>
        <h2 class="c51" id="h.do47pk1ovd62">
            <span class="c57 c58">Syntax to execution</span>
        </h2>
        <ul class="c0 lst-kix_sqxgmrkhynik-0 start">
            <li class="c1 li-bullet-0">
                <span class="c11">Application domain</span
                ><span class="c4"
                    >: a field of computation fulfilled by various languages and
                    paradigms</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_sqxgmrkhynik-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Programming language family: </span
                ><span class="c4"
                    >a group of languages with similar / the same set of
                    conventions and semantics</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_sqxgmrkhynik-0">
            <li class="c1 li-bullet-0">
                <span class="c4">Software design methodologies:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_sqxgmrkhynik-1 start">
            <li class="c2 li-bullet-0">
                <span class="c11">Data oriented </span
                ><span class="c45 c9 c11">(high-level)</span
                ><span class="c4"
                    >: less about efficiency and more about structure</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c11">Procedure oriented </span
                ><span class="c9 c11 c45">(low-level)</span
                ><span class="c4"
                    >: decomposing programs into independent actions</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_sqxgmrkhynik-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Cross-fertilisation</span
                ><span class="c4"
                    >: concepts from one family of languages used in another
                    (e.g. lambdas in Java or monads in Haskell)</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_sqxgmrkhynik-0">
            <li class="c1 li-bullet-0">
                <span class="c4">&ldquo;Good&rdquo; language criteria:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_sqxgmrkhynik-1 start">
            <li class="c2 li-bullet-0">
                <span class="c104 c45 c128 c58">Readability</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c104 c45 c128 c58">Abstraction</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c104 c45 c128 c58">Efficiency</span>
            </li>
        </ul>
        <p class="c42 c56 c41 c60"><span class="c104 c45 c58 c128"></span></p>
        <ul class="c0 lst-kix_sqxgmrkhynik-0">
            <li class="c1 li-bullet-0">
                <span class="c4">Language properties:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_sqxgmrkhynik-1 start">
            <li class="c2 li-bullet-0">
                <span class="c11">Feature multiplicity</span
                ><span class="c4"
                    >: multiple ways to achieve the same result</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c11">Syntactic sugar</span
                ><span class="c4"
                    >: a more intuitive way to express the same semantic</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c11">Orthogonality</span
                ><span class="c4"
                    >: a property of two features that are independent of each
                    other</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c11">Obfuscation</span
                ><span class="c4"
                    >: intentionally making code harder to understand</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_sqxgmrkhynik-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Syntax</span
                ><span class="c4">: rules / languages of a language</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Semantics</span
                ><span class="c4">: the meaning of a program</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">BNF (Backus-Naur form)</span
                ><span class="c4">: a metalanguage that describes a CFG</span>
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_sqxgmrkhynik-0">
            <li class="c1 li-bullet-0">
                <span>Code can be parsed by a BNF to form a </span
                ><span class="c11">parse tree</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Ambiguity</span
                ><span class="c4"
                    >: when a sentence has multiple parse derivations</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_sqxgmrkhynik-0">
            <li class="c7 li-bullet-0">
                <span class="c11">EBNF (Extended Baur-Nackus form)</span
                ><span class="c4">: A syntactic sugar for BNF</span>
            </li>
        </ul>
        <p class="c42 c41 c102"><span class="c4"></span></p>
        <ul class="c0 lst-kix_sqxgmrkhynik-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Name (aka identifier)</span
                ><span class="c4"
                    >: reserved keywords with certain behaviours / functions in
                    a language</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_sqxgmrkhynik-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Variable</span
                ><span class="c4">: an allocated memory location</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Aliasing</span
                ><span class="c4"
                    >: when two variables point to the same location</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_sqxgmrkhynik-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Binding</span
                ><span class="c4"
                    >: an association between an entity and an attribute</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_sqxgmrkhynik-0">
            <li class="c1 li-bullet-0">
                <span class="c4">Two kinds of binding:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_sqxgmrkhynik-1 start">
            <li class="c2 li-bullet-0">
                <span class="c11">Static binding</span
                ><span class="c4"
                    >: occurs before execution and remains unchanged during
                    (e.g. types set at the start and type errors can
                    occur)</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c11">Dynamic binding</span
                ><span>: first occurs during execution or changes during (</span
                ><span>e.g. </span><span class="c4">in JavaScript)</span>
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_sqxgmrkhynik-0">
            <li class="c1 li-bullet-0">
                <span class="c4">Kinds of variables:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_sqxgmrkhynik-1 start">
            <li class="c2 li-bullet-0">
                <span class="c11">Static </span
                ><span class="c4"
                    >variables: bound to a location in memory when we initialise
                    them</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_sqxgmrkhynik-2 start">
            <li class="c37 li-bullet-0">
                <span class="c4">(e.g. a global C variable)</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_sqxgmrkhynik-1">
            <li class="c2 li-bullet-0">
                <span class="c11">Stack </span
                ><span class="c4"
                    >variables: memory is allocated from the run-time stack and
                    deallocated when the variable is out of scope</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_sqxgmrkhynik-2 start">
            <li class="c37 li-bullet-0">
                <span class="c4">(e.g. a local Java variable in a method)</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_sqxgmrkhynik-1">
            <li class="c2 li-bullet-0">
                <span class="c11">Explicit heap </span
                ><span class="c4">variables: memory is bound explicitly</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_sqxgmrkhynik-2 start">
            <li class="c37 li-bullet-0">
                <span>(e.g. using </span><span class="c16">malloc </span
                ><span>in C or </span><span class="c16">new </span
                ><span class="c4">in Java)</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_sqxgmrkhynik-1">
            <li class="c2 li-bullet-0">
                <span class="c11">Implicit heap </span
                ><span class="c4"
                    >variables: the variable is only brought into being when it
                    is assigned values</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_sqxgmrkhynik-2 start">
            <li class="c37 li-bullet-0">
                <span class="c4"
                    >(e.g. any JavaScript variable, you can&rsquo;t make an
                    empty JavaScript variable)</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_sqxgmrkhynik-0">
            <li class="c1 li-bullet-0">
                <span>The </span><span class="c11">scope </span
                ><span class="c4"
                    >of a variable is the location in which you can use
                    it.</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_sqxgmrkhynik-1 start">
            <li class="c2 li-bullet-0">
                <span class="c11">Local </span
                ><span class="c4"
                    >scope variables are only visible within their own
                    &ldquo;block&rdquo;</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c11">Global </span
                ><span class="c4"
                    >scope variables can be seen anywhere, unless it&rsquo;s
                    hidden by a locally scoped variable.</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c11">Static (lexical)</span
                ><span class="c4"
                    >&nbsp;scope variables are variables where the scope can be
                    determined at compile time</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c11">Dynamic </span
                ><span class="c4"
                    >scope variables are global variables that are set a
                    temporary value within a scope, and their old value is set
                    back when that scope is exited.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_sqxgmrkhynik-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Lexical analysis (lexing)</span
                ><span class="c4"
                    >: pattern matching a string into a sequence of tokens</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Parsing</span
                ><span class="c4"
                    >: creating a syntax tree from a sequence of tokens</span
                >
            </li>
        </ul>
        <p class="c42 c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 132.69px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image136.png"
                    style="
                        width: 602px;
                        height: 132.69px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_n8gnjvrhn7fb-0 start">
            <li class="c1 li-bullet-0">
                <span class="c11">Top-down LL parsing</span><span>&nbsp;/ </span
                ><span class="c11">recursive-descent parsing</span
                ><span class="c4"
                    >: parses using a context free grammar (susceptible to left
                    recursion)</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Bottom-up LR parsing</span
                ><span
                    >: parses using a deterministic pushdown automaton and uses
                    a stack</span
                >
            </li>
        </ul>
        <h2 class="c51" id="h.86tnyq8terqu">
            <span class="c57 c58">Testing</span>
        </h2>
        <ul class="c0 lst-kix_d3vvrmxyasms-0 start">
            <li class="c1 li-bullet-0">
                <span class="c11">Type system</span
                ><span class="c4"
                    >: a syntactic method for proving absence of program
                    behaviours</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Abstract enough to hide away low-level details</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Precise enough to formalise mathematical tools</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_d3vvrmxyasms-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Strongly typed</span
                ><span
                    >: access to private data is restricted, so no memory
                    corruptions can be made </span
                ><span class="c104 c45 c9 c58"
                    >(or, no implicit type conversions are made)</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Weakly typed</span
                ><span
                    >: access to private data is not necessarily restricted, and
                    typing is used for other things like memory allocation size </span
                ><span class="c104 c45 c9 c58"
                    >(or, implicit type conversions are made)</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Static typing</span
                ><span class="c4">: checks typing at compile time</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Dynamic typing</span
                ><span class="c4">: checks typing during runtime</span>
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_d3vvrmxyasms-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Semantic analysis</span
                ><span class="c4">: type checking done on AST</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Type inference</span
                ><span class="c4"
                    >: compiler computes what type variables are</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_d3vvrmxyasms-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Type safety</span
                ><span class="c4">: when program has secure types</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >&ldquo;Well-typed programs never go wrong&rdquo;</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_d3vvrmxyasms-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Typing relation</span
                ><span class="c4"
                    >: inductively defined relation that allows us to check
                    types</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Reduction relation</span
                ><span class="c4"
                    >: inductively defined relation that allows us to evaluate
                    program runtime states</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_d3vvrmxyasms-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Basically, look at the typing rules at the front and use
                    those to build up typing trees in the exam.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Type environment</span
                ><span class="c4">: mapping from variables to types</span>
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_d3vvrmxyasms-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Syntax directed</span
                ><span class="c4"
                    >: compiler uses syntax and parser to figure out what
                    program does</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Inversion lemma</span
                ><span class="c4"
                    >: inferring the type of a subprogram given the type of the
                    whole program</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_d3vvrmxyasms-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Type variable</span
                ><span class="c4"
                    >: symbolic value to represent some unknown type with
                    constraints</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Unification</span
                ><span class="c4"
                    >: testing an argument against the constraints of a type
                    variable</span
                >
            </li>
        </ul>
        <h2 class="c51" id="h.kcgaciunsamb">
            <span class="c57 c58">Reasoning about programs</span>
        </h2>
        <ul class="c0 lst-kix_1fczs3n2a23z-0 start">
            <li class="c1 li-bullet-0">
                <span class="c11">Denotational </span
                ><span class="c4"
                    >semantics: mapping program structure to mathematical
                    domain</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Operational</span
                ><span class="c4"
                    >&nbsp;semantics: inductively maps programs to values they
                    produce or steps, includes big step and small step</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Axiomatic </span
                ><span
                    >semantics: use formal logic like Hoare logic (used in </span
                ><span class="c31"
                    ><a
                        class="c32"
                        href="https://www.google.com/url?q=https://drive.google.com/open?id%3D1sLuheFDlDIf-9QykBo8IzNOdwag2cssUqT1e6yr7R8Q&amp;sa=D&amp;source=editors&amp;ust=1623676074669000&amp;usg=AOvVaw3FxydyrGE-UQcdy2RVlRKi"
                        >Advanced Software Modelling and Design</a
                    ></span
                ><span class="c4">)</span>
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_1fczs3n2a23z-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >With denotational semantics, it&rsquo;s just mapping to a
                    semantic domain.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c18 c16">[[ E ]]&sigma; = V</span>
            </li>
            <li class="c1 li-bullet-0">
                <span>E is expression in program, </span
                ><span class="c16">&sigma;</span
                ><span class="c4"
                    >&nbsp;is mapping from free variables to values in semantic
                    domain, V is value in semantic domain that E maps to</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_1fczs3n2a23z-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Big step</span
                ><span class="c4">: map programs to values (&dArr;)</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Small step</span
                ><span>: map program to the next step / subprogram (</span
                ><img
                    src="assets/programming-language-concepts/image80.png"
                /><span class="c4">)</span>
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_1fczs3n2a23z-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Weak preservation</span
                ><span class="c4"
                    >: preservation, but with big step semantics</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_1fczs3n2a23z-1 start">
            <li class="c2 li-bullet-0"><span class="c4">If E : T</span></li>
            <li class="c2 li-bullet-0">
                <span>and E </span><span class="c18 c16">&dArr; V</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c18 c16">then V &dArr; T</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_1fczs3n2a23z-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Preservation</span
                ><span class="c4"
                    >: at each step, the program type does not change. Weak
                    preservation, but with small step semantics</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_1fczs3n2a23z-1 start">
            <li class="c2 li-bullet-0"><span class="c4">If E1 : T</span></li>
            <li class="c2 li-bullet-0">
                <span class="c4">and E1 -&gt; E2</span>
            </li>
            <li class="c2 li-bullet-0"><span class="c4">then E2 : T</span></li>
        </ul>
        <ul class="c0 lst-kix_1fczs3n2a23z-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Progress</span
                ><span class="c4">: well-typed terms never get stuck</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_1fczs3n2a23z-1 start">
            <li class="c2 li-bullet-0">
                <span class="c4">If E1 is a well-typed program</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4">then either E1 -&gt; E2 or E1 is a value</span>
            </li>
        </ul>
        <h2 class="c51" id="h.kcgaciunsamb-8">
            <span class="c57 c58">Structured types</span>
        </h2>
        <ul class="c0 lst-kix_1pw4rroqk9z0-0 start">
            <li class="c1 li-bullet-0">
                <span
                    >I&rsquo;m not pasting the typing rules here; they&rsquo;re
                    big and bulky</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Unit type</span
                ><span class="c4">: type with only one value</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Pairs and tuples</span
                ><span class="c4">: set of values where order matters</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Destructors</span
                ><span class="c4">: function that unwraps a wrapped value</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Projection</span
                ><span class="c4"
                    >: destructor for tuples, usually pairs (fst and snd)</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Record</span
                ><span class="c4"
                    >: tuple where elements are referenced by label</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Sum</span
                ><span
                    >: type where it can be one or the other type (constructors
                    are called </span
                ><span class="c11">injections</span><span class="c4">)</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Variants</span
                ><span>: sum where types are referenced by </span
                ><span>labelling </span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Lists</span
                ><span class="c4"
                    >: structured types storing ordered data; mutable</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Arrays</span
                ><span class="c4"
                    >: non-structured types holding ordered fixed-length
                    data</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Functions</span
                ><span class="c4"
                    >: compartmentalised computations (I know it&rsquo;s not
                    really that but I need to write something here)</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_1pw4rroqk9z0-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Subtyping</span
                ><span class="c4"
                    >: loosens our strict type checking and lets us use subset
                    types</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">Subtyping is a property of polymorphism</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Parametric </span
                ><span class="c4"
                    >polymorphism: C++ templates, Java generics etc.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Subtype </span
                ><span class="c4">polymorphism: Inheritance, duck typing</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Ad Hoc </span
                ><span class="c4"
                    >polymorphism: overloading functions and methods</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_1pw4rroqk9z0-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Nominal </span
                ><span class="c4"
                    >subtyping: explicitly stating a child type and parent
                    type</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Structural </span
                ><span class="c4">subtyping: duck typing</span>
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_1pw4rroqk9z0-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Subsumption</span
                ><span class="c4"
                    >: If X is a child of Y, then every property of Y is also a
                    property of X.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_1pw4rroqk9z0-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Depth </span
                ><span class="c4"
                    >subtyping: types in a record are subtypes of types in
                    another record</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Width </span
                ><span class="c4"
                    >subtyping: child type has more properties than parent
                    type</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_1pw4rroqk9z0-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Contravariant</span><span>: </span
                ><span class="c18 c16">T &lt;: U =&gt; Foo U &lt;: Foo T</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Covariant</span><span>: </span
                ><span class="c18 c16">T &lt;: U =&gt; Foo T &lt;: Foo U</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Invariant</span><span>:</span
                ><span class="c18 c16"
                    >&nbsp;T &lt;: U =&gt; Foo T &lt;: Foo U &amp;&amp; Foo U
                    &lt;: Foo T</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c18 c16"></span></p>
        <ul class="c0 lst-kix_1pw4rroqk9z0-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Termination</span
                ><span class="c4"
                    >: for every well-typed term, it does not loop</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Determinism</span
                ><span class="c4"
                    >: for every term E, there is only one other term E&rsquo;
                    such that E -&gt; E&rsquo;</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_1pw4rroqk9z0-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Fixed-point combinator</span
                ><span class="c4"
                    >: recursive function that can make other functions
                    recursive</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Curry-Howard correspondence</span
                ><span class="c4"
                    >: isomorphism between programs and proofs</span
                >
            </li>
        </ul>
        <h2 class="c51" id="h.kcgaciunsamb-9">
            <span class="c57 c58">Concurrency in programming languages</span>
        </h2>
        <ul class="c0 lst-kix_l3a5m3l3r23-0 start">
            <li class="c1 li-bullet-0">
                <span class="c11">Concurrency</span
                ><span class="c4"
                    >: several processes executing simultaneously</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Process</span
                ><span class="c4"
                    >: operating system abstraction with an address space and a
                    number of threads</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_l3a5m3l3r23-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Context switch</span
                ><span class="c4">: when CPU swaps between threads</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Race condition</span
                ><span class="c4"
                    >: ambiguity over the order of thread accesses</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">Conditions for race conditions:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_l3a5m3l3r23-1 start">
            <li class="c2 li-bullet-0">
                <span class="c11">Aliasing</span
                ><span>: same memory location </span><span>accessible</span
                ><span class="c4">&nbsp;by multiple threads</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c11">Mutability</span
                ><span class="c4"
                    >: data in some shared memory can be modified</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_l3a5m3l3r23-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Critical region</span
                ><span class="c4"
                    >: part of the program that is accessed by multiple
                    threads</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Mutual exclusion</span
                ><span class="c4"
                    >: if one thread accesses a critical region, no other
                    threads can</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_l3a5m3l3r23-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Busy waiting</span
                ><span class="c4"
                    >: threads are blocked until they can access critical
                    region</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">TSL (Test and Set Lock)</span
                ><span class="c4"
                    >: hardware support for concurrency; writes non-zero values
                    to a lock location</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">XCHG</span
                ><span class="c4"
                    >: exchanges contents of two register and memory locations
                    atomically</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_l3a5m3l3r23-0">
            <li class="c1 li-bullet-0">
                <span class="c16">volatile </span
                ><span class="c4"
                    >keyword in Java: operations on that variable are not
                    re-ordered</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_l3a5m3l3r23-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Deadlock</span
                ><span class="c4"
                    >: two threads wait for each other to use a resource, and
                    end up hanging</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_l3a5m3l3r23-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Intrinsic</span
                ><span class="c11">&nbsp;lock</span
                ><span
                    >: you don&rsquo;t need to explicitly create lock objects,
                    e.g. </span
                ><span class="c16">synchronized</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Explicit lock</span
                ><span class="c4"
                    >: you use a lock object with additional features, e.g.
                    ReentrantLock</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Monitor</span
                ><span class="c4"
                    >: instance that monitors threads&rsquo; access to critical
                    regions</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">Monitor methods:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_l3a5m3l3r23-1 start">
            <li class="c2 li-bullet-0"><span class="c18 c16">wait</span></li>
            <li class="c2 li-bullet-0">
                <span class="c16">signal </span><span>(</span
                ><span class="c16">notify</span
                ><span class="c4">&nbsp;in Java)</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c16">broadcast </span><span>(</span
                ><span class="c16">notifyAll</span
                ><span class="c4">&nbsp;in Java)</span>
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_l3a5m3l3r23-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Latch</span
                ><span
                    >: blocks threads until counter counts down to 0. Has two
                    methods: </span
                ><span class="c16">await </span><span>and </span
                ><span class="c16">countDown</span><span class="c4">.</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Barrier</span
                ><span
                    >: blocks threads until a certain number of threads reach
                    the barrier. Has one method: </span
                ><span class="c16">await</span><span class="c4">.</span>
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_l3a5m3l3r23-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Amdahl&rsquo;s law</span><span>: </span
                ><span class="c18 c16">speedup &le; 1 / (F + (1 - F) / N)</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_l3a5m3l3r23-1 start">
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >F is the fraction of the task that is sequential.</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c4">N is the number of cores.</span>
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_l3a5m3l3r23-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Lock contention</span
                ><span class="c4"
                    >: multiple threads fighting over the same lock</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">CAS (compare-and-set)</span
                ><span class="c4"
                    >: atomic instruction; if a location has an old value, set
                    the new value</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_l3a5m3l3r23-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Synchronous </span
                ><span class="c4"
                    >communication: sender is blocked until receiver is ready,
                    or vice versa</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Asynchronous </span
                ><span class="c4"
                    >communication: sender sends message and continues its
                    execution</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_l3a5m3l3r23-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Erlang uses asynchronous message passing, and uses an actor
                    model.</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_l3a5m3l3r23-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Software Transactional Memory (STM)</span
                ><span class="c4"
                    >: make changes locally. If there was edits, roll-back and
                    try again. If no, commit. Changes done in series. Hard to
                    roll-back side-effects, like printf.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Multiversion concurrency control (MVCC)</span
                ><span class="c4"
                    >: copy-on-write, stores snapshots of immutable stored
                    memory, very similar to Git</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_l3a5m3l3r23-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Rust uses a linear type system, where ownership of objects
                    are passed around.</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >Eliminates race conditions by removing aliasing</span
                >
            </li>
        </ul>
        <h2 class="c51" id="h.kcgaciunsamb-10">
            <span class="c57 c58">Semantics of concurrency</span>
        </h2>
        <ul class="c0 lst-kix_69l2ug7a0seu-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4">Three aspects to concurrency:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_69l2ug7a0seu-1 start">
            <li class="c2 li-bullet-0">
                <span class="c11">Communication</span
                ><span class="c4"
                    >: processes talk to each other through shared memory /
                    messages</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span class="c11">Synchronisation</span
                ><span class="c4">: processes sync to ensure atomicity</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c11">Non-determinism</span
                ><span class="c4"
                    >: what can be observed changes from one run to the
                    next</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_69l2ug7a0seu-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Labelled Transition System (LTS)</span
                ><span class="c4"
                    >: mathematical structure used to model multi-threaded
                    programs</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <img src="assets/programming-language-concepts/image57.png" />
            </li>
        </ul>
        <ul class="c0 lst-kix_69l2ug7a0seu-1 start">
            <li class="c2 li-bullet-0">
                <img
                    src="assets/programming-language-concepts/image58.png"
                /><span class="c4">&nbsp;is a set of states</span>
            </li>
            <li class="c2 li-bullet-0">
                <img
                    src="assets/programming-language-concepts/image59.png"
                /><span class="c4">&nbsp;is an alphabet of actions</span>
            </li>
            <li class="c2 li-bullet-0">
                <img
                    src="assets/programming-language-concepts/image60.png"
                /><span class="c4">&nbsp;is the set of transitions</span>
            </li>
        </ul>
        <p class="c50">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 474.5px;
                    height: 156.85px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image185.png"
                    style="
                        width: 474.5px;
                        height: 156.85px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_9fm53h5q0qq5-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4">Types of non-determinism:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_9fm53h5q0qq5-1 start">
            <li class="c2 li-bullet-0">
                <span class="c11">Internal </span
                ><span class="c4">non-determinism: the machine chooses</span>
            </li>
            <li class="c2 li-bullet-0">
                <span class="c11">External </span
                ><span class="c4"
                    >non-determinism: the environment chooses</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_9fm53h5q0qq5-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Trace</span
                ><span class="c4">: set of paths we can take from a node</span>
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Trace equivalence</span
                ><span class="c4"
                    >: property of two nodes if they both have the same
                    trace</span
                >
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_bhjdoil3yobb-0 start">
            <li class="c1 li-bullet-0">
                <span class="c11">Simulation</span
                ><span class="c4"
                    >: for each transition one node does, the other node can
                    copy</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c11">Simulation relation</span
                ><span class="c4">:</span>
            </li>
            <li class="c1 li-bullet-0">
                <img
                    src="assets/programming-language-concepts/image64.png"
                /><img
                    src="assets/programming-language-concepts/image81.png"
                /><img src="assets/programming-language-concepts/image65.png" />
            </li>
            <li class="c1 li-bullet-0">
                <img src="assets/programming-language-concepts/image82.png" />
            </li>
            <li class="c1 li-bullet-0">
                <img
                    src="assets/programming-language-concepts/image83.png"
                /><img
                    src="assets/programming-language-concepts/image84.png"
                /><img
                    src="assets/programming-language-concepts/image85.png"
                /><img
                    src="assets/programming-language-concepts/image67.png"
                /><img
                    src="assets/programming-language-concepts/image81.png"
                /><img src="assets/programming-language-concepts/image86.png" />
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_phiwbcd5n88v-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4">Syntax for &ldquo;simulates&rdquo;:</span>
            </li>
            <li class="c1 li-bullet-0">
                <img
                    src="assets/programming-language-concepts/image64.png"
                /><img
                    src="assets/programming-language-concepts/image87.png"
                /><img src="assets/programming-language-concepts/image69.png" />
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_phiwbcd5n88v-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Similarity</span
                ><span>: Largest simulation between given LTS&rsquo; </span
                ><img src="assets/programming-language-concepts/image71.png" />
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">Simulation is an instance of coinduction</span>
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_phiwbcd5n88v-0">
            <li class="c1 li-bullet-0">
                <span class="c4">Simulation demon game:</span>
            </li>
        </ul>
        <ol class="c0 lst-kix_k6r5xtt8tydn-0 start" start="1">
            <li class="c2 li-bullet-0">
                <span>We start at position </span
                ><img src="assets/programming-language-concepts/image72.png" />
            </li>
            <li class="c2 li-bullet-0">
                <span>The demon picks a move </span
                ><img src="assets/programming-language-concepts/image65.png" />
            </li>
            <li class="c2 li-bullet-0">
                <span>We pick a move </span
                ><img src="assets/programming-language-concepts/image67.png" />
            </li>
            <li class="c2 li-bullet-0">
                <span>The game goes back to step 2, with position </span
                ><img src="assets/programming-language-concepts/image73.png" />
            </li>
        </ol>
        <ul class="c0 lst-kix_1hjvkoyvcnyq-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >If we get stuck, demon wins =&gt; does not simulate</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >If we go on forever, we win =&gt; does simulate</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_1hjvkoyvcnyq-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Simulation equivalence</span><span>: </span
                ><img
                    src="assets/programming-language-concepts/image69.png"
                /><span>&nbsp;and </span
                ><img src="assets/programming-language-concepts/image74.png" />
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_1hjvkoyvcnyq-0">
            <li class="c1 li-bullet-0">
                <span class="c11">Bisimulation</span><span class="c4">:</span>
            </li>
            <li class="c1 li-bullet-0">
                <img
                    src="assets/programming-language-concepts/image88.png"
                /><span class="c16 c98">~</span
                ><img src="assets/programming-language-concepts/image89.png" />
            </li>
            <li class="c1 li-bullet-0">
                <img src="assets/programming-language-concepts/image82.png" />
            </li>
        </ul>
        <ul class="c0 lst-kix_1hjvkoyvcnyq-2 start">
            <li class="c37 li-bullet-0">
                <img src="assets/programming-language-concepts/image77.png" />
            </li>
            <li class="c37 li-bullet-0">
                <img src="assets/programming-language-concepts/image82.png" />
            </li>
            <li class="c37 li-bullet-0">
                <img
                    src="assets/programming-language-concepts/image90.png"
                /><img src="assets/programming-language-concepts/image85.png" />
            </li>
            <li class="c37 li-bullet-0">
                <img
                    src="assets/programming-language-concepts/image78.png"
                /><img
                    src="assets/programming-language-concepts/image81.png"
                /><img src="assets/programming-language-concepts/image68.png" />
            </li>
        </ul>
        <ul class="c0 lst-kix_1hjvkoyvcnyq-1 start">
            <li class="c2 li-bullet-0">
                <img src="assets/programming-language-concepts/image81.png" />
            </li>
        </ul>
        <ul class="c0 lst-kix_1hjvkoyvcnyq-2 start">
            <li class="c37 li-bullet-0">
                <img src="assets/programming-language-concepts/image78.png" />
            </li>
            <li class="c37 li-bullet-0">
                <img src="assets/programming-language-concepts/image82.png" />
            </li>
            <li class="c37 li-bullet-0">
                <img
                    src="assets/programming-language-concepts/image91.png"
                /><img src="assets/programming-language-concepts/image85.png" />
            </li>
            <li class="c37 li-bullet-0">
                <img
                    src="assets/programming-language-concepts/image77.png"
                /><img
                    src="assets/programming-language-concepts/image81.png"
                /><img src="assets/programming-language-concepts/image68.png" />
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <ul class="c0 lst-kix_p1yfmph1jex7-0 start">
            <li class="c1 li-bullet-0">
                <span class="c11">Bisimilarity</span
                ><span>: largest bisimulation between given LTS&rsquo; </span
                ><span class="c18 c16">~</span>
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_p1yfmph1jex7-0">
            <li class="c1 li-bullet-0">
                <span class="c4">Bisimulation demon game:</span>
            </li>
        </ul>
        <ol class="c0 lst-kix_nmzt4fhpprdl-0 start" start="1">
            <li class="c2 li-bullet-0">
                <span class="c4"
                    >The demon picks where to play, either at x or at y</span
                >
            </li>
            <li class="c2 li-bullet-0">
                <span>If demon chose x, he picks a move </span
                ><img
                    src="assets/programming-language-concepts/image77.png"
                /><span>in this case we must respond with </span
                ><img src="assets/programming-language-concepts/image78.png" />
            </li>
            <li class="c2 li-bullet-0">
                <span>If demon chose y, he picks a move </span
                ><img
                    src="assets/programming-language-concepts/image78.png"
                /><span>in this case we must respond with </span
                ><img src="assets/programming-language-concepts/image77.png" />
            </li>
            <li class="c2 li-bullet-0">
                <span>The game goes back to step 1, changing position to </span
                ><img src="assets/programming-language-concepts/image73.png" />
            </li>
        </ol>
        <ul class="c0 lst-kix_fdni4c628hj4-0 start">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >If we can&rsquo;t move, demon wins =&gt; not a
                    bisimulation</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >If we go on forever, we win =&gt; bisimulation</span
                >
            </li>
        </ul>
        <p class="c15"><span class="c4"></span></p>
        <ul class="c0 lst-kix_fdni4c628hj4-0">
            <li class="c1 li-bullet-0">
                <span class="c4"
                    >If bisimulation equivalent, then simulation equivalent and
                    trace equivalent</span
                >
            </li>
            <li class="c1 li-bullet-0">
                <span class="c4">Nothing finer than bisimulation</span>
            </li>
        </ul>
        <p class="c42 c56 c41"><span class="c4"></span></p>
        <p class="c42 c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 598.67px;
                "
                ><img
                    alt=""
                    src="assets/programming-language-concepts/image180.png"
                    style="
                        width: 602px;
                        height: 598.67px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c50">
            <span class="c27">Julian is happy you finished the PLC notes</span>
        </p>
        <p class="c50 c41"><span class="c27"></span></p>
        <p class="c50">
            <span class="c62"
                >&quot;Hey there, Julian here! I see you&#39;ve done plenty of
                revision, right...? *</span
            ><span class="c62 c11">nods expectantly</span
            ><span class="c62"
                >* What? Wait? What do you mean you&#39;ve left it to the last
                minute? Oh oh! You&#39;ll never write type-safe programs if you
                don&#39;t revise! No worries, the notes always have your back.
                I&#39;ve got to go now; a Java developer is implementing
                invariant arrays, making Java not type-safe! I&#39;ll see you
                around, alright...? *</span
            ><span class="c62 c11"
                >nodding again, looking around expectantly</span
            ><span class="c62">*&quot;</span>
        </p>
        <div>
            <p class="c42 c56 c41"><span class="c4"></span></p>
        </div>
    </body>
</html>
