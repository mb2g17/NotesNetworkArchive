<html>
    <head>
        <meta content="text/html; charset=UTF-8" http-equiv="content-type" />
        <link rel="stylesheet" href="css/advanced-databases-part-i.css" />
        <link rel="stylesheet" href="css/page.css" />
    </head>
    <body class="c53">
        <div>
            <p class="c9">
                <span class="c29"
                    ><a class="c17" href="index.html"
                        >Computer Science / Software Engineering Notes
                        Network</a
                    ></span
                >
            </p>
        </div>
        <p class="c31 title" id="h.rxgh0p54p9bi">
            <span class="c63 c90">Advanced Databases Part 1</span
            ><span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 261.5px;
                    height: 190.8px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image123.png"
                    style="
                        width: 261.5px;
                        height: 190.8px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c95 subtitle" id="h.yxuzokywuqu2">
            <span class="c45">Matthew Barnes</span>
        </p>
        <p class="c20">
            <span class="c12 c13"
                ><a class="c17" href="#h.hh221kyqtwj4">Parts</a></span
            ><span class="c12 c13"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12 c13"
                ><a class="c17" href="#h.hh221kyqtwj4">3</a></span
            >
        </p>
        <p class="c103">
            <span class="c12 c13"
                ><a class="c17" href="#h.cwzgkx62f4x0">Data types</a></span
            ><span class="c12 c13"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12 c13"
                ><a class="c17" href="#h.cwzgkx62f4x0">4</a></span
            >
        </p>
        <p class="c32 c73">
            <span class="c12"
                ><a class="c17" href="#h.a1cj37neuaj5">Temporal data</a></span
            ><span class="c12"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12"
                ><a class="c17" href="#h.a1cj37neuaj5">5</a></span
            >
        </p>
        <p class="c32 c73">
            <span class="c12"
                ><a class="c17" href="#h.1gc4eqd0ukyo">Spatial data</a></span
            ><span class="c12"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12"
                ><a class="c17" href="#h.1gc4eqd0ukyo">6</a></span
            >
        </p>
        <p class="c32 c73">
            <span class="c12"
                ><a class="c17" href="#h.swst35wfej6c">Multimedia data</a></span
            ><span class="c12"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12"
                ><a class="c17" href="#h.swst35wfej6c">7</a></span
            >
        </p>
        <p class="c103">
            <span class="c12 c13"
                ><a class="c17" href="#h.mjbylyfzlbu"
                    >DBMS Architecture</a
                ></span
            ><span class="c12 c13"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12 c13"
                ><a class="c17" href="#h.mjbylyfzlbu">8</a></span
            >
        </p>
        <p class="c103">
            <span class="c12 c13"
                ><a class="c17" href="#h.o0iziqgtuudw">Data Storage</a></span
            ><span class="c12 c13"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12 c13"
                ><a class="c17" href="#h.o0iziqgtuudw">10</a></span
            >
        </p>
        <p class="c32 c73">
            <span class="c12"
                ><a class="c17" href="#h.idimmzps4s00"
                    >Storage Organisation</a
                ></span
            ><span class="c12"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12"
                ><a class="c17" href="#h.idimmzps4s00">10</a></span
            >
        </p>
        <p class="c32 c73">
            <span class="c12"
                ><a class="c17" href="#h.het651z8auqy"
                    >Secondary Storage</a
                ></span
            ><span class="c12"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12"
                ><a class="c17" href="#h.het651z8auqy">11</a></span
            >
        </p>
        <p class="c32 c73">
            <span class="c12"
                ><a class="c17" href="#h.9e6qcgg3ony"
                    >Buffer Management</a
                ></span
            ><span class="c12"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12"
                ><a class="c17" href="#h.9e6qcgg3ony">14</a></span
            >
        </p>
        <p class="c32 c73">
            <span class="c12"
                ><a class="c17" href="#h.8tmg68va6t21"
                    >The Five Minute Rule</a
                ></span
            ><span class="c12"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12"
                ><a class="c17" href="#h.8tmg68va6t21">17</a></span
            >
        </p>
        <p class="c32 c73">
            <span class="c12"
                ><a class="c17" href="#h.8tmg68va6t21"
                    >Disk Organisation</a
                ></span
            ><span class="c12"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12"
                ><a class="c17" href="#h.8tmg68va6t21">18</a></span
            >
        </p>
        <p class="c32 c24">
            <span class="c12"
                ><a class="c17" href="#h.3s5b3gbb24m9">Data Items</a></span
            ><span class="c12"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12"
                ><a class="c17" href="#h.3s5b3gbb24m9">18</a></span
            >
        </p>
        <p class="c32 c24">
            <span class="c12"
                ><a class="c17" href="#h.3s5b3gbb24m9">Records</a></span
            ><span class="c12"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12"
                ><a class="c17" href="#h.3s5b3gbb24m9">19</a></span
            >
        </p>
        <p class="c32 c24">
            <span class="c12"
                ><a class="c17" href="#h.3ot26bueoqb4">Blocks</a></span
            ><span class="c12"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12"
                ><a class="c17" href="#h.3ot26bueoqb4">20</a></span
            >
        </p>
        <p class="c32 c73">
            <span class="c12"
                ><a class="c17" href="#h.8tmg68va6t21"
                    >Insertion and Deletion</a
                ></span
            ><span class="c12"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12"
                ><a class="c17" href="#h.8tmg68va6t21">24</a></span
            >
        </p>
        <p class="c103">
            <span class="c12 c13"
                ><a class="c17" href="#h.mjbylyfzlbu"
                    >Access Structures</a
                ></span
            ><span class="c12 c13"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12 c13"
                ><a class="c17" href="#h.mjbylyfzlbu">30</a></span
            >
        </p>
        <p class="c32 c73">
            <span class="c12"
                ><a class="c17" href="#h.s4q64irvssij">Index basics</a></span
            ><span class="c12"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12"
                ><a class="c17" href="#h.s4q64irvssij">30</a></span
            >
        </p>
        <p class="c32 c24">
            <span class="c12"
                ><a class="c17" href="#h.3tzo4b2p81uk"
                    >Sequential files</a
                ></span
            ><span class="c12"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12"
                ><a class="c17" href="#h.3tzo4b2p81uk">30</a></span
            >
        </p>
        <p class="c24 c32">
            <span class="c12"
                ><a class="c17" href="#h.3tzo4b2p81uk">Dense indexes</a></span
            ><span class="c12"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12"
                ><a class="c17" href="#h.3tzo4b2p81uk">31</a></span
            >
        </p>
        <p class="c32 c24">
            <span class="c12"
                ><a class="c17" href="#h.3tzo4b2p81uk">Sparse indexes</a></span
            ><span class="c12"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12"
                ><a class="c17" href="#h.3tzo4b2p81uk">31</a></span
            >
        </p>
        <p class="c32 c24">
            <span class="c12"
                ><a class="c17" href="#h.3tzo4b2p81uk"
                    >Multi-level indexes</a
                ></span
            ><span class="c12"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12"
                ><a class="c17" href="#h.3tzo4b2p81uk">32</a></span
            >
        </p>
        <p class="c32 c24">
            <span class="c12"
                ><a class="c17" href="#h.g1kq51d27teq">Duplicates</a></span
            ><span class="c12"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12"
                ><a class="c17" href="#h.g1kq51d27teq">33</a></span
            >
        </p>
        <p class="c32 c24">
            <span class="c12"
                ><a class="c17" href="#h.qvlew54yfk3a">Deletions</a></span
            ><span class="c12"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12"
                ><a class="c17" href="#h.qvlew54yfk3a">36</a></span
            >
        </p>
        <p class="c32 c24">
            <span class="c12"
                ><a class="c17" href="#h.7usfdxks7t86">Insertions</a></span
            ><span class="c12"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12"
                ><a class="c17" href="#h.7usfdxks7t86">39</a></span
            >
        </p>
        <p class="c32 c24">
            <span class="c12"
                ><a class="c17" href="#h.3tzo4b2p81uk"
                    >Secondary indexes</a
                ></span
            ><span class="c12"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12"
                ><a class="c17" href="#h.3tzo4b2p81uk">42</a></span
            >
        </p>
        <p class="c32 c24">
            <span class="c12"
                ><a class="c17" href="#h.3tzo4b2p81uk">Indirection</a></span
            ><span class="c12"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12"
                ><a class="c17" href="#h.3tzo4b2p81uk">45</a></span
            >
        </p>
        <p class="c32 c73">
            <span class="c12"
                ><a class="c17" href="#h.m7xxn5v4lkra">B+ trees</a></span
            ><span class="c12"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12"
                ><a class="c17" href="#h.m7xxn5v4lkra">46</a></span
            >
        </p>
        <p class="c32 c24">
            <span class="c12"
                ><a class="c17" href="#h.sovmuvy22sdu">Insertion</a></span
            ><span class="c12"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12"
                ><a class="c17" href="#h.sovmuvy22sdu">49</a></span
            >
        </p>
        <p class="c32 c24">
            <span class="c12"
                ><a class="c17" href="#h.ofjj76p3fcu0">Deletion</a></span
            ><span class="c12"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12"
                ><a class="c17" href="#h.ofjj76p3fcu0">55</a></span
            >
        </p>
        <p class="c32 c73">
            <span class="c12"
                ><a class="c17" href="#h.m7xxn5v4lkra">Hash tables</a></span
            ><span class="c12"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12"
                ><a class="c17" href="#h.m7xxn5v4lkra">60</a></span
            >
        </p>
        <p class="c32 c24">
            <span class="c12"
                ><a class="c17" href="#h.s428llxnpnol"
                    >Extensible hashing</a
                ></span
            ><span class="c12"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12"
                ><a class="c17" href="#h.s428llxnpnol">64</a></span
            >
        </p>
        <p class="c32 c24">
            <span class="c12"
                ><a class="c17" href="#h.quldkjelf6jq">Linear hashing</a></span
            ><span class="c12"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12"
                ><a class="c17" href="#h.quldkjelf6jq">68</a></span
            >
        </p>
        <p class="c32 c73">
            <span class="c12"
                ><a class="c17" href="#h.d4xxsbrqou82"
                    >Indexing vs Hashing</a
                ></span
            ><span class="c12"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12"
                ><a class="c17" href="#h.d4xxsbrqou82">71</a></span
            >
        </p>
        <p class="c103">
            <span class="c12 c13"
                ><a class="c17" href="#h.mjbylyfzlbu"
                    >Multidimensional Access Structures</a
                ></span
            ><span class="c12 c13"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12 c13"
                ><a class="c17" href="#h.mjbylyfzlbu">71</a></span
            >
        </p>
        <p class="c32 c73">
            <span class="c12"
                ><a class="c17" href="#h.6euro510okjh"
                    >Conventional indexes</a
                ></span
            ><span class="c12"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12"
                ><a class="c17" href="#h.6euro510okjh">71</a></span
            >
        </p>
        <p class="c32 c73">
            <span class="c12"
                ><a class="c17" href="#h.6euro510okjh">Hash-like</a></span
            ><span class="c12"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12"
                ><a class="c17" href="#h.6euro510okjh">73</a></span
            >
        </p>
        <p class="c32 c24">
            <span class="c12"
                ><a class="c17" href="#h.w84svvndjifq">Grid files</a></span
            ><span class="c12"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12"
                ><a class="c17" href="#h.w84svvndjifq">73</a></span
            >
        </p>
        <p class="c32 c24">
            <span class="c12"
                ><a class="c17" href="#h.w84svvndjifq"
                    >Partitioned hashing</a
                ></span
            ><span class="c12"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12"
                ><a class="c17" href="#h.w84svvndjifq">74</a></span
            >
        </p>
        <p class="c32 c73">
            <span class="c12"
                ><a class="c17" href="#h.2g9zgp80fn7u"
                    >Hierarchical indexes</a
                ></span
            ><span class="c12"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12"
                ><a class="c17" href="#h.2g9zgp80fn7u">75</a></span
            >
        </p>
        <p class="c32 c24">
            <span class="c12"
                ><a class="c17" href="#h.bme342v32pgd">kd-trees</a></span
            ><span class="c12"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12"
                ><a class="c17" href="#h.bme342v32pgd">75</a></span
            >
        </p>
        <p class="c32 c24">
            <span class="c12"
                ><a class="c17" href="#h.bme342v32pgd">Quad trees</a></span
            ><span class="c12"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12"
                ><a class="c17" href="#h.bme342v32pgd">76</a></span
            >
        </p>
        <p class="c32 c24">
            <span class="c12"
                ><a class="c17" href="#h.bme342v32pgd">R-trees</a></span
            ><span class="c12"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12"
                ><a class="c17" href="#h.bme342v32pgd">77</a></span
            >
        </p>
        <p class="c32 c24">
            <span class="c12"
                ><a class="c17" href="#h.bme342v32pgd">UB-trees</a></span
            ><span class="c12"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12"
                ><a class="c17" href="#h.bme342v32pgd">78</a></span
            >
        </p>
        <p class="c25">
            <span class="c12"
                ><a class="c17" href="#h.levh41p3v1go">Bitmap indexes</a></span
            ><span class="c12"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c12"
                ><a class="c17" href="#h.levh41p3v1go">81</a></span
            >
        </p>
        <hr style="page-break-before: always; display: none" />
        <h1 class="c84" id="h.8e6m1ccqno8n"><span class="c49"></span></h1>
        <h1 class="c88" id="h.hh221kyqtwj4"><span class="c49">Parts</span></h1>
        <ul class="c10 lst-kix_6189lwvhog2h-0 start">
            <li class="c4 li-bullet-0">
                <span>Wait! Stop scrolling! </span
                ><span class="c13">HOLD UP</span><span class="c0">!</span>
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 259.83px;
                    height: 233.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image65.png"
                    style="
                        width: 259.83px;
                        height: 233.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_w8ckouz16m9g-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >I&rsquo;m trying something different for the advanced
                    databases notes.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0">Have you tried some of my other notes?</span>
            </li>
            <li class="c4 li-bullet-0">
                <span>For really big notes, like </span
                ><span class="c29"
                    ><a
                        class="c17"
                        href="https://www.google.com/url?q=https://drive.google.com/open?id%3D1aHEWwf6noU0qZwUIW6gjO-2GQ0wYomkLJsiXjsas1ZY&amp;sa=D&amp;source=editors&amp;ust=1623779904096000&amp;usg=AOvVaw19Nih5NwALEW-pcwXT3VoM"
                        >Engineering Management and Law</a
                    ></span
                ><span class="c0">, does the lag annoy you?</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >I&rsquo;m going to split this one up into three
                    parts.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >That way, you won&rsquo;t have a 200 page document lagging
                    up your browser.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >They&rsquo;re going to be split up into Nick&rsquo;s first
                    half, George&rsquo;s bit and Nick&rsquo;s second half.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Click on the table title (e.g. &ldquo;Part 2&rdquo;) to go
                    to that part&rsquo;s notes page.</span
                >
            </li>
        </ul>
        <p class="c8 c7"><span class="c0"></span></p>
        <a id="t.de27015bd097aa5c6644478875c28dfbba496531"></a><a id="t.0"></a>
        <table class="c38">
            <tbody>
                <tr class="c43">
                    <td class="c121" colspan="1" rowspan="1">
                        <p class="c40">
                            <span class="c113 c61 c63 c104 c108 c13"
                                >Part 1</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c78" colspan="1" rowspan="1">
                        <p class="c5">
                            <span class="c37">&#9989; Data types</span>
                        </p>
                    </td>
                </tr>
                <tr class="c86">
                    <td class="c78" colspan="1" rowspan="1">
                        <p class="c5">
                            <span class="c37">&#9989; DBMS Architecture</span>
                        </p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c78" colspan="1" rowspan="1">
                        <p class="c5">
                            <span class="c37">&#9989; Data Storage</span>
                        </p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c78" colspan="1" rowspan="1">
                        <p class="c5">
                            <span class="c37">&#9989; Access Structures</span>
                        </p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c97 c127" colspan="1" rowspan="1">
                        <p class="c5">
                            <span class="c37"
                                >&#9989; Multidimensional Access
                                Structures</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c96" colspan="1" rowspan="1">
                        <p class="c40">
                            <span class="c47 c13 c60 c108"
                                ><a
                                    class="c17"
                                    href="advanced-databases-part-ii.html"
                                    >Part 2</a
                                ></span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c99 c55" colspan="1" rowspan="1">
                        <p class="c5">
                            <span class="c61">&#9989;</span
                            ><span class="c18">&nbsp;Relational Algebra</span>
                        </p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c55 c99" colspan="1" rowspan="1">
                        <p class="c5">
                            <span class="c61">&#9989;</span
                            ><span class="c18"
                                >&nbsp;Problems and Complexity in
                                Databases</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c99 c55" colspan="1" rowspan="1">
                        <p class="c5">
                            <span class="c61">&#9989;</span
                            ><span class="c18"
                                >&nbsp;Conjunctive Queries - Containment and
                                Minimisation</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c99 c55" colspan="1" rowspan="1">
                        <p class="c5">
                            <span class="c61">&#9989;</span
                            ><span class="c18">&nbsp;Query Processing</span>
                        </p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c99 c55" colspan="1" rowspan="1">
                        <p class="c5">
                            <span class="c61">&#9989;</span
                            ><span class="c18">&nbsp;Data Integration</span>
                        </p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c55 c105" colspan="1" rowspan="1">
                        <p class="c5">
                            <span class="c61">&#9989;</span
                            ><span class="c18"
                                >&nbsp;Ontology Based Data Integration</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c123" colspan="1" rowspan="1">
                        <p class="c40">
                            <span class="c47 c79 c108 c13"
                                ><a
                                    class="c17"
                                    href="advanced-databases-part-iii.html"
                                    >Part 3</a
                                ></span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c86">
                    <td class="c48 c114" colspan="1" rowspan="1">
                        <p class="c5">
                            <span class="c61">&#9989;</span
                            ><span class="c26"
                                >&nbsp;Transactions and Concurrency</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c86">
                    <td class="c99 c48" colspan="1" rowspan="1">
                        <p class="c5">
                            <span class="c61">&#9989;</span
                            ><span class="c26"
                                >&nbsp;Advanced Transactions</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c86">
                    <td class="c105 c48" colspan="1" rowspan="1">
                        <p class="c5">
                            <span class="c61">&#9989;</span
                            ><span class="c26">&nbsp;Logging and Recovery</span>
                        </p>
                    </td>
                </tr>
                <tr class="c86">
                    <td class="c30" colspan="1" rowspan="1">
                        <p class="c5">
                            <span class="c61">&#9989;</span
                            ><span class="c60">&nbsp;</span
                            ><span class="c26">Parallel Databases</span>
                        </p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c30" colspan="1" rowspan="1">
                        <p class="c5">
                            <span class="c61">&#9989;</span
                            ><span class="c60">&nbsp;</span
                            ><span class="c26">Distributed Databases</span>
                        </p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c30" colspan="1" rowspan="1">
                        <p class="c5">
                            <span class="c61">&#9989;</span
                            ><span class="c60">&nbsp;</span
                            ><span class="c26">Data Warehousing</span>
                        </p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c30" colspan="1" rowspan="1">
                        <p class="c5">
                            <span class="c61">&#9989;</span
                            ><span class="c101">&nbsp;</span
                            ><span class="c26">Information Retrieval</span>
                        </p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c30" colspan="1" rowspan="1">
                        <p class="c5">
                            <span class="c61">&#9989;</span
                            ><span class="c60">&nbsp;</span
                            ><span class="c26">Non-Relational Databases</span>
                        </p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c30" colspan="1" rowspan="1">
                        <p class="c5">
                            <span class="c26"
                                >Stream Processing (not examined)</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c30" colspan="1" rowspan="1">
                        <p class="c5">
                            <span class="c26"
                                >Peer to Peer Systems (not examined)</span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h1 class="c88" id="h.cwzgkx62f4x0">
            <span class="c49">Data types</span>
        </h1>
        <ul class="c10 lst-kix_oqml5msst0i8-0 start">
            <li class="c4 li-bullet-0"><span class="c0">Data types:</span></li>
        </ul>
        <ul class="c10 lst-kix_oqml5msst0i8-1 start">
            <li class="c8 c15 li-bullet-0">
                <span>Numeric </span><span class="c1">(2)</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span>Character </span><span class="c1">(c)</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span>Temporal </span><span class="c1">(time)</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span>Spatial </span
                ><span class="c1">(space, geographical or games)</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span>Image </span><span class="c1">(picture)</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span>Text </span><span class="c1">(strings)</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span>Audio and video </span
                ><span class="c1">(multimedia)</span>
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_oqml5msst0i8-0">
            <li class="c4 li-bullet-0">
                <span class="c0">Operations on data:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_oqml5msst0i8-1 start">
            <li class="c8 c15 li-bullet-0">
                <span>Comparison </span><span class="c1">(1 == 2)</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span>Arithmetic </span><span class="c1">(1 + 2)</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span>Fuzzy searches </span
                ><span class="c1"
                    >(finding strings that match a pattern approximately)</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Retrieve all documents that contain a given word</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span>Find a picture that contains blue sky </span
                ><span class="c1">(classification)</span>
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_oqml5msst0i8-0">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >That&rsquo;s cool and all, but for other data types, some
                    operations get a bit weird.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >For example, can you add together two images?</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Can you multiply a video and a character?</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_oqml5msst0i8-0">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Does the order of items in a database have meaning or is it
                    just for convenience?</span
                >
            </li>
        </ul>
        <h2 class="c11" id="h.a1cj37neuaj5">
            <span class="c68 c63">Temporal data</span>
        </h2>
        <ul class="c10 lst-kix_kj982txrxbp0-0 start">
            <li class="c4 li-bullet-0">
                <span class="c13">Temporal data</span
                ><span class="c0">: data describing time</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >We can use it to answer questions such as:</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_kj982txrxbp0-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >What was the average price of product X during 1995?</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >In which month did we sell the most copies of video
                    Y?</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >What was the treatment history for patient Z?</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >In what year did Hirohiko Araki write Phantom Blood?</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span>At what date did I publish the </span
                ><span class="c29"
                    ><a
                        class="c17"
                        href="https://www.google.com/url?q=https://docs.google.com/document/d/1ocFeSk03XntGBcE-goyiCW5LqaMzRa9K5xkDpuHQ_24/edit&amp;sa=D&amp;source=editors&amp;ust=1623779904114000&amp;usg=AOvVaw1IB_plywRycBvU1vVkMk9U"
                        >Foundations of Computer Science notes</a
                    ></span
                ><span class="c0">?</span>
            </li>
        </ul>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_kj982txrxbp0-0">
            <li class="c4 li-bullet-0">
                <span class="c0">Characteristics of time:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_kj982txrxbp0-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Time structure</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_kj982txrxbp0-2 start">
            <li class="c8 c14 li-bullet-0"><span class="c0">Linear</span></li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0">Possible futures</span>
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0">Branching time</span>
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >Directed acyclic graph (order of events through time)</span
                >
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >Periodic / Cyclic (seasonal variations and sales)</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_kj982txrxbp0-1">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Boundedness of time</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_kj982txrxbp0-2 start">
            <li class="c8 c14 li-bullet-0">
                <span class="c0">Unbounded (no end and no start)</span>
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >Time origin exists (00:00 Jan 1970 for unix time)</span
                >
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >Bounded at both ends (Unix time will hit its limit for a
                    32-bit integer at 03:14:07 UTC on Tuesday, 19 January
                    2038)</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_kj982txrxbp0-0">
            <li class="c4 li-bullet-0">
                <span class="c13">Chronon</span
                ><span class="c0">: a fixed period in a timeline</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0">Types of time density:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_kj982txrxbp0-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c13">Discrete</span
                ><span class="c0"
                    >: A timeline is isomorphic to the integers, because the
                    integers have a total order.</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_kj982txrxbp0-2 start">
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >Between each pair of chronons is a finite number of other
                    chronons.</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_kj982txrxbp0-1">
            <li class="c8 c15 li-bullet-0">
                <span class="c13">Dense</span
                ><span class="c0"
                    >: A timeline is isomorphic to the rational numbers, because
                    the rational numbers have a partial order</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_kj982txrxbp0-2 start">
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >Between each pair of chronons is an infinite number of
                    other chronons</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_kj982txrxbp0-1">
            <li class="c8 c15 li-bullet-0">
                <span class="c13">Continuous</span
                ><span class="c0"
                    >: A timeline is isomorphic to the real numbers, because the
                    real numbers have a total order</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_kj982txrxbp0-2 start">
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >Between each pair of chronons is an infinite number of
                    other chronons</span
                >
            </li>
        </ul>
        <p class="c8 c64 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_kj982txrxbp0-0">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >If you&rsquo;re asking &ldquo;what&rsquo;s isomorphic
                    again?&rdquo; it means there is a total mapping from every
                    element of a timeline to every element of the integers /
                    rational numbers / real numbers.</span
                >
            </li>
            <li class="c4 li-bullet-0"><span class="c0">Huh?</span></li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Basically, timelines can be represented with all those
                    things. It&rsquo;s what unix time does.</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_kj982txrxbp0-0">
            <li class="c4 li-bullet-0">
                <span class="c0">Granularity is also important.</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0">Which event comes first:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_kj982txrxbp0-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Event A which occurs at 11am</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Event B which occurs at 3pm on the same day</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_kj982txrxbp0-0">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >It may seem obvious, but depending on the granularity (it
                    could be one day or one minute), it could be
                    different.</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_kj982txrxbp0-0">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >We can store time-based events, but which events should we
                    store?</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_kj982txrxbp0-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c13">The Valid Time </span
                ><span class="c0"
                    >of a fact - when the fact is true in reality</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c13">The Transaction Time </span
                ><span class="c0"
                    >of a fact - when the fact is current in the database, and
                    can be retrieved</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_kj982txrxbp0-0">
            <li class="c4 li-bullet-0">
                <span>If we store both of these, it is </span
                ><span class="c13">bitemporal</span><span class="c0">.</span>
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_kj982txrxbp0-0">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >There was going to be TSQL to describe time slices in
                    databases, but it&rsquo;s really old and was never truly
                    implemented.</span
                >
            </li>
            <li class="c4 li-bullet-0"><span class="c0">It includes:</span></li>
        </ul>
        <ul class="c10 lst-kix_kj982txrxbp0-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">A WHEN clause (see next slide)</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Retrieval of timestamps</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Retrieval of temporally ordered information</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Using the TIME-SLICE clause to specify a time domain</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Using the GROUP BY clause for modified aggregate
                    functions</span
                >
            </li>
        </ul>
        <h2 class="c11" id="h.1gc4eqd0ukyo">
            <span class="c63 c68">Spatial data</span>
        </h2>
        <ul class="c10 lst-kix_dri1vfj8r3wt-0 start">
            <li class="c4 li-bullet-0">
                <span class="c13">(Geo)Spatial data</span
                ><span class="c0"
                    >: information about a physical object that can be
                    represented by numerical values in a geographic coordinate
                    system.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0">Types of spatial data:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_dri1vfj8r3wt-1 start">
            <li class="c8 c15 li-bullet-0"><span class="c0">Points</span></li>
            <li class="c8 c15 li-bullet-0"><span class="c0">Regions</span></li>
        </ul>
        <ul class="c10 lst-kix_dri1vfj8r3wt-2 start">
            <li class="c8 c14 li-bullet-0"><span class="c0">Boxes</span></li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0">Quadrangles</span>
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0">Polynomial surfaces</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_dri1vfj8r3wt-1">
            <li class="c8 c15 li-bullet-0"><span class="c0">Vectors</span></li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_dri1vfj8r3wt-0">
            <li class="c4 li-bullet-0">
                <span class="c0">Operations on spatial data:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_dri1vfj8r3wt-1 start">
            <li class="c8 c15 li-bullet-0"><span class="c0">Length</span></li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Intersect</span>
            </li>
            <li class="c8 c15 li-bullet-0"><span class="c0">Contains</span></li>
            <li class="c8 c15 li-bullet-0"><span class="c0">Overlaps</span></li>
            <li class="c8 c15 li-bullet-0"><span class="c0">Centre</span></li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_dri1vfj8r3wt-0">
            <li class="c4 li-bullet-0">
                <span class="c0">Applications of spatial data:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_dri1vfj8r3wt-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Computer Aided Design (CAD)</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Computer generated graphics</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Geographic Information Systems (GIS)</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Properties of interest:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_dri1vfj8r3wt-2 start">
            <li class="c8 c14 li-bullet-0">
                <span class="c0">Connectivity</span>
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0">Adjacency</span>
            </li>
            <li class="c8 c14 li-bullet-0"><span class="c0">Order</span></li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0">Metric relations</span>
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_dri1vfj8r3wt-0">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Characteristics of systems dealing with space:</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_dri1vfj8r3wt-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Data objects may be highly complex</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Data volumes may be very large</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Data may be held in real time</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Performance is not easy to achieve</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Access is likely to be through specialised graphical
                    front-ends; operator skills are key</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Query processing will not be performed using SQL</span
                >
            </li>
        </ul>
        <h2 class="c11" id="h.swst35wfej6c">
            <span class="c68 c63">Multimedia data</span>
        </h2>
        <ul class="c10 lst-kix_48hvgnkgrpdi-0 start">
            <li class="c4 li-bullet-0">
                <span class="c13">Multimedia data</span
                ><span class="c0"
                    >: data that consist of various media types like text,
                    audio, video, and animation.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0">Types of multimedia data:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_48hvgnkgrpdi-1 start">
            <li class="c8 c15 li-bullet-0"><span class="c0">Textual</span></li>
        </ul>
        <ul class="c10 lst-kix_48hvgnkgrpdi-2 start">
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >Unstructured and needs index to be built either manually or
                    automatically by building an inverted list of significant
                    words</span
                >
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >Can be a markup language, giving structure</span
                >
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >Character Large Objects (CLOBs) are now commonly supported,
                    which can handle text documents as well as standard data and
                    supports text search and retrieval facilities</span
                >
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0">Useful to have queries like:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_48hvgnkgrpdi-3 start">
            <li class="c8 c16 li-bullet-0">
                <span class="c0"
                    >Find all legal documents with &lsquo;Jones&rsquo; as
                    client</span
                >
            </li>
            <li class="c8 c16 li-bullet-0">
                <span class="c0"
                    >Find all suspects with false teeth who have been
                    interviewed</span
                >
            </li>
            <li class="c8 c16 li-bullet-0">
                <span class="c0"
                    >Find all articles on &lsquo;databases&rsquo;</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_48hvgnkgrpdi-1">
            <li class="c8 c15 li-bullet-0"><span class="c0">Image</span></li>
        </ul>
        <ul class="c10 lst-kix_48hvgnkgrpdi-2 start">
            <li class="c8 c14 li-bullet-0">
                <span class="c0">Examples:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_48hvgnkgrpdi-3 start">
            <li class="c8 c16 li-bullet-0"><span class="c0">X-Rays</span></li>
            <li class="c8 c16 li-bullet-0"><span class="c0">Maps</span></li>
            <li class="c8 c16 li-bullet-0">
                <span class="c0">Photographs</span>
            </li>
            <li class="c8 c16 li-bullet-0">
                <span class="c29"
                    ><a
                        class="c17"
                        href="https://www.google.com/url?q=https://media-exp1.licdn.com/dms/image/C4E03AQFD4miqOKjwgQ/profile-displayphoto-shrink_200_200/0?e%3D1585785600%26v%3Dbeta%26t%3D6mpLMZc9GiiEjedstXzbaimq8tVqeFi3KuZeFLE9DSU&amp;sa=D&amp;source=editors&amp;ust=1623779904127000&amp;usg=AOvVaw06FPdOc94KUzdVFm0_R6hK"
                        >This old picture of Nick Gibbins on his LinkedIn</a
                    ></span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_48hvgnkgrpdi-2">
            <li class="c8 c14 li-bullet-0">
                <span class="c0">Classified by BLOBs</span>
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0">Need support for:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_48hvgnkgrpdi-3 start">
            <li class="c8 c16 li-bullet-0">
                <span class="c0">Image analysis and pattern recognition</span>
            </li>
            <li class="c8 c16 li-bullet-0">
                <span class="c0">Image structuring and understanding</span>
            </li>
            <li class="c8 c16 li-bullet-0">
                <span class="c0"
                    >Spatial reasoning and image information retrieval</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_48hvgnkgrpdi-1">
            <li class="c8 c15 li-bullet-0"><span class="c0">Audio</span></li>
        </ul>
        <ul class="c10 lst-kix_48hvgnkgrpdi-2 start">
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >Digitised sound stored in various formats</span
                >
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >Consumes lots of space so compression techniques are
                    used</span
                >
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >Can use MIDI, which is just a bunch of instructions for
                    synthesised instruments</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_48hvgnkgrpdi-1">
            <li class="c8 c15 li-bullet-0"><span class="c0">Video</span></li>
        </ul>
        <ul class="c10 lst-kix_48hvgnkgrpdi-2 start">
            <li class="c8 c14 li-bullet-0">
                <span class="c0">Most space hungry</span>
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0">Images stored as frames</span>
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >Each frame can consume over a megabyte, frames typically
                    packed at 24-30 fps</span
                >
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >To have audio too, interleaved file structures incorporate
                    times sequencing of audio / video playback e.g. Microsoft
                    AVI or Apple Quicktime</span
                >
            </li>
        </ul>
        <h1 class="c88" id="h.mjbylyfzlbu">
            <span class="c49">DBMS Architecture</span>
        </h1>
        <ul class="c10 lst-kix_vi3aoy95o2s4-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >What&rsquo;s inside a DBMS (how does it actually
                    work)?</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0">What&rsquo;s the interface to the DBMS?</span>
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_vi3aoy95o2s4-0">
            <li class="c4 li-bullet-0">
                <span class="c0">Database interfaces:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_vi3aoy95o2s4-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c28 c13">Data Definition Language (DDL)</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_vi3aoy95o2s4-2 start">
            <li class="c8 c14 li-bullet-0">
                <span class="c0">Creating tables, indices</span>
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0">Manipulating database schema</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_vi3aoy95o2s4-1">
            <li class="c8 c15 li-bullet-0">
                <span class="c28 c13">Data Manipulation Language (DML)</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_vi3aoy95o2s4-2 start">
            <li class="c8 c14 li-bullet-0"><span class="c0">Queries</span></li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0">Updating table contents</span>
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: -0px -0px;
                    border: 1.33px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 221.33px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image140.png"
                    style="
                        width: 602px;
                        height: 221.33px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c9">
            <span class="c74 c47 c63"
                >DBMS Interfaces (what is exposed to us)</span
            >
        </p>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 582.5px;
                    height: 297.92px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image47.png"
                    style="
                        width: 669.21px;
                        height: 297.92px;
                        margin-left: -86.71px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c9">
            <span class="c74 c47 c63">DBMS Components (how it all works)</span>
        </p>
        <p class="c8">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 115px;
                    height: 89.21px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image47.png"
                    style="
                        width: 1027px;
                        height: 458.37px;
                        margin-left: -133.07px;
                        margin-top: -270.71px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_jd9003ugtt3v-0 start">
            <li class="c4 li-bullet-0">
                <span class="c13">System Catalogue</span
                ><span class="c0"
                    >: contains metadata about stored data and schemas</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_jd9003ugtt3v-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Like a little database within a database</span>
            </li>
            <li class="c8 c15 li-bullet-0"><span class="c0">Stores:</span></li>
        </ul>
        <ul class="c10 lst-kix_jd9003ugtt3v-2 start">
            <li class="c8 c14 li-bullet-0">
                <span class="c0">Names and sizes of files</span>
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0">Storage details of files</span>
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0">Names and data types of data items</span>
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0">Mappings between schemas</span>
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0">Constraints</span>
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0">Statistical information</span>
            </li>
        </ul>
        <p class="c8 c24">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 114.8px;
                    height: 54.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image47.png"
                    style="
                        width: 1039.05px;
                        height: 464.03px;
                        margin-left: -134.63px;
                        margin-top: -80.97px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_jd9003ugtt3v-0">
            <li class="c4 li-bullet-0">
                <span class="c13">DDL Compiler</span
                ><span class="c0"
                    >: processes schema definitions and stores schema
                    descriptions in the system catalogue</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_jd9003ugtt3v-0">
            <li class="c4 li-bullet-0">
                <span class="c13">Query Compiler</span
                ><span
                    >: parses and validates queries, compiles queries to
                    internal form (query plan), passess compiled queries to </span
                ><span class="c70">query optimiser</span
                ><span class="c0">.</span
                ><span
                    style="
                        overflow: hidden;
                        display: inline-block;
                        margin: 0px 0px;
                        border: 0px solid #000000;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                        width: 114.8px;
                        height: 54.5px;
                    "
                    ><img
                        alt=""
                        src="assets/advanced-databases-part-i/image47.png"
                        style="
                            width: 1039.05px;
                            height: 464.03px;
                            margin-left: -462.13px;
                            margin-top: -78.99px;
                            transform: rotate(0rad) translateZ(0px);
                            -webkit-transform: rotate(0rad) translateZ(0px);
                        "
                        title=""
                /></span>
            </li>
        </ul>
        <p class="c8 c24">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 114.8px;
                    height: 54.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image47.png"
                    style="
                        width: 1039.05px;
                        height: 464.03px;
                        margin-left: -462.13px;
                        margin-top: -148.35px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_jd9003ugtt3v-0">
            <li class="c4 li-bullet-0">
                <span class="c13">Query Optimiser</span
                ><span class="c0"
                    >: Rearranges and reorders operations within query
                    plan</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_jd9003ugtt3v-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Eliminates redundancies (removes duplicate
                    operations)</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Identifies appropriate algorithms and indexes to implement
                    operations</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span>Consults </span><span class="c70">system catalogue </span
                ><span class="c0">for statistical and other information</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Generates executable code</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >For example, you can work with less data entries (and work
                    quicker) if you filter out data entries first and then join
                    rather than to join everything and then filter later; the
                    query optimiser is in charge of optimisations like
                    that.</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_jd9003ugtt3v-0">
            <li class="c4 li-bullet-0">
                <span class="c13">Precompiler</span
                ><span class="c0"
                    >: Extracts DML commands from application programs and sends
                    them to the DML compiler.</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_jd9003ugtt3v-0">
            <li class="c4 li-bullet-0">
                <span class="c13">DML Compiler</span
                ><span
                    >: Compiles DML into executable code that can be sent to the </span
                ><span class="c63 c70 c92">runtime processor</span>
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_jd9003ugtt3v-0">
            <li class="c4 li-bullet-0">
                <span class="c13">Runtime Database Processor</span
                ><span class="c0">: Executes privileged commands</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_jd9003ugtt3v-1 start">
            <li class="c8 c15 li-bullet-0">
                <span>Executes query plans from the </span
                ><span class="c92 c63 c70">query optimiser</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span>Accesses database through </span
                ><span class="c92 c63 c70">stored data manager</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Handles concurrency</span>
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_jd9003ugtt3v-0">
            <li class="c4 li-bullet-0">
                <span class="c13">Stored Data Manager</span
                ><span class="c0"
                    >: Controls access to information on disc, using basic
                    operating system services</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_jd9003ugtt3v-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Manages shared buffer pool (available main memory used for
                    transferring data to and from disc, like virtual memory and
                    paging)</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_jd9003ugtt3v-0">
            <li class="c4 li-bullet-0">
                <span class="c0">Other component modules:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_jd9003ugtt3v-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c13">Loading utility </span
                ><span class="c0">loads files into DB</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c13">Backup utility </span
                ><span class="c0"
                    >dumps DB to secondary storage (tape, typically)</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c13">Recovery utility </span
                ><span class="c0"
                    >deals with failure using backup information</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c13">File reorganisation utility </span
                ><span class="c0">improves performance</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c13">Performance monitoring </span
                ><span class="c0"
                    >provides statistics for DBA to decide whether to
                    reorganise</span
                >
            </li>
        </ul>
        <h1 class="c88" id="h.o0iziqgtuudw">
            <span class="c49">Data Storage</span>
        </h1>
        <h2 class="c11" id="h.idimmzps4s00">
            <span class="c68 c63">Storage Organisation</span>
        </h2>
        <ul class="c10 lst-kix_vg62j61ppetk-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0">Memory hierarchy:</span>
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 195.15px;
                    height: 256.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image105.png"
                    style="
                        width: 195.15px;
                        height: 256.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ol class="c10 lst-kix_xgpsj1yqaxsz-0 start" start="1">
            <li class="c4 li-bullet-0">
                <span class="c13">Cache</span
                ><span class="c0"
                    >: volatile, very fast, very expensive, limited
                    capacity</span
                >
            </li>
        </ol>
        <ul class="c10 lst-kix_f8tbtxla13x5-0 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Capacities and access times:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_f8tbtxla13x5-1 start">
            <li class="c8 c14 li-bullet-0">
                <span>Registers: 10</span><span class="c72">1</span
                ><span class="c0">&nbsp;bytes, 1 cycle</span>
            </li>
            <li class="c8 c14 li-bullet-0">
                <span>L1: 10</span><span class="c72">4</span
                ><span class="c0">&nbsp;bytes, &lt; 5 cycles</span>
            </li>
            <li class="c8 c14 li-bullet-0">
                <span>L2: 10</span><span class="c72">5</span
                ><span class="c0">&nbsp;bytes, 5 - 10 cycles</span>
            </li>
        </ul>
        <ol class="c10 lst-kix_xgpsj1yqaxsz-0" start="2">
            <li class="c4 li-bullet-0">
                <span class="c13">Main Memory</span
                ><span class="c0"
                    >: volatile, fast, affordable, medium capacity (RAM)</span
                >
            </li>
        </ol>
        <ul class="c10 lst-kix_y0w6pjvqigw9-0 start">
            <li class="c8 c15 li-bullet-0">
                <span>Capacity: 10</span><span class="c72">9</span
                ><span>&nbsp;- 10</span><span class="c72">10</span
                ><span class="c0">&nbsp;bytes</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span>Access time: 10</span><span class="c72">-8</span
                ><span>&nbsp;</span
                ><span class="c0">seconds (20 - 30 cycles)</span>
            </li>
        </ul>
        <ol class="c10 lst-kix_xgpsj1yqaxsz-0" start="3">
            <li class="c4 li-bullet-0">
                <span class="c13">Secondary Storage</span
                ><span class="c0"
                    >: non-volatile storage, slow, cheap, large capacity (HDD,
                    Solid state)</span
                >
            </li>
        </ol>
        <ul class="c10 lst-kix_uagv0qifd2xq-0 start">
            <li class="c8 c15 li-bullet-0">
                <span>Capacity: 10</span><span class="c72">11</span
                ><span>&nbsp;- 10</span><span class="c72">12</span
                ><span class="c0">&nbsp;bytes</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span>Access time: 10</span><span class="c72">-3</span
                ><span>&nbsp;seconds (10</span><span class="c72">6</span
                ><span class="c0">&nbsp;cycles)</span>
            </li>
        </ul>
        <ol class="c10 lst-kix_xgpsj1yqaxsz-0" start="4">
            <li class="c4 li-bullet-0">
                <span class="c13">Tertiary Storage</span
                ><span class="c0"
                    >: non-volatile, very slow, very cheap, very large capacity
                    (tape storage, backups)</span
                >
            </li>
        </ol>
        <ul class="c10 lst-kix_go0074vawcvk-0 start">
            <li class="c8 c15 li-bullet-0">
                <span>Capacity: 10</span><span class="c72">13</span
                ><span>&nbsp;- 10</span><span class="c72">17</span
                ><span class="c0">&nbsp;bytes</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span>Access time: 10</span><span class="c72">1</span
                ><span>&nbsp;- 10</span><span class="c72">2</span
                ><span class="c0">&nbsp;seconds</span>
            </li>
        </ul>
        <h2 class="c11" id="h.het651z8auqy">
            <span class="c68 c63">Secondary Storage</span>
        </h2>
        <ul class="c10 lst-kix_6bej9prumf0e-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Hard Disk Drive: typical secondary storage medium for
                    databases</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_6bej9prumf0e-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Platter: surface on both sides</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Spindle: in the middle of the disks that spins</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Surface: the side of a disk</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Head: the end of the arm that performs the read /
                    write</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Actuator: magnetic coil that flips the arm backwards and
                    forwards</span
                >
            </li>
        </ul>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_d7u0aji721fk-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0">Disk structure:</span>
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 239.5px;
                    height: 299.84px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image139.png"
                    style="
                        width: 325.86px;
                        height: 326.31px;
                        margin-left: -46.06px;
                        margin-top: -13.24px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_ku0hlykb6bpu-0 start">
            <li class="c4 li-bullet-0">
                <span class="c37 c97">A: track</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c18 c55">B: geometrical sector</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c65 c63 c87">C: track sector</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c26 c48">D: cluster</span>
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_ku0hlykb6bpu-0">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >A bit old fashioned; things have changed now.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Wouldn&rsquo;t we be able to store more on the outer track
                    sectors than the inner track sectors? They are longer, after
                    all.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span>So we use </span
                ><span class="c13">zone bit recording</span
                ><span class="c0"
                    >, which varies the number of sectors per track (depending
                    on track location) to improve overall storage density.</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 212.72px;
                    height: 209.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image71.png"
                    style="
                        width: 304.58px;
                        height: 304.58px;
                        margin-left: -45.66px;
                        margin-top: -47.27px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_pndg5x6k15hv-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0">Format of a sector:</span>
            </li>
        </ul>
        <a id="t.4d2002aab2f14268629024f74b88364a9c9d0be8"></a><a id="t.1"></a>
        <table class="c38">
            <tbody>
                <tr class="c43">
                    <td class="c119" colspan="1" rowspan="1">
                        <p class="c40"><span class="c0">gap</span></p>
                    </td>
                    <td class="c112" colspan="1" rowspan="1">
                        <p class="c40"><span class="c0">sync</span></p>
                    </td>
                    <td class="c115" colspan="1" rowspan="1">
                        <p class="c40"><span class="c0">mark</span></p>
                    </td>
                    <td class="c48 c118" colspan="1" rowspan="1">
                        <p class="c40"><span class="c26">data</span></p>
                    </td>
                    <td class="c71" colspan="1" rowspan="1">
                        <p class="c40">
                            <span class="c65 c63 c104 c110">ecc</span>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_u56v3nxf1do5-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0">Gap: separator between sectors</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0">Sync: indicates start of sector</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Address mark: indicates sector&rsquo;s number /
                    location</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >ECC: error correcting code (may be distributed)</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0">4k advanced format:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_u56v3nxf1do5-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">gap + sync + mark = 15 bytes</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">data = 4096 bytes</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">ecc = 100 bytes</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">2.7% overhead</span>
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_u56v3nxf1do5-0">
            <li class="c4 li-bullet-0">
                <span class="c0">Disk access time: reading</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_u56v3nxf1do5-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Access time = Seek time + Rotational Delay + Transfer
                    time</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >In a hard disk, you need to wait for the head to move to
                    the tracks and for the disk to rotate.</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Average seek time
                    range:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_u56v3nxf1do5-2 start">
            <li class="c8 c14 li-bullet-0">
                <span class="c0">4ms for high end drives</span>
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0">15ms for mobile devices</span>
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_u56v3nxf1do5-0">
            <li class="c4 li-bullet-0">
                <span class="c0">Rotational delay (latency)</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_u56v3nxf1do5-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Average delay = time for 0.5 rev</span>
            </li>
        </ul>
        <p class="c8 c7"><span class="c0"></span></p>
        <a id="t.15494ecfe64bb85fce0589cb4990ed44e1061aa7"></a><a id="t.2"></a>
        <table class="c38">
            <tbody>
                <tr class="c43">
                    <td class="c36 c51" colspan="1" rowspan="1">
                        <p class="c40">
                            <span class="c28 c13">Rotational speed (rpm)</span>
                        </p>
                    </td>
                    <td class="c36 c51" colspan="1" rowspan="1">
                        <p class="c40">
                            <span class="c28 c13">Average delay (ms)</span>
                        </p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c5"><span class="c0">4,200</span></p>
                    </td>
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c5"><span class="c0">7.14</span></p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c5"><span class="c0">5,400</span></p>
                    </td>
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c5"><span class="c0">5.56</span></p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c5"><span class="c0">7,200</span></p>
                    </td>
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c5"><span class="c0">4.17</span></p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c5"><span class="c0">10,000</span></p>
                    </td>
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c5"><span class="c0">3.00</span></p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c5"><span class="c0">15,000</span></p>
                    </td>
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c5"><span class="c0">2.00</span></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_pkwbqkvjlz1g-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Transfer time (block size / transfer rate)</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_pkwbqkvjlz1g-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">up to 1000 Mbit/sec</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">432 Mbit/sec 12x Blu-Ray disk</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">1.23 Mbits/sec 1x CD</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">SSDs are limited by interface</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_pkwbqkvjlz1g-2 start">
            <li class="c8 c14 li-bullet-0">
                <span class="c0">e.g., SATA 3000 Mbit/s</span>
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_pkwbqkvjlz1g-0">
            <li class="c4 li-bullet-0">
                <span class="c0">Sequential access</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_pkwbqkvjlz1g-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >How fast is it to read the &ldquo;next&rdquo; block?</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Access time = (block size / transfer rate) + negligible
                    costs</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >No seek time or rotational delay to worry about</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Negligible costs:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_pkwbqkvjlz1g-2 start">
            <li class="c8 c14 li-bullet-0">
                <span class="c0">Skip inter-block gap</span>
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0">Switch track (within same cylinder)</span>
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >Switch to adjacent cylinder occasionally)</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_pkwbqkvjlz1g-1">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Generally, sequential i/o is less expensive than random
                    i/o</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_pkwbqkvjlz1g-0">
            <li class="c4 li-bullet-0">
                <span class="c0">Disk access time: writing</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_pkwbqkvjlz1g-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Costs are similar to reading, unless we want to verify
                    data</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Access Time = Seek Time +<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rotational
                    Delay (1/2 rotation) +<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Transfer
                    Time (for writing) +
                    <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rotational
                    Delay (full rotation) +<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Transfer
                    Time (for verifying)</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_pkwbqkvjlz1g-0">
            <li class="c4 li-bullet-0">
                <span class="c0">Disk access time: modifying</span>
            </li>
        </ul>
        <ol class="c10 lst-kix_r67b8lzf02ar-0 start" start="1">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Read block</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Modify in memory</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Write block</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Verify block (optional)</span>
            </li>
        </ol>
        <ul class="c10 lst-kix_iio2jn1tg4kl-0 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Access Time = Seek Time +<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rotational
                    Delay (1/2 rotation) +<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Transfer
                    Time (for reading) +
                    <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rotational
                    Delay (full rotation) +<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Transfer
                    Time (for writing) +<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rotational
                    Delay (full rotation) +<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Transfer
                    Time (for
                    verifying)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    &nbsp; &nbsp;
                    <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]</span
                >
            </li>
        </ul>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_naap6qftt13o-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >How to refer the computer to a particular place on disk
                    (block addressing)?</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_naap6qftt13o-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Cylinder-head-sector</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_naap6qftt13o-2 start">
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >Physical location of data on disk, but ZBR can cause
                    problems</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_naap6qftt13o-1">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Logical Block Addressing</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_naap6qftt13o-2 start">
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >Blocks located by integer index, allows remapping of bad
                    blocks</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_naap6qftt13o-0">
            <li class="c4 li-bullet-0">
                <span class="c0">Block size selection</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_naap6qftt13o-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Size of blocks affects I/O efficiency</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c26 c48">Big blocks reduce costs of access</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c37 c97"
                    >Big blocks also increase amount of irrelevant data
                    read</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_naap6qftt13o-0">
            <li class="c4 li-bullet-0">
                <span class="c0">Solid State Drives</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_naap6qftt13o-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >No moving parts, so no waiting for disks to spin or heads
                    to move</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Uses NAND flash memory</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">More expensive than HDD (~8-9x)</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Typically smaller than HDD</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">I/O performance is higher</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Writes are slower than reads</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Limited number of program-erase cycles (~100,000)</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_naap6qftt13o-0">
            <li class="c4 li-bullet-0"><span class="c0">HDD vs SDD</span></li>
        </ul>
        <ul class="c10 lst-kix_naap6qftt13o-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Random I/O per second (IOPS) = 1 / (seek + latency +
                    transfer)</span
                >
            </li>
        </ul>
        <a id="t.e7a67cf873655aad639946cb06fbac5ae96b11ac"></a><a id="t.3"></a>
        <table class="c38">
            <tbody>
                <tr class="c43">
                    <td class="c21" colspan="1" rowspan="1">
                        <p class="c5 c7"><span class="c0"></span></p>
                    </td>
                    <td class="c21" colspan="1" rowspan="1">
                        <p class="c5"><span class="c28 c13">HDD</span></p>
                    </td>
                    <td class="c21" colspan="1" rowspan="1">
                        <p class="c5"><span class="c28 c13">SDD</span></p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c33" colspan="1" rowspan="1">
                        <p class="c5">
                            <span class="c0">Random Read IOPS</span>
                        </p>
                    </td>
                    <td class="c33" colspan="1" rowspan="1">
                        <p class="c5"><span class="c0">125-150 IOPS</span></p>
                    </td>
                    <td class="c33" colspan="1" rowspan="1">
                        <p class="c5"><span class="c0">~50,000 IOPS</span></p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c33" colspan="1" rowspan="1">
                        <p class="c5">
                            <span class="c0">Random Write IOPS</span>
                        </p>
                    </td>
                    <td class="c33" colspan="1" rowspan="1">
                        <p class="c5"><span class="c0">125-150 IOPS</span></p>
                    </td>
                    <td class="c33" colspan="1" rowspan="1">
                        <p class="c5"><span class="c0">~40,000 IOPS</span></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c8 c7"><span class="c0"></span></p>
        <h2 class="c11" id="h.9e6qcgg3ony">
            <span class="c68 c63">Buffer Management</span>
        </h2>
        <ul class="c10 lst-kix_kfq5xigxlomy-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >We need to be selective about what&rsquo;s kept in
                    memory.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0">We need to use a buffer pool!</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >The buffer pool is organised into frames (size of database
                    block, plus metadata)</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 237.33px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image99.png"
                    style="
                        width: 602px;
                        height: 237.33px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c9 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_t9729eyuz7cq-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0">Buffer metadata</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_t9729eyuz7cq-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Each frame in the buffer pool has these properties:</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_t9729eyuz7cq-2 start">
            <li class="c8 c14 li-bullet-0">
                <span class="c13">Pin count </span
                ><span class="c0"
                    >- number of current users of the block in that frame</span
                >
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c13">Dirty flag </span
                ><span class="c0"
                    >- 1 if the copy in the buffer has been changed (and needs
                    to be properly written to the disk), 0 otherwise</span
                >
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c13">Access time </span
                ><span class="c0">- optional; used for LRU replacement</span>
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c13">Loading time </span
                ><span class="c0">- optional; used for FIFO replacement</span>
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c13">Clock flag </span
                ><span class="c0">- optional; used for clock replacement</span>
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_t9729eyuz7cq-0">
            <li class="c4 li-bullet-0">
                <span class="c0">Requesting a block (pseudocode)</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_t9729eyuz7cq-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c13">if </span
                ><span
                    >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer pool
                    already has a frame containing the block<br /></span
                ><span class="c13">then </span
                ><span
                    >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;increment
                    pin count (&ldquo;pin the block&rdquo;)<br /></span
                ><span class="c13">else</span
                ><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
                ><span class="c13">if </span
                ><span
                    >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;there is an
                    empty frame<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
                ><span class="c13">then </span
                ><span
                    >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;read block
                    into frame and set pin count to 1<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
                ><span class="c13">else </span
                ><span
                    >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;choose a
                    frame to be replaced<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
                ><span class="c13">if</span
                ><span
                    >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dirty bit
                    on the replacement frame is set<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
                ><span class="c13">then</span
                ><span
                    >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write block
                    in replacement frame to disk<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
                ><span class="c13">endif</span
                ><span
                    ><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;read
                    requested block into replacement frame<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
                ><span class="c13">endif</span><span><br /></span
                ><span class="c28 c13">endif</span>
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_t9729eyuz7cq-0">
            <li class="c4 li-bullet-0">
                <span class="c0">Buffer replacement strategies</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_t9729eyuz7cq-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Let&rsquo;s say you wanted to store a block in the
                    buffer.</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">But the buffer is full!</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >We need to replace one of the existing frames with our new
                    frame.</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >We can replace a frame if its pin count is 0 (basically, if
                    nobody is using it).</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >But if we have multiple frames with pin counts of 0, which
                    do we pick?</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">We have several strategies for this:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_t9729eyuz7cq-2 start">
            <li class="c8 c14 li-bullet-0">
                <span class="c13">LRU</span
                ><span
                    >: select frame that has not been read or written for the
                    longest time </span
                ><span class="c1"
                    >(you would need a table storing read and write times for
                    frames)</span
                >
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c13">FIFO</span
                ><span>: select the oldest frame </span
                ><span class="c1"
                    >(you would need a table storing the time at which frames
                    were stored)</span
                >
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c13">Clock (Second Chance)</span><span>: </span
                ><span class="c89"
                    ><a
                        class="c17"
                        href="https://www.google.com/url?q=https://kingdomhearts.fandom.com/wiki/Second_Chance&amp;sa=D&amp;source=editors&amp;ust=1623779904171000&amp;usg=AOvVaw1xNHxG7ePx0_PzUKG-YBhE"
                        >allows you to survive a fatal blow with 1 HP</a
                    ></span
                ><span class="c0"
                    >&nbsp;approximation of LRU. The DBMS scrolls through all
                    the frames in a cycle, and if it finds a frame that
                    hasn&rsquo;t been accessed in a full cycle it&rsquo;ll
                    replace it.</span
                >
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0">What? You wanna go into more detail?</span>
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >No problem! (If you don&rsquo;t care, feel free to
                    skip)</span
                >
            </li>
        </ul>
        <p class="c8 c7 c107"><span class="c0"></span></p>
        <ul class="c10 lst-kix_filjbuh4xr0w-0 start">
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >Imagine all the frames in a circle with an arrow from the
                    centre pointing towards them.</span
                >
            </li>
            <li class="c8 c14 li-bullet-0">
                <span>All the frames have a flag of &lsquo;0&rsquo; (</span
                ><span class="c55 c60">cold</span
                ><span>) or &lsquo;1&rsquo; (</span><span class="c42">hot</span
                ><span>). They all start at </span><span class="c55 c60">0</span
                ><span class="c0">.</span>
            </li>
            <li class="c8 c14 li-bullet-0">
                <span
                    >If a frame is being read or written to, the flag will
                    become &lsquo;</span
                ><span class="c42">1</span><span>&rsquo; </span
                ><span class="c56"
                    >(note: the head doesn&rsquo;t have to be </span
                ><span class="c56 c13">on </span
                ><span class="c56"
                    >a frame to update its flag. The flag will just update
                    whenever the frame is read/written)</span
                ><span class="c0">.</span>
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >The arrow won&rsquo;t move until we need to search for a
                    replacement frame.</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 277.5px;
                    height: 279.55px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image92.png"
                    style="
                        width: 277.5px;
                        height: 279.55px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_5vfh5259tlih-0 start">
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >Cool, so some frames have been acted upon and some
                    haven&rsquo;t.</span
                >
            </li>
            <li class="c8 c14 li-bullet-0">
                <span
                    >When we need to replace a frame, the arrow will move
                    clockwise looking for a </span
                ><span class="c55 c60">0</span
                ><span class="c0">-flag frame.</span>
            </li>
            <li class="c8 c14 li-bullet-0">
                <span>If the arrow finds a </span><span class="c42">1</span
                ><span>-flag frame, it&rsquo;ll change it to a </span
                ><span class="c55 c60">0</span><span>&nbsp;and continue.</span>
            </li>
            <li class="c8 c14 li-bullet-0">
                <span>If the arrow finds a </span><span class="c55 c60">0</span
                ><span class="c0"
                    >-flag frame, it&rsquo;ll use that frame for
                    replacement.</span
                >
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0">That&rsquo;s it!</span>
            </li>
            <li class="c8 c14 li-bullet-0">
                <span>If </span><span class="c13">all </span
                ><span class="c0"
                    >the frames are 1, that&rsquo;s no problem; we&rsquo;ll just
                    do a whole cycle of changing all the frames to 0, and then
                    we&rsquo;ll end up replacing the frame we started
                    with.</span
                >
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >This reduces the need for a whole table (like in LRU) using
                    simple 1-bit flags for each frame.</span
                >
            </li>
        </ul>
        <p class="c8 c7 c107"><span class="c0"></span></p>
        <ul class="c10 lst-kix_t9729eyuz7cq-0">
            <li class="c4 li-bullet-0">
                <span class="c13">Single buffering</span
                ><span class="c0">: only using a single buffer space</span>
            </li>
        </ul>
        <ol class="c10 lst-kix_tm1msx8vioue-0 start" start="1">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Read B1 &rarr; Buffer</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Process data in buffer</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Read B2 &rarr; Buffer</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Process data in buffer</span>
            </li>
        </ol>
        <ul class="c10 lst-kix_ldpsj1m87xyo-0 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">... and so on.</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_t9729eyuz7cq-0">
            <li class="c4 li-bullet-0">
                <span class="c13">Double buffering</span
                ><span class="c0">: using two buffer spaces</span>
            </li>
        </ul>
        <ol class="c10 lst-kix_f2pd4z8kxk4g-0 start" start="1">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Read B1 &rarr; Buffer 1</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Process data in buffer 1 &amp;&amp; Read B2 &rarr; Buffer
                    2</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Process data in buffer 2 &amp;&amp; Read B3 &rarr; Buffer
                    1</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Process data in buffer 1 &amp;&amp; Read B4 &rarr; Buffer
                    2</span
                >
            </li>
        </ol>
        <ul class="c10 lst-kix_1w1l9crbcnxs-0 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">... and so on.</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_2084dbv078xy-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >If time to process a block &gt; time to read a block:</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_2084dbv078xy-1 start">
            <li class="c8 c15 li-bullet-0">
                <span>Double buffer time = </span><span class="c0">R + nP</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span>Single buffer time = </span
                ><span class="c0">n(R + P)</span>
            </li>
            <li class="c8 c15 li-bullet-0"><span class="c0">Where</span></li>
        </ul>
        <ul class="c10 lst-kix_2084dbv078xy-2 start">
            <li class="c8 c14 li-bullet-0">
                <span class="c0">P = time to process a block</span>
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0">R = time to read a block</span>
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0">n = number of blocks</span>
            </li>
        </ul>
        <p class="c8 c64 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_t9729eyuz7cq-0">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >A good way to explain it is as follows (which is actually
                    from wikipedia):</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_t9729eyuz7cq-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >It is a nice sunny day and you have decided to get the
                    paddling pool out, only you can not find your garden
                    hose.</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >You&#39;ll have to fill the pool with buckets.</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >So you fill one bucket (or buffer) from the tap, turn the
                    tap off, walk over to the pool, pour the water in, walk back
                    to the tap to repeat the exercise.</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">This is analogous to single buffering.</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >The tap has to be turned off while you &quot;process&quot;
                    the bucket of water.</span
                >
            </li>
        </ul>
        <p class="c8 c7 c64"><span class="c0"></span></p>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 222.5px;
                    height: 167.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image116.png"
                    style="
                        width: 222.5px;
                        height: 167.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title="" /></span
            ><span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 71.84px;
                    height: 72.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image128.png"
                    style="
                        width: 71.84px;
                        height: 72.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title="" /></span
            ><span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 163.79px;
                    height: 118.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image126.png"
                    style="
                        width: 163.79px;
                        height: 118.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_t9729eyuz7cq-1">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Now consider how you would do it if you had two
                    buckets.</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >You would fill the first bucket and then swap the second in
                    under the running tap.</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >You then have the length of time it takes for the second
                    bucket to fill in order to empty the first into the paddling
                    pool.</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >When you return you can simply swap the buckets so that the
                    first is now filling again, during which time you can empty
                    the second into the pool.</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >This can be repeated until the pool is full.</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >It is clear to see that this technique will fill the pool
                    far faster as there is much less time spent waiting, doing
                    nothing, while buckets fill.</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">This is analogous to double buffering.</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >The tap can be on all the time and does not have to wait
                    while the processing is done.</span
                >
            </li>
        </ul>
        <h2 class="c11" id="h.8tmg68va6t21">
            <span class="c68 c63">The Five Minute Rule</span>
        </h2>
        <ul class="c10 lst-kix_mra24w5855wh-0 start">
            <li class="c4 li-bullet-0">
                <span class="c13">The Five Minute Rule</span><span>: </span
                ><span class="c93"
                    >you can eat food off the floor as long as you pick it up
                    within five minutes</span
                ><span class="c0"
                    >&nbsp;Data referenced every five minutes should be memory
                    resident</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Basically, if you&rsquo;re fetching a piece of data at
                    least every 5 minutes, you should keep that within memory so
                    you don&rsquo;t have to waste time fetching it.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >It&rsquo;s a rule of thumb; it&rsquo;s not set in
                    stone.</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_mra24w5855wh-0">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >There&rsquo;s a few calculations that were performed to get
                    to this:</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_mra24w5855wh-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Assume a block is accessed every X seconds.</span
                >
            </li>
        </ul>
        <p class="c9">
            <img src="assets/advanced-databases-part-i/image1.png" />
        </p>
        <ul class="c10 lst-kix_mra24w5855wh-1">
            <li class="c8 c15 li-bullet-0">
                <span>CD</span
                ><span class="c0">: cost if we keep that block on disk</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span>$D</span><span class="c0">: cost of disk unit</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span>I</span
                ><span class="c0"
                    >: number of IOs that unit can perform per second</span
                >
            </li>
        </ul>
        <p class="c9">
            <img src="assets/advanced-databases-part-i/image2.png" />
        </p>
        <ul class="c10 lst-kix_mra24w5855wh-1">
            <li class="c8 c15 li-bullet-0">
                <span>CM</span
                ><span class="c0">: cost if we keep that block in RAM</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span>$M</span><span class="c0">: cost of 1MB of RAM</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span>P</span
                ><span class="c0">: number of pages in 1MB RAM</span>
            </li>
        </ul>
        <p class="c8 c64 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_mra24w5855wh-0">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >If CD is smaller than CM, keep the block on disk.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >If CM is smaller than CD, keep the block in memory.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span
                    >We can calculate the break even interval in seconds
                    (basically, X) by setting </span
                ><span>CD = CM</span
                ><span class="c0">, and rearranging for X:</span>
            </li>
        </ul>
        <p class="c9">
            <img src="assets/advanced-databases-part-i/image3.png" />
        </p>
        <ul class="c10 lst-kix_ksbgxva4sjlb-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Back in 1985, they calculated X to be 5 minutes for a 9GB
                    HDD + controller, hence the five minute rule.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0">In 2007, they recalculated X for:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_ksbgxva4sjlb-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">250GB SATA HDD (X = ~1.5 hours)</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">32GB SSD (X = 15 minutes)</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_ksbgxva4sjlb-0">
            <li class="c4 li-bullet-0">
                <span class="c0">... and again in 2016:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_ksbgxva4sjlb-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">240GB SSD (X = 13.5 minutes)</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_ksbgxva4sjlb-0">
            <li class="c4 li-bullet-0">
                <span
                    >So now I suppose it&rsquo;s more like the
                    13.5-minute-if-you&rsquo;re-using-an-SSD-and-1.5-hour-if-you&rsquo;re-using-a-HDD
                    rule.</span
                >
            </li>
        </ul>
        <h2 class="c11" id="h.8tmg68va6t21-1">
            <span class="c68 c63">Disk Organisation</span>
        </h2>
        <h3 class="c34" id="h.3s5b3gbb24m9">
            <span class="c6">Data Items</span>
        </h3>
        <ul class="c10 lst-kix_5s6y3jhumx81-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0">How do we store different types of data?</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c13">Numbers</span><span class="c0">:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_5s6y3jhumx81-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Integer (short): we just store the binary equivalent</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span
                    >Real numbers: we use the IEEE 754 format (typically), with
                    1 bit sign, n bits mantissa and m bits exponent (</span
                ><span class="c42">mantissa</span><span>&nbsp;and </span
                ><span class="c55 c60">exponent</span
                ><span>&nbsp;are like </span><span class="c42">a</span
                ><span>&nbsp;x 10</span><span class="c55 c72 c60">b</span
                ><span>)</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_5s6y3jhumx81-0">
            <li class="c4 li-bullet-0">
                <span class="c13">Characters</span
                ><span class="c0"
                    >: we use coding schemes such as ASCII and UTF-8</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c13">Booleans</span
                ><span class="c0"
                    >: we use 1 byte per value, e.g. all 1&rsquo;s for true and
                    all 0&rsquo;s for false</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c13">Dates</span><span class="c0">:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_5s6y3jhumx81-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Days since a given date (integer) from:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_5s6y3jhumx81-2 start">
            <li class="c8 c14 li-bullet-0">
                <span class="c0">1st Jan 1900</span>
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0">1st Jan 1970 (UNIX epoch)</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_5s6y3jhumx81-1">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">ISO8601 dates:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_5s6y3jhumx81-2 start">
            <li class="c8 c14 li-bullet-0">
                <span class="c0">Calendar dates: YYYYMMDD (8 characters)</span>
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0">Ordinal dates: YYYYDDD (7 characters)</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_5s6y3jhumx81-0">
            <li class="c4 li-bullet-0">
                <span class="c13">Times</span><span class="c0">:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_5s6y3jhumx81-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Seconds since midnight (integer)</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">ISO8601 times:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_5s6y3jhumx81-2 start">
            <li class="c8 c14 li-bullet-0">
                <span class="c0">HHMMSS (6 characters)</span>
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >HHMMSSFF (8 characters, to represent fractional
                    seconds)</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_5s6y3jhumx81-0">
            <li class="c4 li-bullet-0">
                <span class="c13">Strings</span><span class="c0">:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_5s6y3jhumx81-1 start">
            <li class="c8 c15 li-bullet-0">
                <span
                    >Null terminated (like in
                    C)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
                ><span>[</span><span class="c27">E</span><span>] [</span
                ><span class="c27">C</span><span>] [</span
                ><span class="c27">S</span><span>] [</span
                ><span class="c42">\0</span><span class="c0">] [...</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span
                    >Length
                    given&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
                ><span>[</span><span class="c55 c60">3</span><span>] [</span
                ><span class="c27">E</span><span>] [</span
                ><span class="c27">C</span><span>] [</span
                ><span class="c27">S</span><span class="c0">] [...</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span
                    >Fixed
                    length&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
                ><span>[</span><span class="c27">E</span><span>] [</span
                ><span class="c27">C</span><span>] [</span
                ><span class="c27">S</span><span class="c0">]</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_5s6y3jhumx81-0">
            <li class="c4 li-bullet-0">
                <span class="c13">Bit arrays</span
                ><span class="c0"
                    >: Put the length first, then the bits (like length given
                    for strings, but for bits instead)</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_5s6y3jhumx81-0">
            <li class="c4 li-bullet-0">
                <span
                    >Data items are either fixed or variable length, and may
                    include what type of data it is so we know how to interpret
                    them and what size they are (if they&rsquo;re fixed)</span
                >
            </li>
        </ul>
        <h3 class="c34" id="h.3s5b3gbb24m9-2">
            <span class="c6">Records</span>
        </h3>
        <ul class="c10 lst-kix_yo9dvxkgev8e-0 start">
            <li class="c4 li-bullet-0">
                <span class="c13">Records </span
                ><span>are collections of related data items, named </span
                ><span class="c13">fields</span><span class="c0">.</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >For example, a user record with a username field, a
                    password field and an email address field.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >They can have fixed or variable formats and lengths.</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_yo9dvxkgev8e-0">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >For fixed format records, we have a schema that describes
                    the format of the schema.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0">They describe:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_yo9dvxkgev8e-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Number of fields</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Types of fields</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Order in record</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Meaning of each field</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_yo9dvxkgev8e-0">
            <li class="c4 li-bullet-0"><span class="c0">Example:</span></li>
        </ul>
        <ul class="c10 lst-kix_yo9dvxkgev8e-1 start">
            <li class="c8 c15 li-bullet-0"><span class="c0">Schema:</span></li>
        </ul>
        <ol class="c10 lst-kix_g51gmrh223wt-0 start" start="1">
            <li class="c8 c15 li-bullet-0">
                <span class="c37 c97">e#, 2 byte integer</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c18 c55">name, 10 byte char</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c26 c48">dept, 2 byte code</span>
            </li>
        </ol>
        <p class="c8 c7"><span class="c26 c48"></span></p>
        <ul class="c10 lst-kix_di4hiay1a93m-0 start">
            <li class="c8 c15 li-bullet-0"><span>Records:</span></li>
        </ul>
        <a id="t.a03af8fe80bfbfb34f8c42d41773feec0275a9ab"></a><a id="t.4"></a>
        <table class="c38">
            <tbody>
                <tr class="c43">
                    <td class="c102 c97" colspan="1" rowspan="1">
                        <p class="c5"><span class="c37">5</span></p>
                    </td>
                    <td class="c76" colspan="1" rowspan="1">
                        <p class="c5"><span class="c37">5</span></p>
                    </td>
                    <td class="c83 c55" colspan="1" rowspan="1">
                        <p class="c5"><span class="c18">s</span></p>
                    </td>
                    <td class="c39" colspan="1" rowspan="1">
                        <p class="c5"><span class="c18">m</span></p>
                    </td>
                    <td class="c39" colspan="1" rowspan="1">
                        <p class="c5"><span class="c18">i</span></p>
                    </td>
                    <td class="c39" colspan="1" rowspan="1">
                        <p class="c5"><span class="c18">t</span></p>
                    </td>
                    <td class="c39" colspan="1" rowspan="1">
                        <p class="c5"><span class="c18">h</span></p>
                    </td>
                    <td class="c39" colspan="1" rowspan="1">
                        <p class="c5 c7"><span class="c18"></span></p>
                    </td>
                    <td class="c39" colspan="1" rowspan="1">
                        <p class="c5 c7"><span class="c18"></span></p>
                    </td>
                    <td class="c39" colspan="1" rowspan="1">
                        <p class="c5 c7"><span class="c18"></span></p>
                    </td>
                    <td class="c39" colspan="1" rowspan="1">
                        <p class="c5 c7"><span class="c18"></span></p>
                    </td>
                    <td class="c116 c55" colspan="1" rowspan="1">
                        <p class="c5 c7"><span class="c18"></span></p>
                    </td>
                    <td class="c83 c48" colspan="1" rowspan="1">
                        <p class="c5"><span class="c26">0</span></p>
                    </td>
                    <td class="c102 c48" colspan="1" rowspan="1">
                        <p class="c5"><span class="c26">2</span></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c8 c7"><span class="c0"></span></p>
        <a id="t.118d8537c73e99a10b50c90da7f3d762d3ab9484"></a><a id="t.5"></a>
        <table class="c38">
            <tbody>
                <tr class="c43">
                    <td class="c102 c97" colspan="1" rowspan="1">
                        <p class="c5"><span class="c37">8</span></p>
                    </td>
                    <td class="c76" colspan="1" rowspan="1">
                        <p class="c5"><span class="c37">3</span></p>
                    </td>
                    <td class="c83 c55" colspan="1" rowspan="1">
                        <p class="c5"><span class="c18">j</span></p>
                    </td>
                    <td class="c39" colspan="1" rowspan="1">
                        <p class="c5"><span class="c18">o</span></p>
                    </td>
                    <td class="c39" colspan="1" rowspan="1">
                        <p class="c5"><span class="c18">n</span></p>
                    </td>
                    <td class="c39" colspan="1" rowspan="1">
                        <p class="c5"><span class="c18">e</span></p>
                    </td>
                    <td class="c39" colspan="1" rowspan="1">
                        <p class="c5"><span class="c18">s</span></p>
                    </td>
                    <td class="c39" colspan="1" rowspan="1">
                        <p class="c5 c7"><span class="c18"></span></p>
                    </td>
                    <td class="c39" colspan="1" rowspan="1">
                        <p class="c5 c7"><span class="c18"></span></p>
                    </td>
                    <td class="c39" colspan="1" rowspan="1">
                        <p class="c5 c7"><span class="c18"></span></p>
                    </td>
                    <td class="c39" colspan="1" rowspan="1">
                        <p class="c5 c7"><span class="c18"></span></p>
                    </td>
                    <td class="c55 c116" colspan="1" rowspan="1">
                        <p class="c5 c7"><span class="c18"></span></p>
                    </td>
                    <td class="c48 c83" colspan="1" rowspan="1">
                        <p class="c5"><span class="c26">0</span></p>
                    </td>
                    <td class="c48 c102" colspan="1" rowspan="1">
                        <p class="c5"><span class="c26">1</span></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_w07kfb19zmq2-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >For variable format records, we can have a schema-less
                    format.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0">What does that mean?</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >It means the record itself contains the format; it is
                    &ldquo;self-describing&rdquo;.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Used for sparse records, repeating fields, evolving
                    formats.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >However it may waste space compared to fixed format
                    records.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >The best example would be a JSON document:</span
                >
            </li>
        </ul>
        <a id="t.2b8875f278bbb5f4e1bd0f4a7c491e5dc664fe1f"></a><a id="t.6"></a>
        <table class="c38">
            <tbody>
                <tr class="c43">
                    <td class="c50" colspan="1" rowspan="1">
                        <p class="c80">
                            <span class="c22"
                                >{<br />
                                &nbsp;{<br />
                                &nbsp; &nbsp;name: </span
                            ><span class="c67"
                                >&quot;Jonathan Joestar&quot;</span
                            ><span class="c22"
                                >,<br />
                                &nbsp; &nbsp;power: </span
                            ><span class="c67">&quot;hamon&quot;</span
                            ><span class="c22"
                                >,<br />
                                &nbsp; &nbsp;enemy: </span
                            ><span class="c67">&quot;Dio Brando&quot;</span
                            ><span class="c22"
                                ><br />
                                &nbsp;},<br />
                                &nbsp;{<br />
                                &nbsp; &nbsp;name: </span
                            ><span class="c67">&quot;Johnny Joestar&quot;</span
                            ><span class="c22"
                                >,<br />
                                &nbsp; &nbsp;power: </span
                            ><span class="c67">&quot;stand&quot;</span
                            ><span class="c22"
                                >,<br />
                                &nbsp; &nbsp;stand_name: </span
                            ><span class="c67">&quot;Tusk&quot;</span
                            ><span class="c22"
                                ><br />
                                &nbsp;}<br />}</span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_50mowa1ac040-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Records also have headers, which is data at the beginning
                    of a record that describes:</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_50mowa1ac040-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Record type (points to schema)</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Record length</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Timestamp</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_50mowa1ac040-0">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Intermediate between fixed and variable format</span
                >
            </li>
        </ul>
        <h3 class="c34" id="h.3ot26bueoqb4"><span class="c6">Blocks</span></h3>
        <ul class="c10 lst-kix_s2d7dtbp4xq0-0 start">
            <li class="c4 li-bullet-0">
                <span>What are blocks? </span
                ><span class="c29"
                    ><a
                        class="c17"
                        href="https://www.google.com/url?q=https://minecraft.gamepedia.com/Block&amp;sa=D&amp;source=editors&amp;ust=1623779904204000&amp;usg=AOvVaw0XXa45bgh2WRpvatw83xjy"
                        >Can you place them</a
                    ></span
                ><span class="c0">?</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >They&rsquo;re like folders; you place records inside
                    them.</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 496.5px;
                    height: 321.81px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image114.png"
                    style="
                        width: 496.5px;
                        height: 321.81px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_k292hscni5a9-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0">The block header may contain:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_k292hscni5a9-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">File ID (or RELATION or DB ID)</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">This block ID</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Record directory</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Pointer to free space</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Type of block (e.g. contains recs type 4; is overflow,
                    &hellip;)</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Pointer to other blocks &ldquo;like it&rdquo;</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Timestamp</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_k292hscni5a9-0">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >There are different things to consider when placing records
                    into blocks:</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_k292hscni5a9-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c13">Separating records in a block</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_k292hscni5a9-2 start">
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >How do you know when a record ends and when another
                    begins?</span
                >
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0">There are three approaches:</span>
            </li>
        </ul>
        <ol class="c10 lst-kix_3fvdi5gqjuyg-0 start" start="1">
            <li class="c8 c16 li-bullet-0">
                <span>Use fixed length records - no need to separate </span
                ><span class="c1"
                    >(if a record is size 10 bytes and you read through 10
                    bytes, you know the next record will follow)</span
                >
            </li>
            <li class="c8 c16 li-bullet-0">
                <span>Use a special marker to indicate record end </span
                ><span class="c1"
                    >(like a null terminating character but for records)</span
                >
            </li>
            <li class="c8 c16 li-bullet-0">
                <span class="c0">Give record lengths (or offsets)</span>
            </li>
        </ol>
        <ul class="c10 lst-kix_3lwwl4ngokhp-0 start">
            <li class="c8 c41 li-bullet-0">
                <span>Within each record </span
                ><span class="c1"
                    >(like length given strings but for records)</span
                >
            </li>
            <li class="c8 c41 li-bullet-0">
                <span>In block header </span
                ><span class="c1"
                    >(however can make the block and its contents more highly
                    coupled)</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_k292hscni5a9-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c28 c13">Spanned vs unspanned</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_k292hscni5a9-2 start">
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >What happens when our record size is bigger than our block
                    size?</span
                >
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >We can&rsquo;t squeeze a record into a block!</span
                >
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0">What do we do? We split it up!</span>
            </li>
            <li class="c8 c14 li-bullet-0">
                <span>Split up records are </span
                ><span class="c13">spanned</span><span class="c0">.</span>
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >However, we need pointers between partitions of the spanned
                    records so we can follow a &ldquo;path&rdquo; and read the
                    whole record.</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 530px;
                    height: 58px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image59.png"
                    style="
                        width: 530px;
                        height: 58px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_y3ys2zfsn2wz-0 start">
            <li class="c8 c14 li-bullet-0">
                <span>Records that are not split up are </span
                ><span class="c13">unspanned</span><span class="c0">.</span>
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >They&rsquo;re simpler, but they may waste space.</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 526px;
                    height: 53px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image135.png"
                    style="
                        width: 526px;
                        height: 53px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_k292hscni5a9-1">
            <li class="c8 c15 li-bullet-0">
                <span class="c28 c13">Sequencing</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_k292hscni5a9-2 start">
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >Ordering records in file (and block) by some key
                    value</span
                >
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >By sequencing we can make ordered reads more efficient and
                    do merge-joins</span
                >
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >You can either physically have records next to each
                    other:</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 247px;
                    height: 45px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image67.png"
                    style="
                        width: 247px;
                        height: 45px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_5ugvd6ro69x-0 start">
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >... or you can have linked records, like a linked
                    list:</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 405px;
                    height: 73px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image25.png"
                    style="
                        width: 405px;
                        height: 73px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_hhbmbkiv8j42-0 start">
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >You can also put a pointer to the overflow area in the
                    header (especially useful for spanned records):</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 396px;
                    height: 205.3px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image118.png"
                    style="
                        width: 396px;
                        height: 205.3px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_k292hscni5a9-1">
            <li class="c8 c15 li-bullet-0">
                <span class="c28 c13">Indirection</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_k292hscni5a9-2 start">
            <li class="c8 c14 li-bullet-0">
                <span class="c0">How do we actually refer to the records?</span>
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0">There&rsquo;s different options:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_k292hscni5a9-3 start">
            <li class="c8 c16 li-bullet-0">
                <span class="c13">Physical addressing</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_k292hscni5a9-4 start">
            <li class="c8 c41 li-bullet-0">
                <span class="c0"
                    >Just remember the physical location of the record and use
                    that to locate the record when you need it</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 436.5px;
                    height: 137.02px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image18.png"
                    style="
                        width: 436.5px;
                        height: 137.02px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_k292hscni5a9-3">
            <li class="c8 c16 li-bullet-0">
                <span class="c28 c13">Indirect addressing</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_k292hscni5a9-4 start">
            <li class="c8 c41 li-bullet-0">
                <span class="c0"
                    >You use a record ID and a mapping from record IDs to
                    physical addresses</span
                >
            </li>
            <li class="c8 c41 li-bullet-0">
                <span class="c0"
                    >The physical address can point to the block the record is
                    in: this means the record can be moved around the block
                    without changing its ID, and it&rsquo;s still pretty
                    fast.</span
                >
            </li>
            <li class="c8 c41 li-bullet-0">
                <span class="c0"
                    >Every block and record has two addresses:</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_k292hscni5a9-5 start">
            <li class="c8 c35 li-bullet-0">
                <span class="c0">A database address (when stored in disk)</span>
            </li>
            <li class="c8 c35 li-bullet-0">
                <span class="c0">A memory address (when stored in memory)</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_k292hscni5a9-4">
            <li class="c8 c41 li-bullet-0">
                <span class="c0"
                    >When you&rsquo;re in the buffer (memory) it&rsquo;s better
                    to use memory addresses, otherwise you&rsquo;ll be
                    converting the database address which takes time.</span
                >
            </li>
        </ul>
        <p class="c8 c7 c111"><span class="c0"></span></p>
        <ul class="c10 lst-kix_k292hscni5a9-4">
            <li class="c8 c41 li-bullet-0">
                <span class="c0"
                    >Alright, so you&rsquo;ve got blocks and records and stuff
                    in the database.</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 366.01px;
                    height: 183.01px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image93.png"
                    style="
                        width: 366.01px;
                        height: 183.01px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_oska2tqwo6yn-0 start">
            <li class="c8 c41 li-bullet-0">
                <span class="c0"
                    >So our map points to some database addresses in those
                    blocks within secondary storage and we want to move it into
                    the buffer (memory) so we can process it.</span
                >
            </li>
            <li class="c8 c41 li-bullet-0">
                <span class="c0"
                    >Well? What are we waiting for? Let&rsquo;s load it
                    in!</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 366.01px;
                    height: 183.01px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image69.png"
                    style="
                        width: 366.01px;
                        height: 183.01px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_mh95nk44xutp-0 start">
            <li class="c8 c41 li-bullet-0">
                <span class="c0"
                    >Uh... that&rsquo;s great, but why are the arrows red?</span
                >
            </li>
            <li class="c8 c41 li-bullet-0">
                <span class="c0"
                    >Well, the pointers in that map are pointing to the database
                    addresses of the blocks.</span
                >
            </li>
            <li class="c8 c41 li-bullet-0">
                <span class="c0"
                    >When we copied the map into the buffer, the pointers are
                    still pointing to the database addresses instead of the new
                    memory addresses!</span
                >
            </li>
            <li class="c8 c41 li-bullet-0">
                <span
                    >When a pointer is pointing to a database address despite
                    being in a map within the buffer, that pointer is </span
                ><span class="c42 c13">swizzled</span><span>&nbsp;</span
                ><span class="c56">(represented by </span
                ><span class="c70 c85">red </span
                ><span class="c56">arrows in the illustrations)</span
                ><span class="c0">.</span>
            </li>
            <li class="c8 c41 li-bullet-0">
                <span
                    >When a pointer is pointing to a memory address in the
                    buffer, that pointer is </span
                ><span class="c27 c13">unswizzled</span><span>&nbsp;</span
                ><span class="c56">(represented by </span
                ><span class="c70 c100">green </span
                ><span class="c56">arrows in the illustrations)</span
                ><span class="c0">.</span>
            </li>
            <li class="c8 c41 li-bullet-0">
                <span class="c0">We want our pointers to be unswizzled!</span>
            </li>
            <li class="c8 c41 li-bullet-0">
                <span class="c0"
                    >To unswizzle these pointers, we&rsquo;re going to have to
                    convert the block 1 pointer from a database address to a
                    memory address using some kind of translation table.</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 366.01px;
                    height: 183.01px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image90.png"
                    style="
                        width: 366.01px;
                        height: 183.01px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_juay9vu004k3-0 start">
            <li class="c8 c41 li-bullet-0">
                <span class="c0"
                    >However, the next pointer is pointing to a block that
                    isn&rsquo;t within memory. What do we do?</span
                >
            </li>
            <li class="c8 c41 li-bullet-0">
                <span class="c0">We can just load block 2 into memory.</span>
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 366.01px;
                    height: 183.01px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image78.png"
                    style="
                        width: 366.01px;
                        height: 183.01px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_tdpsu79ewbvo-0 start">
            <li class="c8 c41 li-bullet-0">
                <span class="c0">Now our pointers are unswizzled!</span>
            </li>
            <li class="c8 c41 li-bullet-0">
                <span class="c0"
                    >There are a couple of swizzling strategies:</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_tdpsu79ewbvo-1 start">
            <li class="c8 c35 li-bullet-0">
                <span class="c13">Automatic</span
                ><span class="c0"
                    >: as soon as a block is brought into memory, locate all
                    pointers and unswizzle them all</span
                >
            </li>
            <li class="c8 c35 li-bullet-0">
                <span class="c13">On Demand</span
                ><span class="c0"
                    >: only unswizzle a pointer when we actually look it
                    up</span
                >
            </li>
            <li class="c8 c35 li-bullet-0">
                <span class="c13">No swizzling</span
                ><span
                    >: don&rsquo;t unswizzle at all; just use the translation
                    table on demand </span
                ><span class="c1"
                    >(kind of hard to call this a swizzling strategy if it
                    doesn&rsquo;t swizzle)</span
                >
            </li>
        </ul>
        <p class="c8 c7 c124"><span class="c1"></span></p>
        <ul class="c10 lst-kix_tdpsu79ewbvo-0">
            <li class="c8 c41 li-bullet-0">
                <span class="c0">This also works the other way around.</span>
            </li>
            <li class="c8 c41 li-bullet-0">
                <span class="c0"
                    >When blocks are written back to the disk, swizzled pointers
                    are rewritten using the translation table.</span
                >
            </li>
            <li class="c8 c41 li-bullet-0">
                <span class="c0"
                    >You also need to beware of pinned blocks (that cannot yet
                    be safely written to disk)</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_k292hscni5a9-3 start">
            <li class="c8 c16 li-bullet-0">
                <span class="c28 c13">Other options in-between</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_k292hscni5a9-2">
            <li class="c8 c14 li-bullet-0">
                <span class="c0">Trade-off between:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_k292hscni5a9-3 start">
            <li class="c8 c16 li-bullet-0">
                <span class="c0"
                    >Flexibility (easier to move records on insertion /
                    deletion)</span
                >
            </li>
            <li class="c8 c16 li-bullet-0">
                <span class="c0">Cost (of maintaining indirection)</span>
            </li>
        </ul>
        <h2 class="c11" id="h.8tmg68va6t21-3">
            <span class="c68 c63">Insertion and Deletion</span>
        </h2>
        <ul class="c10 lst-kix_j7geo21nphq9-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >So, we&rsquo;ve talked about storing records in blocks and
                    accessing them.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span>But what about </span><span class="c27">inserting</span
                ><span>&nbsp;records and </span><span class="c42">deleting</span
                ><span class="c0">&nbsp;records?</span>
            </li>
        </ul>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_pqdv7q5hxbiz-0 start">
            <li class="c4 li-bullet-0">
                <span>Let&rsquo;s start with </span
                ><span class="c27">insertion</span><span class="c0">.</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >If the records do not have any kind of order, it&rsquo;s
                    simple.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0">To insert without order, either:</span>
            </li>
        </ul>
        <ol class="c10 lst-kix_x8ce6gqc0zvw-0 start" start="1">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Look for the next empty slot</span>
            </li>
        </ol>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 328px;
                    height: 217.61px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image34.png"
                    style="
                        width: 328px;
                        height: 217.61px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ol class="c10 lst-kix_x8ce6gqc0zvw-0" start="2">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Just stick it at the end</span>
            </li>
        </ol>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 328px;
                    height: 217.61px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image137.png"
                    style="
                        width: 328px;
                        height: 217.61px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_m2gva2v92wu3-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >If we need to keep some fixed order, such as sorted by
                    primary key, things get a bit trickier.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >First, we find the block we want to put the record
                    in.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Then, if we find some space to put the record, we need to
                    shift the records around so put the new record in its proper
                    place.</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 328px;
                    height: 198.55px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image45.png"
                    style="
                        width: 328px;
                        height: 198.55px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 328px;
                    height: 217.61px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image91.png"
                    style="
                        width: 328px;
                        height: 217.61px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_v2f29bl54abb-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >However, records can be quite big. Do we really want to
                    shift those huge, hefty records every time we want to
                    insert?</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span>We don&rsquo;t have to! We can use an </span
                ><span class="c13">offset table</span><span class="c0">.</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >An offset table is a group of pointers that point to
                    records in a block.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Basically, we can store the order of the records in the
                    offset table instead of the physical location of the records
                    themselves.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >That way, when we re-organise our records, we can shift
                    around nice small pointers instead of huge bulky
                    records.</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 450.28px;
                    height: 251.01px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image132.png"
                    style="
                        width: 450.28px;
                        height: 251.01px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_fc1mv9h89fck-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >When we add a new record, we just stick it at the end of
                    the block any old how but retain the order with the pointers
                    by shifting them around and stuff.</span
                >
            </li>
        </ul>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_y35yalhfponm-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >What if we don&rsquo;t actually have any space to put our
                    record in the block?</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >There&rsquo;s two approaches we can adopt in this
                    situation:</span
                >
            </li>
        </ul>
        <ol class="c10 lst-kix_njd1zxgy422u-0 start" start="1">
            <li class="c8 c15 li-bullet-0">
                <span class="c92 c63 c70"
                    >Find space on a &ldquo;nearby&rdquo; block</span
                >
            </li>
        </ol>
        <ul class="c10 lst-kix_zayyu8rkud4-0 start">
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >If there&rsquo;s no space on this block, check the blocks
                    next to it.</span
                >
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >If there&rsquo;s space, shift the highest records of the
                    previous blocks to the next blocks, update the pointers and
                    slides the records around on the blocks.</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 450.28px;
                    height: 322.89px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image57.png"
                    style="
                        width: 450.28px;
                        height: 322.89px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ol class="c10 lst-kix_njd1zxgy422u-0" start="2">
            <li class="c8 c15 li-bullet-0">
                <span class="c92 c63 c70">Create an overflow block</span>
            </li>
        </ol>
        <ul class="c10 lst-kix_knaxe4rxt86w-0 start">
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >This is similar to the previous approach, but instead of
                    the next block being physically adjacent to the previous
                    block, it works more like a linked list in the sense that
                    the previous block &ldquo;points&rdquo; to the next block
                    via a pointer in the header.</span
                >
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >The &ldquo;next&rdquo; blocks are called the overflow
                    blocks.</span
                >
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >Overflow blocks hold records that theoretically belong in
                    the original block.</span
                >
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >Overflow blocks can point to even more overflow blocks, if
                    the space is required, hence the parallel to linked
                    lists.</span
                >
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >Graphically, they&rsquo;re represented as a nub on the
                    block, even though the pointer is in the header.</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 345.5px;
                    height: 103.65px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image16.png"
                    style="
                        width: 345.5px;
                        height: 103.65px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_pqdv7q5hxbiz-0">
            <li class="c4 li-bullet-0">
                <span>Now, let&rsquo;s move on to </span
                ><span class="c42">deletion</span><span class="c0">.</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >With the offset table, if we can shift records around too,
                    then when we delete a record we can just shift the records
                    about to ensure there is always one unused region in the
                    centre. This is &ldquo;reclaiming space&rdquo;.</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 450.28px;
                    height: 177.6px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image38.png"
                    style="
                        width: 450.28px;
                        height: 177.6px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 450.28px;
                    height: 224.44px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image44.png"
                    style="
                        width: 450.28px;
                        height: 224.44px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 450.28px;
                    height: 177.6px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image43.png"
                    style="
                        width: 450.28px;
                        height: 177.6px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_ev44wuz0flt1-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >If we can&rsquo;t shift around records, then we&rsquo;ll
                    have to keep track of where, and how large, the available
                    regions are, when a new record is inserted into the
                    block.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >The block header doesn&rsquo;t normally have to store the
                    entire available space list. The header can just have the
                    list head in the header, and each available region can point
                    to the next region in the list.</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 450.28px;
                    height: 195.08px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image42.png"
                    style="
                        width: 450.28px;
                        height: 195.08px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c9 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_i8mtoot8bqow-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0">Is that it? Problem solved?</span>
            </li>
            <li class="c4 li-bullet-0"><span class="c0">Not quite...</span></li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >You may have spotted it already, but there&rsquo;s a
                    problem with our database!</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >It&rsquo;s the pointer to the 4th record. It still exists,
                    but it doesn&rsquo;t point to the 4th record anymore,
                    because it has been deleted.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0">Basically, we have a dangling pointer.</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0">Dangling pointers are bad.</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0">How do we deal with this problem?</span>
            </li>
            <li class="c4 li-bullet-0"><span class="c0">Tombstones!</span></li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_i8mtoot8bqow-0">
            <li class="c4 li-bullet-0">
                <span>When we delete a record, we put a </span
                ><span class="c13">tombstone </span
                ><span class="c0">in its place.</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >A tombstone is permanent; it must exist until the entire
                    database is reconstructed.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Where the tombstone is placed depends on the nature of
                    record pointers.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >There&rsquo;s two ways to use tombstones:</span
                >
            </li>
        </ul>
        <ol class="c10 lst-kix_np69m8t5scpu-0 start" start="1">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >If we&rsquo;re using a map, such as an offset table or
                    logical ID &rarr; physical ID, we make the tombstone a null
                    pointer in place of the record we&rsquo;re deleting.</span
                >
            </li>
        </ol>
        <ul class="c10 lst-kix_fb7c5gu0ti7h-0 start">
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >Basically, we can&rsquo;t use that logical ID again.
                    We&rsquo;re &ldquo;patching up&rdquo; the dangling
                    pointer.</span
                >
            </li>
        </ul>
        <p class="c8 c7"><span class="c0"></span></p>
        <a id="t.d4dbe55831a2a070f304d75aa29a0c642cba3845"></a><a id="t.7"></a>
        <table class="c120">
            <tbody>
                <tr class="c43">
                    <td class="c51 c117" colspan="1" rowspan="1">
                        <p class="c40">
                            <span class="c28 c13">Logical ID</span>
                        </p>
                    </td>
                    <td class="c23 c51" colspan="1" rowspan="1">
                        <p class="c40">
                            <span class="c28 c13">Physical ID</span>
                        </p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c117" colspan="1" rowspan="1">
                        <p class="c40"><span class="c0">56</span></p>
                    </td>
                    <td class="c23" colspan="1" rowspan="1">
                        <p class="c40"><span class="c0">5AF8</span></p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c117" colspan="1" rowspan="1">
                        <p class="c40"><span class="c0">57</span></p>
                    </td>
                    <td class="c23" colspan="1" rowspan="1">
                        <p class="c40">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 36.25px;
                                    height: 43.5px;
                                "
                                ><img
                                    alt=""
                                    src="assets/advanced-databases-part-i/image51.png"
                                    style="
                                        width: 36.25px;
                                        height: 43.5px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c117" colspan="1" rowspan="1">
                        <p class="c40"><span class="c0">58</span></p>
                    </td>
                    <td class="c23" colspan="1" rowspan="1">
                        <p class="c40"><span class="c0">2DE0</span></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c8 c7"><span class="c0"></span></p>
        <ol class="c10 lst-kix_np69m8t5scpu-0" start="2">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >If we&rsquo;re using physical addresses, we place the bit
                    that serves as a tombstone at the beginning of the
                    record.</span
                >
            </li>
        </ol>
        <ul class="c10 lst-kix_t91slh47lxtc-0 start">
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >That way, all the bytes after that tombstone bit can still
                    be used.</span
                >
            </li>
        </ul>
        <p class="c8 c7"><span class="c0"></span></p>
        <a id="t.94bb29e9721602c01bb83b92ac84df5674feb986"></a><a id="t.8"></a>
        <table class="c38">
            <tbody>
                <tr class="c75">
                    <td class="c77" colspan="7" rowspan="1">
                        <p class="c40">
                            <span class="c28 c13">A block of memory</span>
                        </p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c91 c97" colspan="1" rowspan="1">
                        <p class="c5"><span class="c37">Logical ID</span></p>
                    </td>
                    <td class="c94 c97" colspan="1" rowspan="1">
                        <p class="c5 c7"><span class="c37"></span></p>
                    </td>
                    <td class="c46 c97" colspan="1" rowspan="1">
                        <p class="c5"><span class="c37">56</span></p>
                    </td>
                    <td class="c46 c97" colspan="1" rowspan="1">
                        <p class="c5 c7"><span class="c37"></span></p>
                    </td>
                    <td class="c46 c97" colspan="1" rowspan="1">
                        <p class="c5 c7"><span class="c37"></span></p>
                    </td>
                    <td class="c46 c97" colspan="1" rowspan="1">
                        <p class="c5 c7"><span class="c37"></span></p>
                    </td>
                    <td class="c46 c97" colspan="1" rowspan="1">
                        <p class="c5 c7"><span class="c37"></span></p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c55 c91" colspan="1" rowspan="1">
                        <p class="c5"><span class="c18">Physical ID</span></p>
                    </td>
                    <td class="c94 c55" colspan="1" rowspan="1">
                        <p class="c5"><span class="c18">5AF0</span></p>
                    </td>
                    <td class="c46 c55" colspan="1" rowspan="1">
                        <p class="c5"><span class="c18">5AF8</span></p>
                    </td>
                    <td class="c46 c55" colspan="1" rowspan="1">
                        <p class="c5"><span class="c18">5B00</span></p>
                    </td>
                    <td class="c46 c55" colspan="1" rowspan="1">
                        <p class="c5"><span class="c18">5B08</span></p>
                    </td>
                    <td class="c46 c55" colspan="1" rowspan="1">
                        <p class="c5"><span class="c18">5B10</span></p>
                    </td>
                    <td class="c46 c55" colspan="1" rowspan="1">
                        <p class="c5"><span class="c18">5B18</span></p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c91 c48" colspan="1" rowspan="1">
                        <p class="c5"><span class="c26">Data</span></p>
                    </td>
                    <td class="c48 c94" colspan="1" rowspan="1">
                        <p class="c5"><span class="c26">5B</span></p>
                    </td>
                    <td class="c46 c48" colspan="1" rowspan="1">
                        <p class="c40">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 36.25px;
                                    height: 43.5px;
                                "
                                ><img
                                    alt=""
                                    src="assets/advanced-databases-part-i/image51.png"
                                    style="
                                        width: 36.25px;
                                        height: 43.5px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c46 c48" colspan="1" rowspan="1">
                        <p class="c5"><span class="c26">3F</span></p>
                    </td>
                    <td class="c46 c48" colspan="1" rowspan="1">
                        <p class="c5"><span class="c26">02</span></p>
                    </td>
                    <td class="c46 c48" colspan="1" rowspan="1">
                        <p class="c5"><span class="c26">7A</span></p>
                    </td>
                    <td class="c46 c48" colspan="1" rowspan="1">
                        <p class="c5">
                            <span class="c47 c79"
                                ><a
                                    class="c17"
                                    href="https://www.google.com/url?q=https://nier.fandom.com/wiki/YoRHa_No.2_Type_B&amp;sa=D&amp;source=editors&amp;ust=1623779904231000&amp;usg=AOvVaw3qnIgxI4EukJhco7kKapdw"
                                    >2B</a
                                ></span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c9 c7"><span class="c52"></span></p>
        <p class="c9">
            <span class="c113 c63 c104 c122"
                >5B00 and above can be reused, but 5AF8 can never be
                reused.</span
            >
        </p>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_dznoa1nsyfyp-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >When deleting, we need to think about how expensive
                    it&rsquo;ll be to shift around records and how much space
                    will be wasted.</span
                >
            </li>
        </ul>
        <h1 class="c88" id="h.mjbylyfzlbu-4">
            <span class="c49">Access Structures</span>
        </h1>
        <h2 class="c11" id="h.s4q64irvssij"><span>Index basics</span></h2>
        <ul class="c10 lst-kix_1uekdgsi3f32-0 start">
            <li class="c4 li-bullet-0">
                <span class="c13">Tuple </span
                ><span class="c0"
                    >(in the sense of a database): one entry within a relation
                    or database</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_1uekdgsi3f32-1 start">
            <li class="c8 c15 li-bullet-0">
                <span>(d</span><span class="c54">1</span><span>, d</span
                ><span class="c54">2</span><span>, d</span
                ><span class="c54">3</span><span>&nbsp;... d</span
                ><span class="c54">n</span><span class="c0">)</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span>[</span><span class="c13">ID</span><span>: 102, </span
                ><span class="c13">Name</span><span>: Joseph Joestar, </span
                ><span class="c13">Stand</span
                ><span class="c0">: Hermit Purple]</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_1uekdgsi3f32-0">
            <li class="c4 li-bullet-0">
                <span class="c13">Relation</span
                ><span class="c0">: a set of tuples</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_1uekdgsi3f32-1 start">
            <li class="c8 c15 li-bullet-0">
                <span>[</span><span class="c13">ID</span><span>: 102, </span
                ><span class="c13">Name</span><span>: Joseph Joestar, </span
                ><span class="c13">Stand</span
                ><span class="c0">: Hermit Purple]</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span>[</span><span class="c13">ID</span><span>: 103, </span
                ><span class="c13">Name</span><span>: Jotaro Kujo, </span
                ><span class="c13">Stand</span><span>: Star Platinum</span
                ><span class="c0">]</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span>[</span><span class="c13">ID</span><span>: 104, </span
                ><span class="c13">Name</span><span>: Pannacotta Fugo, </span
                ><span class="c13">Stand</span
                ><span class="c0">: Purple Haze]</span>
            </li>
        </ul>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_1uekdgsi3f32-0">
            <li class="c4 li-bullet-0">
                <span class="c0">Relations are stored in files.</span>
            </li>
            <li class="c4 li-bullet-0">
                <span>Files are stored as collections of blocks </span
                ><span class="c56"
                    >(like when you try to store a file onto a disc, it can be
                    separated into segments)</span
                ><span class="c0">.</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Blocks contain records that correspond to tuples in the
                    relation (keys).</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_1uekdgsi3f32-0">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Given a key, we want to find the record corresponding to
                    that key.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >If we have an index, we can do this much easier.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span>We could make our index </span
                ><span class="c70">super complex and fast</span
                ><span class="c0"
                    >, but then we&rsquo;d spend a lot of time updating it when
                    inserting / deleting records.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span>We could make our index </span
                ><span class="c70">simple</span
                ><span class="c0"
                    >, but then we won&rsquo;t be getting the most efficient
                    look-up time we possibly could.</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_1uekdgsi3f32-0">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >There&rsquo;s different ways to structure our index, with
                    trade offs between:</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_1uekdgsi3f32-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Rapid access when retrieving data</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Speed of updating the database</span>
            </li>
        </ul>
        <h3 class="c34" id="h.3tzo4b2p81uk">
            <span class="c6">Sequential files</span
            ><span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 142.1px;
                    height: 330.24px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image87.png"
                    style="
                        width: 142.1px;
                        height: 330.24px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </h3>
        <ul class="c10 lst-kix_vhccfuxisvha-0 start">
            <li class="c4 li-bullet-0">
                <span>All the tuples are stored with their key in </span
                ><span class="c13">records</span><span class="c0">.</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0">Typically, they are stored in order.</span>
            </li>
            <li class="c4 li-bullet-0">
                <span
                    >It&rsquo;s a common practice to leave space between the
                    keys so we can perform insertions in-between </span
                ><span class="c56"
                    >(like in BASIC where line numbers are separated by
                    multiples of 10)</span
                ><span class="c0">.</span>
            </li>
        </ul>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_vhccfuxisvha-0">
            <li class="c4 li-bullet-0">
                <span class="c0">What&rsquo;s the simplest form of index?</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0">Not having an index at all!</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >If we don&rsquo;t have an index, we&rsquo;re forced to
                    search through the entire database linearly until we find a
                    match.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >That&rsquo;s terribly inefficient! What if we have millions
                    of records?</span
                >
            </li>
        </ul>
        <h3 class="c34" id="h.3tzo4b2p81uk-5">
            <span class="c6">Dense indexes</span>
        </h3>
        <ul class="c10 lst-kix_mle4x4ex6c9h-0 start">
            <li class="c4 li-bullet-0">
                <span>A </span><span class="c13">dense index </span
                ><span class="c0"
                    >is a mapping from keys &rarr; pointers of records.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >The mapping holds entries for every record.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >The key-pointer pairs are much smaller than the records
                    themselves...</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >... therefore the dense index takes up fewer blocks than
                    the data file...</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >... meaning we can perform fewer disk accesses.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >The keys are sorted, so we can perform binary search for
                    the key we want to locate.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >If it&rsquo;s small enough, we can even store the whole
                    index in main memory.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >We can use dense keys even if the data file is not sorted,
                    but we&rsquo;ll get back to that later.</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 363.5px;
                    height: 376.15px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image134.png"
                    style="
                        width: 363.5px;
                        height: 376.15px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <h3 class="c34" id="h.3tzo4b2p81uk-6">
            <span class="c6">Sparse indexes</span>
        </h3>
        <ul class="c10 lst-kix_cn8bu38yqyp1-0 start">
            <li class="c4 li-bullet-0">
                <span>A </span><span class="c13">sparse index </span
                ><span class="c0"
                    >is a mapping from keys &rarr; pointers of blocks.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >The sparse index won&rsquo;t contain every key from every
                    record.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Instead, it&rsquo;ll contain the keys of the first record
                    of each block, and point to those.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >The concept is that you find the block with your record in,
                    and then you load that whole block and look for your record
                    within.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >It uses less space than the dense index, but it takes
                    longer to find the record we want.</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 363.5px;
                    height: 377.02px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image50.png"
                    style="
                        width: 363.5px;
                        height: 377.02px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_cn8bu38yqyp1-0">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >We can only use sparse indexes if the data file is sorted
                    by the search key.</span
                >
            </li>
            <li class="c4 li-bullet-0"><span class="c0">Why?</span></li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Let&rsquo;s just say you were looking for record 40.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >You find out that there is a block starting with record 30
                    and a block starting with record 50.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span
                    >Because the data file is sorted, you know record 40 will be
                    in-between records 30 and 50, so you&rsquo;ll want to fetch
                    the block containing those records </span
                ><span class="c56">(the block starting with record 30) </span
                ><span>and search within that fetched block</span
                ><span class="c0">.</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >If the data file was not sorted, there&rsquo;d be no
                    guarantee that record 40 would be between 30 and 50, thus
                    breaking the entire concept of a sparse index.</span
                >
            </li>
        </ul>
        <h3 class="c34" id="h.3tzo4b2p81uk-7">
            <span class="c6">Multi-level indexes</span>
        </h3>
        <ul class="c10 lst-kix_3b0cs09l9jdy-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >However, if we have loads of records, we&rsquo;ll have
                    loads of sparse indexes.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >We&rsquo;re going to have to load all those indexes into
                    memory.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Is there a way to split up the sparse indexes?</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span>Yup! We create a </span
                ><span class="c13">multi-level index</span
                ><span>&nbsp;by establishing a </span
                ><span class="c13">sparse second-level index</span
                ><span class="c0">.</span>
            </li>
            <li class="c4 li-bullet-0">
                <span>A </span><span class="c13">second-level index </span
                ><span class="c0"
                    >maps keys &rarr; pointers of first-level index
                    blocks.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >The jumps in index size of the second-level index is
                    greater than that of the first-level index.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >The concept is that you start with the second-level index
                    and find + load the first-level index block that your key
                    belongs to.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Then, you can read through that block to find the data file
                    block that contains your record, and finally you can read
                    through that data file block to find your record.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >So it works like layers; you start with the top-level and
                    you make your way down, whittling down the records, until
                    you find the one you&rsquo;re searching for.</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 414.7px;
                    height: 388.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image36.png"
                    style="
                        width: 414.7px;
                        height: 388.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_3931eq4eez1y-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >We could make even more layers of indexes like third-level
                    indexes, but by that point we might as well use B-trees
                    (which we will also go over later).</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >There&rsquo;s no point doing dense multi-level indexes as
                    they&rsquo;re all just going to be the same size as the
                    first-level index.</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_3931eq4eez1y-0">
            <li class="c4 li-bullet-0"><span class="c0">Note:</span></li>
        </ul>
        <ul class="c10 lst-kix_3931eq4eez1y-1 start">
            <li class="c8 c15 li-bullet-0">
                <span>Block pointers </span><span class="c56">(used in </span
                ><span class="c19">sparse indexes</span
                ><span class="c56">)</span
                ><span>&nbsp;can be smaller than record pointers </span
                ><span class="c56">(used in </span
                ><span class="c70 c106">dense indexes</span
                ><span class="c1">)</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span>If the file is contiguous </span
                ><span class="c56">(all the blocks are next to each other)</span
                ><span>, then we can omit pointers </span
                ><span class="c1"
                    >(we can calculate them from block size and key
                    position)</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_3931eq4eez1y-2 start">
            <li class="c8 c14 li-bullet-0">
                <span>For example, if there are </span><span>1024</span
                ><span
                    >&nbsp;bytes per block and we want the third block, we can
                    do </span
                ><span>(3 - 1) * 1024 = 2048</span
                ><span class="c0">&nbsp;bytes and look up using that.</span>
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_3931eq4eez1y-0">
            <li class="c4 li-bullet-0">
                <span class="c0">Sparse vs Dense:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_3931eq4eez1y-1 start">
            <li class="c8 c15 li-bullet-0"><span class="c0">Sparse:</span></li>
        </ul>
        <ul class="c10 lst-kix_3931eq4eez1y-2 start">
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >Less index space per record so we can keep more index in
                    memory</span
                >
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0">Better for insertions</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_3931eq4eez1y-1">
            <li class="c8 c15 li-bullet-0"><span class="c0">Dense:</span></li>
        </ul>
        <ul class="c10 lst-kix_3931eq4eez1y-2 start">
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >Can tell if a record exists without accessing file</span
                >
            </li>
            <li class="c8 c14 li-bullet-0">
                <span
                    >Needed for secondary indexes (which we will get onto
                    later)</span
                >
            </li>
        </ul>
        <h3 class="c34" id="h.g1kq51d27teq">
            <span class="c6">Duplicates</span>
        </h3>
        <ul class="c10 lst-kix_g8hm7xoauqdu-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0">What if we get duplicate records?</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >In other words, multiple records with the same key?</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Sparse and dense have different approaches to this.</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_g8hm7xoauqdu-0">
            <li class="c4 li-bullet-0">
                <span>Let&rsquo;s start with </span
                ><span class="c42">dense</span><span class="c0">.</span>
            </li>
            <li class="c4 li-bullet-0">
                <span>The </span><span class="c47">first approach</span
                ><span class="c0"
                    >&nbsp;is to just store pointers to all the duplicates like
                    normal.</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 363.5px;
                    height: 377.02px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image37.png"
                    style="
                        width: 363.5px;
                        height: 377.02px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_f0x6brynh9f3-0 start">
            <li class="c4 li-bullet-0">
                <span>The </span><span class="c47">second approach</span
                ><span class="c0"
                    >&nbsp;is to only point to the first repeated record.</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 363.5px;
                    height: 377.02px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image113.png"
                    style="
                        width: 363.5px;
                        height: 377.02px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_qfl9kjo6ukyz-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >It&rsquo;s a little better; our index is smaller now.</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_qfl9kjo6ukyz-0">
            <li class="c4 li-bullet-0">
                <span>Let&rsquo;s move on to </span
                ><span class="c27">sparse</span
                ><span class="c0">&nbsp;indexes now.</span>
            </li>
            <li class="c4 li-bullet-0">
                <span>The </span><span class="c47">first approach</span
                ><span class="c0"
                    >&nbsp;is to not do anything about it. Just leave it as it
                    is.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >However, if we don&rsquo;t do something, we&rsquo;ll get
                    weird results:</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 363.5px;
                    height: 377.02px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image6.png"
                    style="
                        width: 363.5px;
                        height: 377.02px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_6ffcl5uppvyw-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >That highlighted record 20 comes before the referenced
                    record 20 in the sparse index. The sparse index should be
                    pointing to the first instance of record 20!</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_6ffcl5uppvyw-0">
            <li class="c4 li-bullet-0">
                <span>The </span><span class="c47">second approach</span
                ><span>&nbsp;makes the index contain the first </span
                ><span class="c70">new key</span
                ><span class="c0">&nbsp;from each block.</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >It can get a bit confusing, but it solves the
                    problem.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >If there are no new keys in that block, just default back
                    to containing the first key in that block.</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 363.5px;
                    height: 377.02px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image121.png"
                    style="
                        width: 363.5px;
                        height: 377.02px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_dt17axj8u3k9-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >If we have blocks with the same key in every record, we can
                    remove the pointer to it.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span>This way, the sparse index will only point to the </span
                ><span class="c70">first instance</span
                ><span class="c0">&nbsp;of each value.</span>
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 363.5px;
                    height: 377.02px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image70.png"
                    style="
                        width: 363.5px;
                        height: 377.02px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <h3 class="c34" id="h.qvlew54yfk3a">
            <span class="c6">Deletions</span>
        </h3>
        <ul class="c10 lst-kix_s9eg0k201yzy-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >How do we delete records while updating the index?</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span>Let&rsquo;s start with </span
                ><span class="c42">dense</span><span class="c0">.</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Dense is pretty simple; we just remove the record from the
                    data file and shift up all the records in the block.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Then, we do the same with the index; we remove that index
                    mapping from the index and shift up all the mapping beneath
                    it in that block.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Here&rsquo;s an example removing record 30:</span
                >
            </li>
        </ul>
        <a id="t.0207661775abd5334fb4401f99d68d18051406db"></a><a id="t.9"></a>
        <table class="c38">
            <tbody>
                <tr class="c43">
                    <td class="c36 c51" colspan="1" rowspan="1">
                        <p class="c40"><span class="c28 c13">Before</span></p>
                    </td>
                    <td class="c36 c51" colspan="1" rowspan="1">
                        <p class="c40"><span class="c28 c13">After</span></p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c9">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 323.36px;
                                "
                                ><img
                                    alt=""
                                    src="assets/advanced-databases-part-i/image79.png"
                                    style="
                                        width: 286px;
                                        height: 323.36px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c9">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 323.36px;
                                "
                                ><img
                                    alt=""
                                    src="assets/advanced-databases-part-i/image39.png"
                                    style="
                                        width: 286px;
                                        height: 323.36px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_c1zogwshfrai-0 start">
            <li class="c4 li-bullet-0">
                <span>Let&rsquo;s move on to </span
                ><span class="c27">sparse</span><span class="c0">.</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0">This can be a bit more tricky.</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >There are some cases where it&rsquo;s even more simple than
                    dense.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >For example, removing a record which is not being pointed
                    to.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >We don&rsquo;t even need to update the index; just remove
                    it from the data file block.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Here&rsquo;s an example removing record 40:</span
                >
            </li>
        </ul>
        <a id="t.0207661775abd5334fb4401f99d68d18051406db"></a><a id="t.10"></a>
        <table class="c38">
            <tbody>
                <tr class="c43">
                    <td class="c36 c51" colspan="1" rowspan="1">
                        <p class="c40"><span class="c28 c13">Before</span></p>
                    </td>
                    <td class="c36 c51" colspan="1" rowspan="1">
                        <p class="c40"><span class="c28 c13">After</span></p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c9">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 324.82px;
                                "
                                ><img
                                    alt=""
                                    src="assets/advanced-databases-part-i/image11.png"
                                    style="
                                        width: 286px;
                                        height: 324.82px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c9">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 324.82px;
                                "
                                ><img
                                    alt=""
                                    src="assets/advanced-databases-part-i/image58.png"
                                    style="
                                        width: 286px;
                                        height: 324.82px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_5corcsfqx4v-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >However, things might not be that simple.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >If we delete a record that is being pointed to, we need to
                    change the key in the index to reflect the new &ldquo;first
                    record&rdquo; in that block.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Here&rsquo;s an example removing record 30, where record 40
                    becomes the new &ldquo;first record&rdquo;:</span
                >
            </li>
        </ul>
        <a id="t.0207661775abd5334fb4401f99d68d18051406db"></a><a id="t.11"></a>
        <table class="c38">
            <tbody>
                <tr class="c43">
                    <td class="c36 c51" colspan="1" rowspan="1">
                        <p class="c40"><span class="c28 c13">Before</span></p>
                    </td>
                    <td class="c36 c51" colspan="1" rowspan="1">
                        <p class="c40"><span class="c28 c13">After</span></p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c9">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 324.82px;
                                "
                                ><img
                                    alt=""
                                    src="assets/advanced-databases-part-i/image11.png"
                                    style="
                                        width: 286px;
                                        height: 324.82px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c9">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 324.82px;
                                "
                                ><img
                                    alt=""
                                    src="assets/advanced-databases-part-i/image14.png"
                                    style="
                                        width: 286px;
                                        height: 324.82px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_lze12db2fpt8-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >If there are no more records in that block, then
                    you&rsquo;ll need to remove the mapping to that block too,
                    and shift all the indexes up to retain consistency.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Here&rsquo;s an example removing record 30 and 40, where
                    the second data file block loses all its records:</span
                >
            </li>
        </ul>
        <a id="t.0207661775abd5334fb4401f99d68d18051406db"></a><a id="t.12"></a>
        <table class="c38">
            <tbody>
                <tr class="c43">
                    <td class="c36 c51" colspan="1" rowspan="1">
                        <p class="c40"><span class="c28 c13">Before</span></p>
                    </td>
                    <td class="c36 c51" colspan="1" rowspan="1">
                        <p class="c40"><span class="c28 c13">After</span></p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c9">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 324.82px;
                                "
                                ><img
                                    alt=""
                                    src="assets/advanced-databases-part-i/image11.png"
                                    style="
                                        width: 286px;
                                        height: 324.82px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c9">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 324.82px;
                                "
                                ><img
                                    alt=""
                                    src="assets/advanced-databases-part-i/image17.png"
                                    style="
                                        width: 286px;
                                        height: 324.82px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h3 class="c34" id="h.7usfdxks7t86">
            <span class="c6">Insertions</span>
        </h3>
        <ul class="c10 lst-kix_y5o3n11n8sqv-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >How do we insert records while still updating the
                    index?</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span>Let&rsquo;s start with </span
                ><span class="c42">dense</span><span class="c0">.</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Dense is so simple they didn&rsquo;t even explain it in the
                    slides.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Just add the record to the data file and mapping to the
                    index.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >If the key is in-between the range of the smallest key and
                    the highest key, you may need to shift the records around,
                    but that&rsquo;s about the worst of it.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Here&rsquo;s an example of adding record 110 and record
                    35:</span
                >
            </li>
        </ul>
        <a id="t.0207661775abd5334fb4401f99d68d18051406db"></a><a id="t.13"></a>
        <table class="c38">
            <tbody>
                <tr class="c43">
                    <td class="c36 c51" colspan="1" rowspan="1">
                        <p class="c40"><span class="c28 c13">Before</span></p>
                    </td>
                    <td class="c36 c51" colspan="1" rowspan="1">
                        <p class="c40"><span class="c28 c13">After</span></p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c9">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 323.36px;
                                "
                                ><img
                                    alt=""
                                    src="assets/advanced-databases-part-i/image79.png"
                                    style="
                                        width: 286px;
                                        height: 323.36px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c9">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 416.76px;
                                "
                                ><img
                                    alt=""
                                    src="assets/advanced-databases-part-i/image15.png"
                                    style="
                                        width: 286px;
                                        height: 416.76px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_1knqp43u2bes-0 start">
            <li class="c4 li-bullet-0">
                <span>Let&rsquo;s move on to </span
                ><span class="c27">sparse</span><span class="c0">.</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Again, there&rsquo;s one case where it&rsquo;s even easier
                    than dense: when we&rsquo;re adding a record to a block with
                    free spaces in it.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Here&rsquo;s an example of adding the record 34:</span
                >
            </li>
        </ul>
        <a id="t.0207661775abd5334fb4401f99d68d18051406db"></a><a id="t.14"></a>
        <table class="c38">
            <tbody>
                <tr class="c43">
                    <td class="c36 c51" colspan="1" rowspan="1">
                        <p class="c40"><span class="c28 c13">Before</span></p>
                    </td>
                    <td class="c36 c51" colspan="1" rowspan="1">
                        <p class="c40"><span class="c28 c13">After</span></p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c9">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 324.82px;
                                "
                                ><img
                                    alt=""
                                    src="assets/advanced-databases-part-i/image58.png"
                                    style="
                                        width: 286px;
                                        height: 324.82px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c9">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 324.82px;
                                "
                                ><img
                                    alt=""
                                    src="assets/advanced-databases-part-i/image124.png"
                                    style="
                                        width: 286px;
                                        height: 324.82px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_bygkbm1qou3o-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >However, when we add a record that pushes higher records up
                    into other blocks, we&rsquo;ll need to reorganize the index
                    a little.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >If the new record key is smaller than the biggest record
                    key of the block, we can shift the records up and update the
                    index with the new &ldquo;first record&rdquo; of the higher
                    block.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Here&rsquo;s an example of adding record 15:</span
                >
            </li>
        </ul>
        <a id="t.0207661775abd5334fb4401f99d68d18051406db"></a><a id="t.15"></a>
        <table class="c38">
            <tbody>
                <tr class="c43">
                    <td class="c36 c51" colspan="1" rowspan="1">
                        <p class="c40"><span class="c28 c13">Before</span></p>
                    </td>
                    <td class="c36 c51" colspan="1" rowspan="1">
                        <p class="c40"><span class="c28 c13">After</span></p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c9">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 324.82px;
                                "
                                ><img
                                    alt=""
                                    src="assets/advanced-databases-part-i/image58.png"
                                    style="
                                        width: 286px;
                                        height: 324.82px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c9">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 324.82px;
                                "
                                ><img
                                    alt=""
                                    src="assets/advanced-databases-part-i/image30.png"
                                    style="
                                        width: 286px;
                                        height: 324.82px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <ul class="c10 lst-kix_i5qps8tuq5eo-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Another way of doing this is to just introduce a new block
                    for record 20 on its own and add a new index mapping.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >However, if your data file is already contiguous, it
                    won&rsquo;t be if you do that.</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_i5qps8tuq5eo-0">
            <li class="c4 li-bullet-0">
                <span
                    >One last case: if you&rsquo;re adding a record and
                    it&rsquo;s the biggest record key of the block, then you
                    have the option of using an </span
                ><span class="c13">overflow block</span
                ><span class="c0">.</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >The last record of the block points to an overflow block
                    that contains more records that should logically belong in
                    that block.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Here&rsquo;s an example of adding record 25:</span
                >
            </li>
        </ul>
        <a id="t.0207661775abd5334fb4401f99d68d18051406db"></a><a id="t.16"></a>
        <table class="c38">
            <tbody>
                <tr class="c43">
                    <td class="c44 c51" colspan="1" rowspan="1">
                        <p class="c40"><span class="c28 c13">Before</span></p>
                    </td>
                    <td class="c81 c51" colspan="1" rowspan="1">
                        <p class="c40"><span class="c28 c13">After</span></p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c44" colspan="1" rowspan="1">
                        <p class="c9">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 225.55px;
                                    height: 257.5px;
                                "
                                ><img
                                    alt=""
                                    src="assets/advanced-databases-part-i/image82.png"
                                    style="
                                        width: 225.55px;
                                        height: 257.5px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c81" colspan="1" rowspan="1">
                        <p class="c9">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 332.81px;
                                    height: 239.5px;
                                "
                                ><img
                                    alt=""
                                    src="assets/advanced-databases-part-i/image117.png"
                                    style="
                                        width: 332.81px;
                                        height: 239.5px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_i5qps8tuq5eo-0">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >However, it&rsquo;s only temporary. We should re-organise
                    this later.</span
                >
            </li>
        </ul>
        <h3 class="c34" id="h.3tzo4b2p81uk-8">
            <span class="c6">Secondary indexes</span>
        </h3>
        <ul class="c10 lst-kix_192ii5je37av-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >All this time, we&rsquo;ve had the assumption that our data
                    file was sorted.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >But life&rsquo;s not fair, and the world isn&rsquo;t
                    perfect.</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_192ii5je37av-0">
            <li class="c4 li-bullet-0">
                <span>When we have a </span
                ><span class="c13">primary index</span
                ><span class="c0"
                    >, we can be sure that the records are sorted. That&rsquo;s
                    what makes them &ldquo;primary&rdquo;.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span>However, when we have a </span
                ><span class="c13">secondary index</span
                ><span class="c0"
                    >, we can&rsquo;t be sure if the records are sorted.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Typically, a primary index is defined by some set of fields
                    (like an ID field), and there could be other secondary
                    indexes defined on other sets of fields (like name + date of
                    birth).</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >What if we wanted to query our records based on those
                    secondary indexes?</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_192ii5je37av-0">
            <li class="c4 li-bullet-0">
                <span
                    >Well, for one thing, we know that secondary indexes must
                    always be </span
                ><span class="c42">dense</span><span class="c0">.</span>
            </li>
            <li class="c4 li-bullet-0"><span class="c0">Why?</span></li>
            <li class="c4 li-bullet-0">
                <span>Because </span
                ><span class="c70"
                    >sparse indexes require the records to be sorted</span
                ><span class="c0">.</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Secondary indexes do not determine placement of the records
                    in the data file, so we can safely assume that records will
                    never be sorted under a secondary index.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >This also means that secondary indexes will always point to
                    records and not blocks (because that&rsquo;s what dense
                    does).</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 341.5px;
                    height: 386.11px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image75.png"
                    style="
                        width: 341.5px;
                        height: 386.11px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_ml4eew0pw8x-0 start">
            <li class="c4 li-bullet-0">
                <span
                    >The first-level secondary index must be dense, but the
                    second level can be </span
                ><span class="c27">sparse</span><span class="c0">.</span>
            </li>
            <li class="c4 li-bullet-0"><span class="c0">Why?</span></li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Just because the data file is unsorted doesn&rsquo;t mean
                    the secondary index must be too!</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 419.04px;
                    height: 334.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image119.png"
                    style="
                        width: 419.04px;
                        height: 334.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_c6hxt48suqh2-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Now, you may be thinking &ldquo;secondary indexes seem
                    great, but how do they fare against duplicate
                    values?&rdquo;</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >What? That wasn&rsquo;t what you were thinking?
                    &#x1f630;</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Anyway, there are four approaches to this.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span>The </span><span class="c47">first approach</span
                ><span class="c0"
                    >&nbsp;is to just have repeated entries in the secondary
                    index:</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 341.5px;
                    height: 386.11px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image127.png"
                    style="
                        width: 341.5px;
                        height: 386.11px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_p6pz0r5f4xca-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Oof... that&rsquo;s so disk space + search time inefficient
                    that I&rsquo;d cringe if I wasn&rsquo;t just a line of
                    text.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0">There has to be a better way, right?</span>
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_p6pz0r5f4xca-0">
            <li class="c4 li-bullet-0">
                <span>The </span><span class="c47">second approach</span
                ><span class="c70">&nbsp;</span
                ><span class="c0">is to drop the repeated keys.</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >The problem with this is that each index block will end up
                    with a variable size.</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 341.5px;
                    height: 386.11px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image89.png"
                    style="
                        width: 341.5px;
                        height: 386.11px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_bd11m0fowa0s-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >At first glance, this may seem even dumber than the first
                    approach. And on further inspection, you&rsquo;d discover
                    that you were right.</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_bd11m0fowa0s-0">
            <li class="c4 li-bullet-0">
                <span>The </span><span class="c47">third approach</span
                ><span class="c0"
                    >&nbsp;is to chain records with the same key in a linked
                    list.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >So the first instance of record &lsquo;n&rsquo; will point
                    to the second instance of record &lsquo;n&rsquo; and so on
                    until the last one.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >The indexes will only map the first instance of each
                    record.</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 341.5px;
                    height: 350.58px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image84.png"
                    style="
                        width: 341.5px;
                        height: 350.58px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_baqc7kdfyg0s-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >This is cool, but we&rsquo;ll need to add a new pointer
                    field to the next record instance and you&rsquo;ll have to
                    follow the chain to look for the record you want.</span
                >
            </li>
        </ul>
        <h3 class="c34" id="h.3tzo4b2p81uk-9">
            <span class="c6">Indirection</span>
        </h3>
        <ul class="c10 lst-kix_itpehoo30660-0 start">
            <li class="c4 li-bullet-0">
                <span>The </span><span class="c47">fourth approach</span
                ><span class="c0"
                    >&nbsp;is indirection via buckets of pointers.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >The index doesn&rsquo;t map to a record at all. Instead, it
                    maps to a &ldquo;bucket&rdquo; containing pointers to all
                    the records that have that key.</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 413.84px;
                    height: 348.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image125.png"
                    style="
                        width: 413.84px;
                        height: 348.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_h4yzs1hzup33-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >One good thing about this is that we can calculate
                    conjunctions easier, if we have multiple secondary indexes.
                    To do that, we can take the intersection of the
                    buckets.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Let&rsquo;s just say you had a database of people and you
                    wanted to find everyone who is named &ldquo;Alex&rdquo; and
                    has blue eyes.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Name and eye colour can be two different secondary
                    indexes.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >If we get the bucket of having the name &ldquo;Alex&rdquo;
                    and the bucket of having blue eyes, all you need to do is
                    find the intersection of those two buckets and boom:
                    you&rsquo;ve got your results!</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_h4yzs1hzup33-0">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Oh, and did I mention you can do all of that without even
                    touching the data file?</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_h4yzs1hzup33-0">
            <li class="c4 li-bullet-0">
                <span class="c48 c126">Advantages</span
                ><span class="c0">&nbsp;of these types of indexes:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_h4yzs1hzup33-1 start">
            <li class="c8 c15 li-bullet-0"><span class="c0">Simple</span></li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Index is a sequential file and good for scans</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_h4yzs1hzup33-0">
            <li class="c4 li-bullet-0">
                <span class="c42">Disadvantages</span
                ><span class="c0">&nbsp;of these types of indexes:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_h4yzs1hzup33-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Inserts can be expensive, and/or</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Lose sequentiality &amp; balance</span>
            </li>
        </ul>
        <h2 class="c11" id="h.m7xxn5v4lkra">
            <span class="c68 c63">B+ trees</span>
        </h2>
        <ul class="c10 lst-kix_33guzs8x9w8b-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >B+ trees are the most widely used tree-structured
                    indexes.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0">They are balanced multiway trees that:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_33guzs8x9w8b-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Yield consistent performance</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Sacrifices sequentiality (they&rsquo;re not stored in
                    order)</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_33guzs8x9w8b-0">
            <li class="c4 li-bullet-0">
                <span class="c0">Here&rsquo;s an example of a B+ tree:</span>
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 390.67px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image131.png"
                    style="
                        width: 602px;
                        height: 390.67px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_3gn7qwkf5gx1-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >So, we have some blocks with numbers in them, there&rsquo;s
                    green and red and arrows and aaargh</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0">How do these B+ trees actually work?</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Those numbers are keys, similar to our indexed sequential
                    files from before.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >You start from the root node (the golden node at the top)
                    and work your way down.</span
                >
            </li>
        </ul>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_3gn7qwkf5gx1-0">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >To look up a key, you start from the root node and go down
                    a path depending on whether your key is &ldquo;above&rdquo;
                    or &ldquo;below&rdquo; the key inside that node.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span
                    >You keep going through the non-leaf nodes until you reach a
                    leaf node. In that leaf node, you will find either the data
                    you&rsquo;re looking for (if it&rsquo;s </span
                ><span class="c13">primary indexed</span
                ><span
                    >) or a pointer to the data you&rsquo;re looking for (if
                    it&rsquo;s </span
                ><span class="c13">secondary indexed</span
                ><span class="c0">).</span>
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_3gn7qwkf5gx1-0">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >For example, say we wanted to find a block with key
                    &ldquo;35&rdquo;. We start at the root node. 35 is below 45,
                    so we take the path to the left of 45 down to the non-leaf
                    node with just 30 in it. 35 is bigger than 30, so we take
                    the path to the right of 30, taking us to the leaf node with
                    30 and 35 in it. The data we want is in that leaf node, and
                    will be located to the right of 35.</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_3gn7qwkf5gx1-0">
            <li class="c4 li-bullet-0">
                <span class="c0">The non-leaf nodes look like this:</span>
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 439.46px;
                    height: 206.65px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image103.png"
                    style="
                        width: 439.46px;
                        height: 206.65px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_ewgnepoqwsbu-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Typically the root node is kept in memory, as it&rsquo;s
                    the entry point and is therefore the most accessed node of
                    the whole tree.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Some nodes from the second level may also be kept in
                    memory, if it&rsquo;s accessed a lot.</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_ewgnepoqwsbu-0">
            <li class="c4 li-bullet-0">
                <span class="c0">The leaf nodes look like this:</span>
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 431.5px;
                    height: 246.57px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image29.png"
                    style="
                        width: 431.5px;
                        height: 246.57px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_anm5y1906qyl-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >As mentioned before, there are two kinds of leaf
                    nodes:</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_anm5y1906qyl-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c13">Primary index</span
                ><span class="c0"
                    >: the record data itself is stored within the leaf</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c13">Secondary index</span
                ><span class="c0"
                    >: a pointer to the record data is stored within the
                    leaf</span
                >
            </li>
        </ul>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_hx2j0zpa2h1q-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >It doesn&rsquo;t matter if it a non-leaf or leaf node, they
                    all contain:</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_hx2j0zpa2h1q-1 start">
            <li class="c8 c15 li-bullet-0">
                <span>n</span><span class="c0">&nbsp;keys</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span>n + 1</span><span class="c0">&nbsp;pointers</span>
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 242.88px;
                    height: 167.02px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image22.png"
                    style="
                        width: 242.88px;
                        height: 167.02px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_9zgjvgf621u4-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >But there&rsquo;s also another constraint: minimum keys /
                    pointers.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >We want to keep our nodes from being too empty, so we can
                    stay space efficient.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Therefore we only allow a minimum number of keys / pointers
                    to be stored in a node.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >The minimum number of keys / pointers can be calculated as
                    such:</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_9zgjvgf621u4-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">For non-leaf nodes:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_9zgjvgf621u4-2 start">
            <li class="c8 c14 li-bullet-0">
                <span
                    >&lceil;(n + 1) / 2&rceil; -
                    1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
                ><span class="c0">keys</span>
            </li>
            <li class="c8 c14 li-bullet-0">
                <span
                    >&lceil;(n + 1) /
                    2&rceil;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
                ><span class="c0">pointers</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_9zgjvgf621u4-1">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">For leaf nodes:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_9zgjvgf621u4-2 start">
            <li class="c8 c14 li-bullet-0">
                <span>&lfloor;(n + 1) / 2</span
                ><span class="c0"
                    >&nbsp;&rfloor;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keys</span
                >
            </li>
            <li class="c8 c14 li-bullet-0">
                <span>&lfloor;(n + 1) / 2</span
                ><span class="c0"
                    >&nbsp;&rfloor;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pointers</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_9zgjvgf621u4-0">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >For example, if we have n = 3 keys (like our examples
                    above):</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_9zgjvgf621u4-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Non-leaf nodes have a minimum of 1 key</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Non-leaf nodes have a minimum of 2 pointers</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Leaf nodes have a minimum of 2 key</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Leaf nodes have a minimum of 2 pointers</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_9zgjvgf621u4-0">
            <li class="c4 li-bullet-0">
                <span
                    >Any less than those minimums and we need to sort our B+
                    tree to fix that!</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 467.83px;
                    height: 186.77px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image28.png"
                    style="
                        width: 467.83px;
                        height: 186.77px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_scgbgknc4eif-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >These are the rules that B+ trees must follow:</span
                >
            </li>
        </ul>
        <ol class="c10 lst-kix_vmk7sr4vtv59-0 start" start="1">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >All leaves same distance from root (balanced tree)</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Pointers in leaves point to records except for
                    &ldquo;sequence pointers&rdquo;</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span>That whole minimum thing I said just above</span>
            </li>
        </ol>
        <h3 class="c34" id="h.sovmuvy22sdu">
            <span class="c6">Insertion</span>
        </h3>
        <ul class="c10 lst-kix_mmbnkf2ceywb-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >There are four cases to consider when inserting:</span
                >
            </li>
        </ul>
        <ol class="c10 lst-kix_s45xo783muxx-0 start" start="1">
            <li class="c8 c15 li-bullet-0">
                <span class="c28 c13">Space available in leaf</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c28 c13">Leaf overflow</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c28 c13">Non-leaf overflow</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c28 c13">New root</span>
            </li>
        </ol>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_kmx7iev4j6xl-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0">Let&rsquo;s go through each one!</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c28 c13">Case 1: Space available in leaf</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_kmx7iev4j6xl-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Let&rsquo;s say we have this B+ tree and want to add
                    &ldquo;32&rdquo; to it:</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 411.29px;
                    height: 218.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image26.png"
                    style="
                        width: 411.29px;
                        height: 218.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_u389imv6ga3n-0 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Just simply follow down the tree until you find the right
                    slot to insert!</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 411.29px;
                    height: 218.94px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image27.png"
                    style="
                        width: 411.29px;
                        height: 218.94px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c8 c24 c7"><span class="c28 c13"></span></p>
        <ul class="c10 lst-kix_8dw3z8bq5jrv-0 start">
            <li class="c4 li-bullet-0">
                <span class="c28 c13">Case 2: Leaf overflow</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_8dw3z8bq5jrv-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Let&rsquo;s just say we have this tree and want to add
                    &ldquo;7&rdquo; to it.</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 411.29px;
                    height: 218.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image26.png"
                    style="
                        width: 411.29px;
                        height: 218.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_qo3vb2b57kpk-0 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Following down the tree, it seems we need to put it in that
                    &ldquo;3, 5, 11&rdquo; node.</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >But there&rsquo;s no space! We have &ldquo;leaf
                    overflow&rdquo;! What do we do?</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >We split up the &ldquo;3, 5, 11&rdquo; node and add 7 to
                    the bigger half:</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 522.48px;
                    height: 194.8px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image115.png"
                    style="
                        width: 522.48px;
                        height: 194.8px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_lxuws1r2tsan-0 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >But now there&rsquo;s nothing pointing to the &ldquo;3,
                    5&rdquo; node...</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >We need to add a new entry to that non-leaf node so that
                    something is pointing to the &ldquo;3, 5&rdquo; node.</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 522.48px;
                    height: 194.8px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image20.png"
                    style="
                        width: 522.48px;
                        height: 194.8px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_uejyjnexzfy-0 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">What should we put as that new key?</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span>Here&rsquo;s a little B+ trick: </span
                ><span class="c13"
                    >the value of a non-leaf key is always equal to the smallest
                    key found in its right subtree</span
                ><span class="c0">.</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Well? What&rsquo;s the smallest key value of the right
                    subtree in this case?</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 393.33px;
                    height: 245.61px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image104.png"
                    style="
                        width: 393.33px;
                        height: 245.61px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_sad8wjuemu8q-0 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >It&rsquo;s 7, so that means our value for our non-leaf key
                    would be 7.</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 522.48px;
                    height: 194.8px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image46.png"
                    style="
                        width: 522.48px;
                        height: 194.8px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_umo2djprkxg3-0 start">
            <li class="c4 li-bullet-0">
                <span class="c28 c13">Case 3: Non-leaf overflow</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_umo2djprkxg3-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Let&rsquo;s say we have this tree and we need to add
                    &ldquo;160&rdquo;:</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 411.29px;
                    height: 213.02px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image7.png"
                    style="
                        width: 411.29px;
                        height: 213.02px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_c3bdm1932xia-0 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Like before, we need to split up the &ldquo;150, 156,
                    179&rdquo; leaf node to fit in 160:</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 546.73px;
                    height: 215.94px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image109.png"
                    style="
                        width: 546.73px;
                        height: 215.94px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_otegy0moy9kr-0 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Now, like last time, we need to add a new entry to the
                    non-leaf node and...</span
                >
            </li>
            <li class="c8 c15 li-bullet-0"><span class="c0">... ah.</span></li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >The non-leaf node will overflow! What do we do?</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Like last time, we split the non-leaf node:</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 546.73px;
                    height: 215.94px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image4.png"
                    style="
                        width: 546.73px;
                        height: 215.94px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_39e6j3cljbp8-0 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Now, nothing is pointing to that non-leaf node.</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">We need to make the root point to it.</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Since that entire subtree&rsquo;s smallest key is 160, the
                    new entry will have the value &ldquo;160&rdquo;:</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 546.73px;
                    height: 215.94px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image12.png"
                    style="
                        width: 546.73px;
                        height: 215.94px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_ews61kxez9b-0 start">
            <li class="c4 li-bullet-0">
                <span class="c28 c13">Case 4: New root</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_ews61kxez9b-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Let&rsquo;s say you have this tree and want to add
                    &ldquo;45&rdquo; to it:</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 470.5px;
                    height: 277.66px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image77.png"
                    style="
                        width: 470.5px;
                        height: 277.66px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_sh8ct4pryk64-0 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >As you can quickly see, the node &ldquo;30, 32, 40&rdquo;
                    is full, but we need to add our &ldquo;45&rdquo; to
                    it.</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Like last time, we just split our node and add
                    &ldquo;45&rdquo; to the bigger half:</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 532.12px;
                    height: 326.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image107.png"
                    style="
                        width: 532.12px;
                        height: 326.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_sh8ct4pryk64-0">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Now we need to change the non-leaf node parent so our new
                    leaf node is being pointed to by something.</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >The only non-leaf node we can change is the root node. We
                    can&rsquo;t change the size though...</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >All we can do is split it, like what we did with the leaf
                    node.</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 532.12px;
                    height: 331.09px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image49.png"
                    style="
                        width: 532.12px;
                        height: 331.09px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_ogqx6uo7v2bi-0 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Now we&rsquo;re missing a root node...</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >The root node can simply have one value, on the left being
                    &ldquo;10, 20&rdquo; and on the right being
                    &ldquo;40&rdquo;.</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">What should that value be?</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >The smallest value of the right subtree is 30, so the value
                    should be 30:</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 532.12px;
                    height: 394.16px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image73.png"
                    style="
                        width: 532.12px;
                        height: 394.16px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <h3 class="c34" id="h.ofjj76p3fcu0">
            <span class="c6">Deletion</span>
        </h3>
        <ul class="c10 lst-kix_cq7gix2hsjar-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >There are four cases to consider when deleting:</span
                >
            </li>
        </ul>
        <ol class="c10 lst-kix_tysgtxeenzcz-0 start" start="1">
            <li class="c8 c15 li-bullet-0">
                <span class="c28 c13">Simple case</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c28 c13">Coalesce with sibling</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c28 c13">Re-distribute keys</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c28 c13">Cases 2. or 3. at non-leaf</span>
            </li>
        </ol>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_ul0z8wvh8whc-0 start">
            <li class="c4 li-bullet-0">
                <span class="c28 c13">Case 1: Simple case</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_ul0z8wvh8whc-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Let&rsquo;s just say we want to remove &ldquo;31&rdquo;
                    from this tree:</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 411.29px;
                    height: 218.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image26.png"
                    style="
                        width: 411.29px;
                        height: 218.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_4otq1qq13ls8-0 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >We just follow down the tree, look for the key
                    &ldquo;31&rdquo; and remove it, similar to the simple case
                    of insertion:</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 411.29px;
                    height: 218.94px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image94.png"
                    style="
                        width: 411.29px;
                        height: 218.94px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_hxl5xte5dvun-0 start">
            <li class="c4 li-bullet-0">
                <span class="c28 c13">Case 2: Coalesce with sibling</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_hxl5xte5dvun-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Let&rsquo;s just say we want to remove &ldquo;50&rdquo;
                    from this tree:</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 522.5px;
                    height: 156.75px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image10.png"
                    style="
                        width: 522.5px;
                        height: 156.75px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_a5xzz3cnhkax-0 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Like with case 1, we can just remove it from the leaf
                    node:</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 522.5px;
                    height: 156.2px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image88.png"
                    style="
                        width: 522.5px;
                        height: 156.2px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_vc4txx69t2lj-0 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">That should be it, right?</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Not quite...</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Remember how all nodes should have a minimum number of
                    keys?</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span
                    >Here, n = 4. Therefore the minimum number of keys for a
                    leaf node should be </span
                ><span>&lfloor;(4 + 1) / 2</span
                ><span class="c0">&nbsp;&rfloor; = 2.</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >However, we have a leaf node with just 40 in it.
                    That&rsquo;s under the minimum!</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >To fix this, we merge or &ldquo;coalesce&rdquo; the
                    &ldquo;10, 20, 30&rdquo; and &ldquo;40&rdquo; nodes:</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 522.5px;
                    height: 156.2px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image63.png"
                    style="
                        width: 522.5px;
                        height: 156.2px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_t6x7tyrrjl84-0 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >But now, that &ldquo;40&rdquo; entry in the root node no
                    longer makes sense. Therefore we can get rid of it:</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 522.5px;
                    height: 156.2px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image13.png"
                    style="
                        width: 522.5px;
                        height: 156.2px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_vze82kyzicx4-0 start">
            <li class="c4 li-bullet-0">
                <span class="c13 c28">Case 3: Re-distribute keys</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_vze82kyzicx4-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Let&rsquo;s just say we want to remove &ldquo;50&rdquo;
                    from this tree:</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 522.5px;
                    height: 156.2px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image52.png"
                    style="
                        width: 522.5px;
                        height: 156.2px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_ahvp7amqr845-0 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Like from last time, we can just remove the key:</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 522.5px;
                    height: 156.2px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image61.png"
                    style="
                        width: 522.5px;
                        height: 156.2px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_so94k7t666ks-0 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >In case 2, we just merged this node with the one behind
                    it.</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >In this case, we can&rsquo;t do that because the node
                    behind is full.</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">What do we do? The opposite!</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Instead of moving 40 behind, we move 35 ahead:</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 522.5px;
                    height: 156.2px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image106.png"
                    style="
                        width: 522.5px;
                        height: 156.2px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_jlgegnun8r95-0 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Now we need to update the entry of the root node from
                    &ldquo;40&rdquo; to &ldquo;35&rdquo; because the new
                    smallest value of that right subtree is 35:</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 522.5px;
                    height: 156.2px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image19.png"
                    style="
                        width: 522.5px;
                        height: 156.2px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_olr7auo2ok-0 start">
            <li class="c4 li-bullet-0">
                <span class="c28 c13">Case 4: Cases 2. or 3. at non-leaf</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_olr7auo2ok-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Let&rsquo;s say we wanted to remove 37 from this
                    tree:</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 455.34px;
                    height: 323.14px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image141.png"
                    style="
                        width: 455.34px;
                        height: 323.14px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_30h14sp74dxn-0 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Like with the previous cases, we can just remove the
                    key:</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 455.34px;
                    height: 323.14px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image5.png"
                    style="
                        width: 455.34px;
                        height: 323.14px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_z9fzn3qcjxew-0 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >But now, like with case 2 and 3, we&rsquo;ve gone under the
                    minimum number of keys!</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span
                    >We can either move 30 to the node behind or the node
                    in-front, at the back or at the front, </span
                ><span class="c29"
                    ><a
                        class="c17"
                        href="https://www.google.com/url?q=https://www.reddit.com/r/copypasta/comments/b6szho/funny_valentine_taking_the_first_napkin/&amp;sa=D&amp;source=editors&amp;ust=1623779904291000&amp;usg=AOvVaw1-hPdUDuaPmQhmNaD8yO6d"
                        >left napkin or right napkin</a
                    ></span
                ><span>.</span
                ><span class="c0"
                    >&nbsp;Which do we choose? The one who took the napkin
                    first?</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >No. We pick the node behind. Don&rsquo;t forget to change
                    the non-leaf node entry to reflect this:</span
                >
            </li>
        </ul>
        <p class="c9 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_lb9kfehzowgs-0 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >If you look closely, you can see that there is some wasted
                    space here.</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >All the non-leaf nodes can be combined to make one big root
                    node!</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 470.47px;
                    height: 258.58px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image98.png"
                    style="
                        width: 470.47px;
                        height: 258.58px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title="" /></span
            ><span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 455.34px;
                    height: 323.14px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image9.png"
                    style="
                        width: 455.34px;
                        height: 323.14px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_knmm1ksvczlh-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Coalescing is useful and saves space, but it&rsquo;s often
                    not implemented as it&rsquo;s too hard and not worth
                    it.</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_knmm1ksvczlh-0">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >B+ trees vs static indexes sequential files:</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_knmm1ksvczlh-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Advantages of sequential files:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_knmm1ksvczlh-2 start">
            <li class="c8 c14 li-bullet-0">
                <span class="c0">Consumes less space</span>
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >Blocks are contiguous (next to each other)</span
                >
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >Fewer disk accesses (even when we&rsquo;re
                    reorganising)</span
                >
            </li>
            <li class="c8 c14 li-bullet-0">
                <span class="c0">Better concurrency control</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_knmm1ksvczlh-1">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Advantages of B+ trees:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_knmm1ksvczlh-2 start">
            <li class="c8 c14 li-bullet-0">
                <span
                    >It doesn&rsquo;t have to be managed as much as sequential
                    files </span
                ><span class="c1"
                    >(with sequential files, you need to keep checking it and
                    know what&rsquo;s going on at all times for reorganisation
                    and stuff. You don&rsquo;t have to do that with B+
                    trees)</span
                >
            </li>
        </ul>
        <p class="c8 c7"><span class="c1"></span></p>
        <ul class="c10 lst-kix_erp9hia8udgc-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >What? Are you still having trouble with B+ trees?</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Don&rsquo;t cry! I wasn&rsquo;t making fun of you,
                    honest!</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span
                    >Here&rsquo;s a visualisation tool which will help, if you
                    still don&rsquo;t get things: </span
                ><span class="c29"
                    ><a
                        class="c17"
                        href="https://www.google.com/url?q=https://www.cs.usfca.edu/~galles/visualization/BPlusTree.html&amp;sa=D&amp;source=editors&amp;ust=1623779904293000&amp;usg=AOvVaw0F2N2pdE6FkRntsS29gBq4"
                        >https://www.cs.usfca.edu/~galles/visualization/BPlusTree.html</a
                    ></span
                >
            </li>
        </ul>
        <h2 class="c11" id="h.m7xxn5v4lkra-10">
            <span class="c68 c63">Hash tables</span>
        </h2>
        <ul class="c10 lst-kix_k6tcdgo2ynla-0 start">
            <li class="c4 li-bullet-0">
                <span
                    >If you don&rsquo;t remember hash tables, read the
                    &ldquo;</span
                ><span class="c29"
                    ><a
                        class="c17"
                        href="https://www.google.com/url?q=https://docs.google.com/document/d/1Rtvi2EFu4Kmtd5AotXb7mVc0t7wRucnMACxR2rmcis0/edit%23heading%3Dh.rx31q085omp3&amp;sa=D&amp;source=editors&amp;ust=1623779904294000&amp;usg=AOvVaw353_DE5Q_5oEVD2U-Vebjk"
                        >Make a hash of it</a
                    ></span
                ><span class="c0">&rdquo; section in Algorithmics.</span>
            </li>
            <li class="c4 li-bullet-0">
                <span
                    >If you&rsquo;re lazy and don&rsquo;t want to open up
                    another tab, a hash uses a </span
                ><span class="c13">hash function </span><span>h()</span
                ><span
                    >&nbsp;which takes a key and computes an integer value,
                    which determines which </span
                ><span class="c13">bucket </span><span>to pick from a </span
                ><span class="c13">bucket array</span
                ><span>, which stores records.</span>
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_k6tcdgo2ynla-0">
            <li class="c4 li-bullet-0">
                <span>With </span><span class="c13">main memory </span
                ><span class="c0"
                    >hash tables, the bucket array contains linked lists of
                    records, so once you have your bucket you search through the
                    list until you find the record you&rsquo;re looking
                    for.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span>With </span><span class="c13">secondary storage </span
                ><span class="c0"
                    >hash tables, the bucket array consists of disk blocks,
                    making it more compatible with storage devices.</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_k6tcdgo2ynla-0">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >There&rsquo;s two approaches to hash tables:</span
                >
            </li>
        </ul>
        <ol class="c10 lst-kix_fyswajkgtsvz-0 start" start="1">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >The hash function calculates the block pointer directly, or
                    as an offset from the first block.</span
                >
            </li>
        </ol>
        <ul class="c10 lst-kix_ezdsjg7l4o8j-0 start">
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >The bucket block must be in fixed, consecutive
                    locations</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 304px;
                    height: 239.41px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image112.png"
                    style="
                        width: 304px;
                        height: 239.41px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ol class="c10 lst-kix_fyswajkgtsvz-0" start="2">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >The hash function calculates the offset in an array of
                    block pointers.</span
                >
            </li>
        </ol>
        <ul class="c10 lst-kix_u79q2iajwm9o-0 start">
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >It&rsquo;s used for secondary search keys</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 300.66px;
                    height: 228.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image130.png"
                    style="
                        width: 300.66px;
                        height: 228.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_go1kpz5tn87o-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >A good hash function has the same expected number of keys
                    for each bucket, so a key has an even chance of being in any
                    of the buckets.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Keys usually aren&rsquo;t sorted, but they can be if CPU
                    time is critical and there aren&rsquo;t many insertions /
                    deletions.</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_go1kpz5tn87o-0">
            <li class="c4 li-bullet-0">
                <span class="c0">Here&rsquo;s an example:</span>
            </li>
        </ul>
        <a id="t.8d0110630b64b45b740b7cf1c23990e00c39fc7d"></a><a id="t.17"></a>
        <table class="c38">
            <tbody>
                <tr class="c43">
                    <td class="c36 c51" colspan="1" rowspan="1">
                        <p class="c40">
                            <span class="c28 c13">Hash so far</span>
                        </p>
                    </td>
                    <td class="c36 c51" colspan="1" rowspan="1">
                        <p class="c40">
                            <span class="c28 c13">Operation + Explanation</span>
                        </p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c40">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 131.21px;
                                    height: 230.88px;
                                "
                                ><img
                                    alt=""
                                    src="assets/advanced-databases-part-i/image41.png"
                                    style="
                                        width: 131.21px;
                                        height: 230.88px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c5"><span class="c57 c13">Nothing</span></p>
                        <p class="c5 c7"><span class="c3"></span></p>
                        <p class="c5">
                            <span class="c0"
                                >We haven&rsquo;t done anything so far.</span
                            >
                        </p>
                        <p class="c5 c7"><span class="c0"></span></p>
                        <p class="c5">
                            <span class="c0"
                                >Ah alright; if you really want to be pedantic
                                about it, we&rsquo;ve initialised our hash table
                                with 4 buckets, containing 2 records per
                                bucket.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c40">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 131.21px;
                                    height: 230.88px;
                                "
                                ><img
                                    alt=""
                                    src="assets/advanced-databases-part-i/image23.png"
                                    style="
                                        width: 131.21px;
                                        height: 230.88px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c5">
                            <span class="c57 c13">Insert a, b, c, d</span>
                        </p>
                        <p class="c5 c7"><span class="c52"></span></p>
                        <p class="c5"><span class="c0">h(a) = 1</span></p>
                        <p class="c5"><span class="c0">h(b) = 2</span></p>
                        <p class="c5"><span class="c0">h(c) = 1</span></p>
                        <p class="c5"><span class="c0">h(d) = 0</span></p>
                        <p class="c5 c7"><span class="c0"></span></p>
                        <p class="c5">
                            <span class="c0"
                                >For each key, we hash it using the values above
                                and we &ldquo;append&rdquo; that key (or record)
                                to the associated bucket.</span
                            >
                        </p>
                        <p class="c5 c7"><span class="c0"></span></p>
                        <p class="c5">
                            <span
                                >For example, when we hash &lsquo;a&rsquo; into
                                &lsquo;1&rsquo;, we look up the bucket labelled
                                &lsquo;1&rsquo; and insert our key
                                &lsquo;a&rsquo; there.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c40">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 238.5px;
                                    height: 210.06px;
                                "
                                ><img
                                    alt=""
                                    src="assets/advanced-databases-part-i/image101.png"
                                    style="
                                        width: 238.5px;
                                        height: 210.06px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c5"><span class="c13 c57">Insert e</span></p>
                        <p class="c5 c7"><span class="c52"></span></p>
                        <p class="c5"><span class="c0">h(e) = 1</span></p>
                        <p class="c5 c7"><span class="c0"></span></p>
                        <p class="c5">
                            <span class="c0"
                                >Like above, we try to insert &lsquo;e&rsquo;
                                into bucket &lsquo;1&rsquo; according to the
                                hash function.</span
                            >
                        </p>
                        <p class="c5 c7"><span class="c0"></span></p>
                        <p class="c5">
                            <span class="c0"
                                >However, bucket &lsquo;1&rsquo; is full,
                                therefore we add an overflow bucket to extend
                                the capacity of bucket &lsquo;1&rsquo;. We then
                                put &lsquo;e&rsquo; into that overflow
                                bucket.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c40">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 238.5px;
                                    height: 211.59px;
                                "
                                ><img
                                    alt=""
                                    src="assets/advanced-databases-part-i/image53.png"
                                    style="
                                        width: 238.5px;
                                        height: 211.59px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c5"><span class="c57 c13">Delete b</span></p>
                        <p class="c5 c7"><span class="c52"></span></p>
                        <p class="c5">
                            <span
                                >When we delete a key, we can just remove it
                                from the bucket. If there were any keys after
                                it, we can just move them up the bucket.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c40">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 131.21px;
                                    height: 230.88px;
                                "
                                ><img
                                    alt=""
                                    src="assets/advanced-databases-part-i/image83.png"
                                    style="
                                        width: 131.21px;
                                        height: 230.88px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c5"><span class="c57 c13">Delete c</span></p>
                        <p class="c5 c7"><span class="c52"></span></p>
                        <p class="c5">
                            <span
                                >By deleting &lsquo;c&rsquo;, we&rsquo;re
                                freeing space for &lsquo;e&rsquo; in the bucket
                                it&rsquo;s leading from, so we can move
                                &lsquo;e&rsquo; from the overflow bucket to the
                                original bucket and remove the overflow
                                bucket.</span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c7 c8"><span class="c0"></span></p>
        <ul class="c10 lst-kix_xowzviqywl30-0 start">
            <li class="c4 li-bullet-0">
                <span class="c13">Utilisation</span
                ><span>: number of keys used </span><span>/</span
                ><span class="c0">&nbsp;total capacity of the bucket</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Space utilisation should be between 50% and 80%</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >This depends on how good the hash function is and on the
                    ratio of the number of keys to buckets.</span
                >
            </li>
        </ul>
        <p class="c40">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 468.03px;
                    height: 179.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image62.png"
                    style="
                        width: 468.03px;
                        height: 179.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_yqdw7nskctm6-0 start">
            <li class="c4 li-bullet-0">
                <span>We cope with overflows and reorganisations using </span
                ><span class="c13">dynamic hashing</span
                ><span class="c0">.</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0">Dynamic hashing comes in two flavours:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_yqdw7nskctm6-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c28 c13">Extensible</span>
            </li>
            <li class="c8 c15 li-bullet-0"><span class="c13">Linear</span></li>
        </ul>
        <h3 class="c34" id="h.s428llxnpnol"><span>Extensible hashing</span></h3>
        <ul class="c10 lst-kix_yqdw7nskctm6-0">
            <li class="c4 li-bullet-0">
                <span>We&rsquo;ll start with </span
                ><span class="c13">extensible </span
                ><span class="c0">hashing.</span>
            </li>
            <li class="c4 li-bullet-0">
                <span>The idea is that you use the most significant </span
                ><span>i</span
                ><span class="c0"
                    >&nbsp;bits of the key to direct the key into buckets.</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 245px;
                    height: 129.58px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image68.png"
                    style="
                        width: 245px;
                        height: 129.58px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 390.77px;
                    height: 275.33px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image97.png"
                    style="
                        width: 390.77px;
                        height: 275.33px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_icnygexjbmm1-0 start">
            <li class="c4 li-bullet-0">
                <span>The variable </span><span>i</span
                ><span class="c0"
                    >&nbsp;can increase if we need more buckets /
                    directories.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0">Here&rsquo;s an example:</span>
            </li>
        </ul>
        <a id="t.342b3c57a2c28cd9ba61ebcee7f0cca570f09d97"></a><a id="t.18"></a>
        <table class="c38">
            <tbody>
                <tr class="c43">
                    <td class="c36 c51" colspan="1" rowspan="1">
                        <p class="c40">
                            <span class="c28 c13">Hash so far + Operation</span>
                        </p>
                    </td>
                    <td class="c36 c51" colspan="1" rowspan="1">
                        <p class="c40">
                            <span class="c28 c13">Operation + Explanation</span>
                        </p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c9">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 128.43px;
                                "
                                ><img
                                    alt=""
                                    src="assets/advanced-databases-part-i/image60.png"
                                    style="
                                        width: 286px;
                                        height: 128.43px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c5"><span class="c57 c13">Nothing</span></p>
                        <p class="c5 c7"><span class="c3"></span></p>
                        <p class="c5">
                            <span>The variable </span><span>i</span
                            ><span
                                >&nbsp;is just 1, and we have three keys.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c36 c59" colspan="1" rowspan="1">
                        <p class="c9">
                            <span class="c47">Increase </span
                            ><span class="c47">i</span
                            ><span class="c74 c47 c63">&nbsp;to 2</span>
                        </p>
                        <p class="c9">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 144.08px;
                                "
                                ><img
                                    alt=""
                                    src="assets/advanced-databases-part-i/image54.png"
                                    style="
                                        width: 286px;
                                        height: 144.08px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                        <p class="c9">
                            <span class="c47 c63 c74"
                                >Partition &ldquo;10&rdquo; and &ldquo;11&rdquo;
                                into different buckets</span
                            >
                        </p>
                        <p class="c9">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 195.88px;
                                "
                                ><img
                                    alt=""
                                    src="assets/advanced-databases-part-i/image95.png"
                                    style="
                                        width: 286px;
                                        height: 195.88px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                        <p class="c9">
                            <span class="c74 c47 c63"
                                >Add &ldquo;1010&rdquo; to the &ldquo;10&rdquo;
                                bucket</span
                            >
                        </p>
                        <p class="c9">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 195.88px;
                                "
                                ><img
                                    alt=""
                                    src="assets/advanced-databases-part-i/image74.png"
                                    style="
                                        width: 286px;
                                        height: 195.88px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c36 c59" colspan="1" rowspan="1">
                        <p class="c5">
                            <span class="c57 c13">Insert 1010</span>
                        </p>
                        <p class="c5 c7"><span class="c3"></span></p>
                        <p class="c5">
                            <span class="c0"
                                >To insert 1010, we could just put 1010 into the
                                &lsquo;1&rsquo; directory. However, that
                                directory is full.</span
                            >
                        </p>
                        <p class="c5 c7"><span class="c0"></span></p>
                        <p class="c5">
                            <span>Therefore we need to increase </span
                            ><span>i</span
                            ><span class="c0">&nbsp;from 1 to 2.</span>
                        </p>
                        <p class="c5 c7"><span class="c0"></span></p>
                        <p class="c5">
                            <span
                                >Then we partition &ldquo;10&rdquo; and
                                &ldquo;11&rdquo; into different buckets, leaving
                                us with enough space to put &ldquo;1010&rdquo;
                                into the &ldquo;10&rdquo; bucket.</span
                            >
                        </p>
                        <p class="c5 c7"><span class="c57 c13"></span></p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c9">
                            <span class="c74 c47 c63"
                                >Add &ldquo;0111&rdquo; to the &ldquo;01&rdquo;
                                bucket</span
                            >
                        </p>
                        <p class="c9">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 195.88px;
                                "
                                ><img
                                    alt=""
                                    src="assets/advanced-databases-part-i/image24.png"
                                    style="
                                        width: 286px;
                                        height: 195.88px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c5">
                            <span class="c57 c13">Insert 0111</span>
                        </p>
                        <p class="c5 c7"><span class="c3"></span></p>
                        <p class="c5">
                            <span class="c0"
                                >Since the &ldquo;01&rdquo; bucket has enough
                                space for one more key, we can place
                                &ldquo;0111&rdquo; into the &ldquo;01&rdquo;
                                bucket.</span
                            >
                        </p>
                        <p class="c5 c7"><span class="c0"></span></p>
                        <p class="c5">
                            <span
                                >It just so happens that &ldquo;00&rdquo; and
                                &ldquo;01&rdquo; share the same bucket. However,
                                if we need to add one more key they&rsquo;ll
                                need their own buckets.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c36 c59" colspan="1" rowspan="1">
                        <p class="c9">
                            <span class="c74 c47 c63"
                                >Partition &ldquo;00&rdquo; and &ldquo;01&rdquo;
                                into different buckets</span
                            >
                        </p>
                        <p class="c9">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 261.72px;
                                "
                                ><img
                                    alt=""
                                    src="assets/advanced-databases-part-i/image35.png"
                                    style="
                                        width: 286px;
                                        height: 261.72px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                        <p class="c9">
                            <span class="c74 c47 c63"
                                >Add &ldquo;0000&rdquo; to the &ldquo;00&rdquo;
                                bucket</span
                            >
                        </p>
                        <p class="c9">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 261.72px;
                                "
                                ><img
                                    alt=""
                                    src="assets/advanced-databases-part-i/image66.png"
                                    style="
                                        width: 286px;
                                        height: 261.72px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c36 c59" colspan="1" rowspan="1">
                        <p class="c5">
                            <span class="c57 c13">Insert 0000</span>
                        </p>
                        <p class="c5 c7"><span class="c3"></span></p>
                        <p class="c5">
                            <span class="c0"
                                >Speak of the devil! There isn&rsquo;t enough
                                space in the &ldquo;00&rdquo; bucket, so
                                we&rsquo;ll need to split &ldquo;00&rdquo; and
                                &ldquo;01&rdquo; into their own buckets.</span
                            >
                        </p>
                        <p class="c5 c7"><span class="c0"></span></p>
                        <p class="c5">
                            <span
                                >Then we&rsquo;ll have enough space to put 0000
                                into the &ldquo;00&rdquo; bucket.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c36 c109" colspan="1" rowspan="1">
                        <p class="c9">
                            <span class="c47">Increase </span
                            ><span class="c47">i</span
                            ><span class="c74 c47 c63">&nbsp;to 3</span>
                        </p>
                        <p class="c9">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 262.26px;
                                "
                                ><img
                                    alt=""
                                    src="assets/advanced-databases-part-i/image32.png"
                                    style="
                                        width: 286px;
                                        height: 262.26px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                        <p class="c9">
                            <span class="c74 c47 c63"
                                >Partitioning &ldquo;100&rdquo; and
                                &ldquo;101&rdquo; into different blocks</span
                            >
                        </p>
                        <p class="c9">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 330.25px;
                                "
                                ><img
                                    alt=""
                                    src="assets/advanced-databases-part-i/image85.png"
                                    style="
                                        width: 286px;
                                        height: 330.25px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                        <p class="c9">
                            <span class="c74 c47 c63"
                                >Add &ldquo;1001&rdquo; to the &ldquo;100&rdquo;
                                bucket</span
                            >
                        </p>
                        <p class="c9">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 330.25px;
                                "
                                ><img
                                    alt=""
                                    src="assets/advanced-databases-part-i/image136.png"
                                    style="
                                        width: 286px;
                                        height: 330.25px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c36 c109" colspan="1" rowspan="1">
                        <p class="c5">
                            <span class="c57 c13">Insert 1001</span>
                        </p>
                        <p class="c5 c7"><span class="c3"></span></p>
                        <p class="c5">
                            <span class="c0"
                                >Don&rsquo;t worry, this is the last
                                operation!</span
                            >
                        </p>
                        <p class="c5 c7"><span class="c0"></span></p>
                        <p class="c5">
                            <span class="c0"
                                >If we look at bucket &ldquo;10&rdquo;,
                                we&rsquo;ll see it&rsquo;s full again.</span
                            >
                        </p>
                        <p class="c5 c7"><span class="c0"></span></p>
                        <p class="c5">
                            <span>Like last time, we need to increment </span
                            ><span>i</span><span class="c0">&nbsp;to 3.</span>
                        </p>
                        <p class="c5 c7"><span class="c0"></span></p>
                        <p class="c5">
                            <span class="c0"
                                >&ldquo;100&rdquo; and &ldquo;101&rdquo; will
                                then share a bucket. We will split that into
                                two, so &ldquo;100&rdquo; and &ldquo;101&rdquo;
                                will have their own buckets.</span
                            >
                        </p>
                        <p class="c5 c7"><span class="c0"></span></p>
                        <p class="c5">
                            <span class="c0"
                                >We will then have enough space in bucket
                                &ldquo;100&rdquo; to put 1001 in.</span
                            >
                        </p>
                        <p class="c5 c7"><span class="c0"></span></p>
                        <p class="c5">
                            <span
                                >Duplicate keys are allowed, in case you were
                                wondering.</span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_pl55b8w28y9x-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0">What about deleting?</span>
            </li>
            <li class="c4 li-bullet-0">
                <span
                    >It&rsquo;s much of the same, however you don&rsquo;t </span
                ><span class="c70">need</span
                ><span class="c0"
                    >&nbsp;to merge the blocks back together.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >However it&rsquo;s good to do so when possible to save
                    space.</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_pl55b8w28y9x-0">
            <li class="c4 li-bullet-0">
                <span
                    >When the bucket is full, you don&rsquo;t have to increment </span
                ><span>i</span><span class="c0">.</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0">You can just use an overflow chain:</span>
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 456.72px;
                    height: 156.23px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image31.png"
                    style="
                        width: 456.72px;
                        height: 156.23px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_hxfjtlmuytbh-0 start">
            <li class="c4 li-bullet-0">
                <span>Extensible hashing uses </span
                ><span class="c13">indirection</span
                ><span class="c0">, because directories point to buckets.</span>
            </li>
            <li class="c4 li-bullet-0">
                <span
                    >It can handle growing files, however the directory doubles
                    with every </span
                ><span>i</span><span class="c0">&nbsp;increment.</span>
            </li>
            <li class="c4 li-bullet-0">
                <span
                    >Let&rsquo;s just say you have some really big keys and </span
                ><span>i</span><span class="c0">&nbsp;ends up being 42.</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0">How many directories will you need?</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0">2^42 = 4,398,046,511,104</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >If we store a byte for each directory, that&rsquo;s over 4
                    terabytes...</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Linear hashing aims to solve this problem.</span
                >
            </li>
        </ul>
        <h3 class="c34" id="h.quldkjelf6jq">
            <span class="c6">Linear hashing</span>
        </h3>
        <ul class="c10 lst-kix_yuv0tn59xht7-0 start">
            <li class="c4 li-bullet-0">
                <span
                    >Linear hashing is slightly different, as it uses the first </span
                ><span>i</span
                ><span class="c0"
                    >&nbsp;least significant bits of the key.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >The hash file grows incrementally and linearly, unlike
                    extensible hashing which doubles.</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 245px;
                    height: 129.31px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image64.png"
                    style="
                        width: 245px;
                        height: 129.31px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_j9ooipob2nrs-0 start">
            <li class="c4 li-bullet-0">
                <span>We also have a value </span><span>n</span
                ><span class="c0"
                    >, which is the highest value bucket we have (which is also
                    the number of buckets we have)</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_j9ooipob2nrs-0">
            <li class="c4 li-bullet-0">
                <span>Let&rsquo;s just say we have a key </span><span>K</span
                ><span class="c0">&nbsp;that we want to add.</span>
            </li>
            <li class="c4 li-bullet-0">
                <span>Let&rsquo;s also say that </span><span>m</span
                ><span>&nbsp;is the last </span><span>i</span
                ><span>&nbsp;bits of </span><span>K</span
                ><span>. In other words, we need to add key </span><span>K</span
                ><span>&nbsp;to bucket </span><span>m</span
                ><span class="c0">.</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_j9ooipob2nrs-1 start">
            <li class="c8 c15 li-bullet-0">
                <span>So, for example, if </span><span>K = 01</span
                ><span class="c69">11</span><span>&nbsp;and </span
                ><span>i = 2</span><span>, then </span><span>m = </span
                ><span class="c65 c69 c63 c104">11</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_j9ooipob2nrs-0">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >If m &lt; n, then the bucket m exists and we can add K to
                    that bucket. No problem!</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span>However, if n &le; m &lt; 2</span
                ><span class="c72">i</span
                ><span
                    >, bucket m does not exist, so we add it to bucket m -
                    2</span
                ><span class="c72">i-1</span
                ><span class="c0"
                    >, which is the same as flipping the most significant
                    bit.</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_j9ooipob2nrs-1 start">
            <li class="c8 c15 li-bullet-0">
                <span
                    >With our previous example, if m = 11 and n = 01, we&rsquo;d
                    put key K into bucket 01, which is the same as flipping
                    m&rsquo;s most significant bit: </span
                ><span class="c42">1</span><span>1 &rarr; </span
                ><span class="c42">0</span><span class="c0">1</span>
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_j9ooipob2nrs-0">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >If we run out of space, we can grow an extra bucket by
                    incrementing &lsquo;n&rsquo;.</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_j9ooipob2nrs-0">
            <li class="c4 li-bullet-0">
                <span class="c0">Still don&rsquo;t really get it?</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0">Here&rsquo;s a more visual example:</span>
            </li>
        </ul>
        <a id="t.0913670aef443c5fdc55bc4afb19c4e1d0f077a7"></a><a id="t.19"></a>
        <table class="c38">
            <tbody>
                <tr class="c43">
                    <td class="c36 c51" colspan="1" rowspan="1">
                        <p class="c40">
                            <span class="c28 c13">Hash so far + Operation</span>
                        </p>
                    </td>
                    <td class="c36 c51" colspan="1" rowspan="1">
                        <p class="c40">
                            <span class="c28 c13">Operation + Explanation</span>
                        </p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c9">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 194px;
                                    height: 183.5px;
                                "
                                ><img
                                    alt=""
                                    src="assets/advanced-databases-part-i/image8.png"
                                    style="
                                        width: 194px;
                                        height: 183.5px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c5"><span class="c57 c13">Nothing</span></p>
                        <p class="c5 c7"><span class="c3"></span></p>
                        <p class="c5">
                            <span class="c0"
                                >Here we have a linear hash where i = 2, and the
                                maximum value bucket we have is 01 (n).</span
                            >
                        </p>
                        <p class="c5 c7"><span class="c0"></span></p>
                        <p class="c5">
                            <span class="c0"
                                >The bold numbers underneath the blue buckets
                                are the bucket values.</span
                            >
                        </p>
                        <p class="c5 c7"><span class="c0"></span></p>
                        <p class="c5">
                            <span class="c0"
                                >If we find a value of m equal to a bucket value
                                or a number underneath a bucket value, the key
                                will be added to that bucket.</span
                            >
                        </p>
                        <p class="c5 c7"><span class="c0"></span></p>
                        <p class="c5">
                            <span
                                >As you can see on the left, for example, 11 is
                                underneath bucket value 01, so 01</span
                            ><span class="c82">01</span
                            ><span
                                >&nbsp;will redirect to bucket 01, and 11</span
                            ><span class="c82">11</span
                            ><span
                                >&nbsp;will be redirected to bucket 01 (see the
                                case for n &le; m &lt; 2</span
                            ><span class="c72">i</span
                            ><span class="c0">&nbsp;above)</span>
                        </p>
                        <p class="c5 c7"><span class="c0"></span></p>
                        <p class="c5">
                            <span
                                >In a way, the pairs 00, 10 and 01, 11
                                &ldquo;share&rdquo; buckets, a bit like how
                                extensible hashing shared buckets.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c36 c59" colspan="1" rowspan="1">
                        <p class="c9">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 175.5px;
                                "
                                ><img
                                    alt=""
                                    src="assets/advanced-databases-part-i/image122.png"
                                    style="
                                        width: 286px;
                                        height: 175.5px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c36 c59" colspan="1" rowspan="1">
                        <p class="c5">
                            <span class="c57 c13">Increment n</span>
                        </p>
                        <p class="c5 c7"><span class="c3"></span></p>
                        <p class="c5">
                            <span class="c0"
                                >If our buckets get too crowded, we can add a
                                new bucket. This is similar to that partitioning
                                / splitting thing we did with extensible
                                hashing.</span
                            >
                        </p>
                        <p class="c5 c7"><span class="c0"></span></p>
                        <p class="c5">
                            <span
                                >Here we give &ldquo;10&rdquo; its own bucket,
                                so now we can move all the keys where m = 10
                                over to the new 10 bucket.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c9">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 263.5px;
                                "
                                ><img
                                    alt=""
                                    src="assets/advanced-databases-part-i/image80.png"
                                    style="
                                        width: 286px;
                                        height: 263.5px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c5">
                            <span class="c57 c13">Insert 0101</span>
                        </p>
                        <p class="c5 c7"><span class="c3"></span></p>
                        <p class="c5">
                            <span>If the key K = 01</span
                            ><span class="c69">01</span
                            ><span>&nbsp;and i = 2, then m = </span
                            ><span class="c69">01</span
                            ><span class="c0"
                                >. This should go into bucket 01.</span
                            >
                        </p>
                        <p class="c5 c7"><span class="c0"></span></p>
                        <p class="c5">
                            <span
                                >Since it&rsquo;s full, we can use an overflow
                                block.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c36 c59" colspan="1" rowspan="1">
                        <p class="c9">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 137.95px;
                                "
                                ><img
                                    alt=""
                                    src="assets/advanced-databases-part-i/image56.png"
                                    style="
                                        width: 286px;
                                        height: 137.95px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c36 c59" colspan="1" rowspan="1">
                        <p class="c5">
                            <span class="c57 c13">Increment n</span>
                        </p>
                        <p class="c5 c7"><span class="c3"></span></p>
                        <p class="c5">
                            <span class="c0"
                                >If we increment n, we&rsquo;re giving 11 their
                                own bucket. Therefore we can move the key 1111
                                to the new bucket 11.</span
                            >
                        </p>
                        <p class="c5 c7"><span class="c0"></span></p>
                        <p class="c5">
                            <span class="c0"
                                >With the new space available in bucket 01, we
                                can move 0101 out of the overflow block and into
                                the main block.</span
                            >
                        </p>
                        <p class="c5 c7"><span class="c0"></span></p>
                        <p class="c5">
                            <span
                                >However, now we&rsquo;ve reached the maximum
                                number of buckets we can create where i = 2. If
                                we want more, we need to increase i.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c36 c109" colspan="1" rowspan="1">
                        <p class="c9">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 130.5px;
                                "
                                ><img
                                    alt=""
                                    src="assets/advanced-databases-part-i/image138.png"
                                    style="
                                        width: 286px;
                                        height: 130.5px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c36 c109" colspan="1" rowspan="1">
                        <p class="c5">
                            <span class="c57 c13">Increment i</span>
                        </p>
                        <p class="c5 c7"><span class="c3"></span></p>
                        <p class="c5">
                            <span class="c0"
                                >Incrementing i doesn&rsquo;t change the
                                capacity per se, but it changes the potential
                                for capacity increase.</span
                            >
                        </p>
                        <p class="c5 c7"><span class="c0"></span></p>
                        <p class="c5">
                            <span
                                >As you can see the buckets are shared again;
                                notice that there are m = 101 keys in the 001
                                bucket or m = 111 keys in the 011 bucket, for
                                example.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c43">
                    <td class="c36 c59" colspan="1" rowspan="1">
                        <p class="c9">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 105.5px;
                                "
                                ><img
                                    alt=""
                                    src="assets/advanced-databases-part-i/image133.png"
                                    style="
                                        width: 286px;
                                        height: 105.5px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c36 c59" colspan="1" rowspan="1">
                        <p class="c5">
                            <span class="c57 c13"
                                >Increment n and insert 100</span
                            >
                        </p>
                        <p class="c5 c7"><span class="c3"></span></p>
                        <p class="c5">
                            <span class="c0"
                                >Now, there is space in the 000 bucket, so we
                                could just insert 100 in there, but let&rsquo;s
                                try to spread out our keys into different
                                buckets more.</span
                            >
                        </p>
                        <p class="c5 c7"><span class="c0"></span></p>
                        <p class="c5">
                            <span class="c0"
                                >When we add the 100 bucket, m = 000 and m = 100
                                no longer share the same bucket.</span
                            >
                        </p>
                        <p class="c5 c7"><span class="c0"></span></p>
                        <p class="c5">
                            <span
                                >Therefore we can now add 100 into its own 100
                                bucket.</span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_d4d572aryrk1-0 start">
            <li class="c4 li-bullet-0">
                <span>Sure, we know </span><span class="c47">how</span
                ><span>&nbsp;to increment i and n, but </span
                ><span class="c47">when</span
                ><span class="c0">&nbsp;do we do it?</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >It depends on the utilisation. There&rsquo;s usually a
                    threshold where, if utilisation exceeds it, file expansion
                    will occur.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >If things are getting a little crowded, consider increasing
                    n (and maybe i, if you&rsquo;ve reached the maximum number
                    of buckets)</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_d4d572aryrk1-0">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Linear hashing can handle growing files, meaning
                    there&rsquo;s less wasted space and no full reorganisations,
                    plus there&rsquo;s no indirection.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >However we can still have overflow chains.</span
                >
            </li>
        </ul>
        <h2 class="c11" id="h.d4xxsbrqou82">
            <span class="c68 c63">Indexing vs Hashing</span>
        </h2>
        <ul class="c10 lst-kix_l4o07j8puan5-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >So why should we use indexing / B+ trees over hash tables
                    and vice versa?</span
                >
            </li>
        </ul>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_l4o07j8puan5-0">
            <li class="c4 li-bullet-0">
                <span>We should use </span><span class="c13">hashing </span
                ><span>when we want an </span><span class="c13">exact </span
                ><span class="c0">value:</span>
            </li>
        </ul>
        <a id="t.7022606af33531b284915ed04ea47034764eb1eb"></a><a id="t.20"></a>
        <table class="c38">
            <tbody>
                <tr class="c43">
                    <td class="c50" colspan="1" rowspan="1">
                        <p class="c80">
                            <span class="c62">SELECT</span
                            ><span class="c22">&nbsp;...<br /></span
                            ><span class="c62">FROM</span
                            ><span class="c22">&nbsp;R<br /></span
                            ><span class="c62">WHERE</span
                            ><span class="c22">&nbsp;R.A = </span
                            ><span class="c98">5</span>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_pbmg6tjky0bp-0 start">
            <li class="c4 li-bullet-0">
                <span>We should use </span><span class="c13">indexing </span
                ><span>(including B-trees) when we want </span
                ><span class="c13">range </span
                ><span class="c0">searches:</span>
            </li>
        </ul>
        <a id="t.47549c4f09b12add5f98c503519825f50b62b6b1"></a><a id="t.21"></a>
        <table class="c38">
            <tbody>
                <tr class="c43">
                    <td class="c50" colspan="1" rowspan="1">
                        <p class="c80">
                            <span class="c62">SELECT</span
                            ><span class="c22">&nbsp;...<br /></span
                            ><span class="c62">FROM</span
                            ><span class="c22">&nbsp;R<br /></span
                            ><span class="c62">WHERE</span
                            ><span class="c22">&nbsp;R.A &gt; </span
                            ><span class="c98">5</span>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h1 class="c88" id="h.mjbylyfzlbu-11">
            <span class="c49">Multidimensional Access Structures</span>
        </h1>
        <ul class="c10 lst-kix_awarfy9lx6uz-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >So far, we&rsquo;ve only talked about one-dimensional
                    indexes.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >They only allowed us to query things one attribute at a
                    time:</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_awarfy9lx6uz-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Assume a single search key</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Require a single linear order for keys (B-trees)</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Require that the key be completely known for any lookup
                    (hash tables)</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_awarfy9lx6uz-0">
            <li class="c4 li-bullet-0">
                <span
                    >However, things could be more efficient for queries on
                    multiple attributes, such as </span
                ><span
                    >&ldquo;department=sales AND
                    salary=&pound;30,000&rdquo;</span
                ><span class="c0"
                    >, for example, if these indexes supported multidimensional
                    access.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >There are other advantages to multidimensional access
                    structures:</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_awarfy9lx6uz-1 start">
            <li class="c8 c15 li-bullet-0">
                <span>Partial match queries </span><span class="c56">(</span
                ><span class="c47 c56"
                    ><a
                        class="c17"
                        href="https://www.google.com/url?q=https://link.springer.com/article/10.1007/BF02679618&amp;sa=D&amp;source=editors&amp;ust=1623779904351000&amp;usg=AOvVaw1pBGUW0C7e_3PhHqm-mfxP"
                        >looking for relations that match values of some
                        attributes, not all attributes</a
                    ></span
                ><span class="c1">)</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span>Range queries </span
                ><span class="c1">(e.g. pay &gt; &pound;200)</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span>Nearest-neighbour queries </span
                ><span class="c1">(e.g. &ldquo;LIKE&rdquo; SQL statement)</span>
            </li>
        </ul>
        <h2 class="c11" id="h.6euro510okjh">
            <span class="c68 c63">Conventional indexes</span>
        </h2>
        <ul class="c10 lst-kix_k3lo5l452ap6-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >We can do queries like these already with the indexes
                    we&rsquo;ve previously looked at.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span>For example, let&rsquo;s look at the query </span
                ><span>department=sales and salary&gt;&pound;40,000</span
                ><span class="c0">.</span>
            </li>
        </ul>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_k3lo5l452ap6-0">
            <li class="c4 li-bullet-0">
                <span class="c0">There&rsquo;s three ways to do it:</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c28 c13">Approach #1</span>
            </li>
        </ul>
        <ol class="c10 lst-kix_brmgnwj5idgk-0 start" start="1">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Get all the matching records using an index on attribute
                    &ldquo;department&rdquo;</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Check values of &ldquo;salary&rdquo; attribute on those
                    records</span
                >
            </li>
        </ol>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 383.5px;
                    height: 126.13px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image111.png"
                    style="
                        width: 383.5px;
                        height: 126.13px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_k3lo5l452ap6-0">
            <li class="c4 li-bullet-0">
                <span class="c28 c13">Approach #2</span>
            </li>
        </ul>
        <ol class="c10 lst-kix_knupmf14iakq-0 start" start="1">
            <li class="c8 c15 li-bullet-0">
                <span
                    >Use index on attribute &ldquo;department&rdquo; and
                    &ldquo;salary&rdquo; separately for the two predicates </span
                ><span>department=sales</span><span>&nbsp;and </span
                ><span>salary&gt;&pound;40,000</span
                ><span class="c0">&nbsp;and get two sets of records</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span>Take the intersection of the two record sets </span
                ><span class="c1"
                    >(find records that are inside both sets)</span
                >
            </li>
        </ol>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 545.82px;
                    height: 108.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image81.png"
                    style="
                        width: 545.82px;
                        height: 108.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_k3lo5l452ap6-0">
            <li class="c4 li-bullet-0">
                <span class="c28 c13">Approach #3</span>
            </li>
        </ul>
        <ol class="c10 lst-kix_dq7xpw92huml-0 start" start="1">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Use the index of &ldquo;department&rdquo; to point us to a
                    suitable index on the &ldquo;salary&rdquo; attribute.</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Get all matching records of that &ldquo;salary&rdquo;
                    attribute index we were pointed to.</span
                >
            </li>
        </ol>
        <ul class="c10 lst-kix_5o0bt3q59x6w-0 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >This only works if we have multiple indexes for the same
                    attribute that handle records of different values.</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span
                    >For example, we could have three indexes for salary: </span
                ><span class="c27"
                    >one that handles records with the value
                    &ldquo;sales&rdquo;</span
                ><span>, </span
                ><span class="c55 c60"
                    >one that handles records with the value
                    &ldquo;research&rdquo;</span
                ><span>&nbsp;and </span
                ><span class="c42"
                    >one that handles records with the value
                    &ldquo;production&rdquo;</span
                ><span class="c0">.</span>
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 545.82px;
                    height: 302.83px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image21.png"
                    style="
                        width: 545.82px;
                        height: 302.83px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_eum4g5dhn1t1-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >So, what&rsquo;s wrong with that? We even have 3 different
                    ways of doing this with our normal conventional indexes. Can
                    I skip this chapter then?</span
                >
            </li>
            <li class="c4 li-bullet-0"><span class="c0">No!</span></li>
            <li class="c4 li-bullet-0">
                <span>It&rsquo;s not that there&rsquo;s anything </span
                ><span class="c70">wrong </span
                ><span class="c0"
                    >doing things this way, but if we want these kinds of
                    queries to work efficiently, we&rsquo;ll need to build our
                    indexes with certain queries in mind.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >The following access structures are designed to work better
                    with any kind of query and won&rsquo;t prejudice it in any
                    direction or another.</span
                >
            </li>
        </ul>
        <h2 class="c11" id="h.6euro510okjh-12">
            <span class="c68 c63">Hash-like</span>
        </h2>
        <h3 class="c66" id="h.w84svvndjifq">
            <span class="c6">Grid files</span>
        </h3>
        <ul class="c10 lst-kix_v96hkomvskhg-0 start">
            <li class="c4 li-bullet-0">
                <span>In a </span><span class="c13">grid file</span
                ><span class="c0"
                    >, we represent our schema as a grid, with the axis or
                    &ldquo;dimensions&rdquo; being the attributes.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >We then split the grid into rectangle partitions called
                    &ldquo;regions&rdquo; by defining ranges of
                    attributes.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >For example, an index with attributes &ldquo;salary&rdquo;
                    and &ldquo;age&rdquo; would look like:</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 261.16px;
                    height: 268.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image96.png"
                    style="
                        width: 261.16px;
                        height: 268.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_v96hkomvskhg-0">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >No, don&rsquo;t worry, your monitor is perfectly clean;
                    those black dots on the grid are records.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Each point on the grid can represent a record with specific
                    values for each attribute (or axis).</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >The region a record lies in can tell you about its
                    attributes; for example, a record being in the middle tells
                    you that their age is between 40 and 55, and their salary is
                    between &pound;20k and &pound;40k.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Regions also point to buckets, so records of the same
                    region are also stored in the same bucket.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >How do we know what ranges to split the grid into? Try
                    splitting it so that each region contains the same number of
                    records.</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_v96hkomvskhg-0">
            <li class="c4 li-bullet-0">
                <span class="c13">Pros</span><span class="c0">:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_v96hkomvskhg-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Good for multiple-key search</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Supports partial-match, range and nearest-neighbour
                    queries</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_v96hkomvskhg-0">
            <li class="c4 li-bullet-0">
                <span class="c13">Cons</span><span class="c0">:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_v96hkomvskhg-1 start">
            <li class="c8 c15 li-bullet-0">
                <span>Space, management overhead </span
                ><span class="c1"
                    >(nothing is free, basically space is expensive)</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span>Need partitioning ranges that evenly split keys </span
                ><span class="c1"
                    >(might take time to calculate, especially with databases
                    that already contain lots of records)</span
                >
            </li>
        </ul>
        <h3 class="c66" id="h.w84svvndjifq-13">
            <span class="c6">Partitioned hashing</span>
        </h3>
        <ul class="c10 lst-kix_8u1n4d47euen-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Before, we only hashed the record&rsquo;s key.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span>In </span><span class="c13">partitioned hashing</span
                ><span class="c0">, we can hash the attributes.</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >There are multiple hashes, because there are multiple
                    attributes.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >All the hash function outputs are appended together to get
                    one final hash</span
                >
            </li>
            <li class="c4 li-bullet-0"><span class="c0">Example:</span></li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 491.88px;
                    height: 435.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image108.png"
                    style="
                        width: 491.88px;
                        height: 435.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_xf7o1xlw7bgu-0 start">
            <li class="c4 li-bullet-0">
                <span class="c13">Pros</span><span class="c0">:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_xf7o1xlw7bgu-1 start">
            <li class="c8 c15 li-bullet-0">
                <span
                    >Good hash function will evenly distribute records between
                    buckets </span
                ><span class="c1"
                    >(something grid files can&rsquo;t do automatically)</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span>Supports partial-match queries </span
                ><span class="c1"
                    >(use wildcard in hash value, e.g. *11 for either sales or
                    research)</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_xf7o1xlw7bgu-0">
            <li class="c4 li-bullet-0">
                <span class="c13">Cons</span><span class="c0">:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_xf7o1xlw7bgu-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >No good for nearest-neighbour or range queries</span
                >
            </li>
        </ul>
        <h2 class="c11" id="h.2g9zgp80fn7u">
            <span class="c68 c63">Hierarchical indexes</span>
        </h2>
        <h3 class="c34" id="h.bme342v32pgd">
            <span class="c6">kd-trees</span>
        </h3>
        <ul class="c10 lst-kix_mbdqa76izm2q-0 start">
            <li class="c4 li-bullet-0">
                <span>A </span><span class="c13">kd-tree </span><span>is </span
                ><span class="c0"
                    >a multidimensional binary search tree that whittles down
                    the attribute values as you traverse down the tree.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span
                    >If you&rsquo;ve done machine learning, it&rsquo;s very
                    similar to </span
                ><span class="c29"
                    ><a
                        class="c17"
                        href="https://www.google.com/url?q=https://docs.google.com/document/d/16lxI1u8Ta5JpqGRcnzqce0uQSB5aqysYEiicF0iSIbs/edit%23bookmark%3Did.cmpsn8ed194k&amp;sa=D&amp;source=editors&amp;ust=1623779904362000&amp;usg=AOvVaw35lly1VBs667l7BEYxbQBo"
                        >decision trees</a
                    ></span
                ><span>&nbsp;and </span
                ><span class="c29"
                    ><a
                        class="c17"
                        href="https://www.google.com/url?q=https://docs.google.com/document/d/16lxI1u8Ta5JpqGRcnzqce0uQSB5aqysYEiicF0iSIbs/edit%23bookmark%3Did.8h67e0rma2qf&amp;sa=D&amp;source=editors&amp;ust=1623779904363000&amp;usg=AOvVaw0Q1dv-6HHhEWM_-qwTxnzz"
                        >random forest</a
                    ></span
                ><span class="c0">.</span>
            </li>
            <li class="c4 li-bullet-0">
                <span
                    >Each node splits an attribute into two halves to traverse
                    down using a predicate </span
                ><span class="c56">(e.g. age &gt; 30)</span
                ><span class="c0">.</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Nodes contain an attribute-value pair (for the predicate)
                    and two pointers to point to either more nodes or records
                    (leaves).</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >All nodes at the same level discriminate the same
                    attribute.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span
                    >The levels rotate between attributes of all dimensions </span
                ><span class="c56"
                    >(for each level you go down, the attributes that are
                    discriminated against are cycled through)</span
                ><span class="c0">.</span>
            </li>
            <li class="c4 li-bullet-0">
                <span
                    >Because a kd-tree is effectively just a bunch of attribute
                    ranges, it can be represented as a grid (not a grid </span
                ><span class="c47">file</span
                ><span class="c0">; that&rsquo;s different!).</span>
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 318.67px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image33.png"
                    style="
                        width: 602px;
                        height: 318.67px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_hsq0f3szduxa-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0">Any Linux users here?</span>
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 379.61px;
                    height: 183.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image40.png"
                    style="
                        width: 379.61px;
                        height: 183.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_73cp3rjsgd20-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Jokes aside, if we know the exact value of the attribute to
                    search for, we only need to go down one branch of the
                    tree.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >If we don&rsquo;t know the exact value (if the predicate
                    uses &lt;, &gt;, &lt;=, &gt;= etc.) we might need to go down
                    multiple branches.</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_73cp3rjsgd20-0">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Disk accesses should be kept as few as possible. If
                    we&rsquo;re trekking down paths, we might spend unnecessary
                    time reading!</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0">We can avoid this by:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_73cp3rjsgd20-1 start">
            <li class="c8 c15 li-bullet-0">
                <span>Multiway nodes </span
                ><span class="c1"
                    >(nodes split into more than just 2, so it&rsquo;s not a
                    binary tree anymore)</span
                >
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Group nodes into blocks</span>
            </li>
        </ul>
        <h3 class="c34" id="h.bme342v32pgd-14">
            <span class="c6">Quad trees</span>
        </h3>
        <ul class="c10 lst-kix_ttncex8tli15-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0">There are two kinds of quad trees:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_ttncex8tli15-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c13">Region </span
                ><span class="c0">quad-tree</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c13">Point </span><span class="c0">quad-tree</span>
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_ttncex8tli15-0">
            <li class="c4 li-bullet-0">
                <span>&nbsp;A </span><span class="c13">region quad-tree </span
                ><span class="c0"
                    >is like a grid file, but it partitions space into four
                    equal sub-regions: north east (NE), north west (NW), south
                    east (SE) and south west (SW).</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span
                    >We split the sub-regions even further if they contain more
                    records than will fit into a block </span
                ><span class="c56"
                    >(if they get too big and need splitting, basically)</span
                ><span class="c0">.</span>
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 314.67px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image72.png"
                    style="
                        width: 602px;
                        height: 314.67px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_8438019cn6u0-0 start">
            <li class="c4 li-bullet-0">
                <span>A </span><span class="c13">point quad-tree </span
                ><span class="c0"
                    >is similar, but the regions aren&rsquo;t split so evenly
                    and &ldquo;square&rdquo;.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >There&rsquo;s still NE, NW, SE and SW regions, but instead
                    a record is picked as the pivot and the region is quartered
                    with respect to that record position.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Apart from that, it&rsquo;s pretty much equivalent to the
                    region quad-tree.</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 318.67px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image110.png"
                    style="
                        width: 602px;
                        height: 318.67px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <h3 class="c34" id="h.bme342v32pgd-15">
            <span class="c6">R-trees</span>
        </h3>
        <ul class="c10 lst-kix_vyk8hjg039lr-0 start">
            <li class="c4 li-bullet-0">
                <span
                    >R-Trees use rectangles instead of ranges, hence the name </span
                ><span class="c13">R</span><span>ectangle-</span
                ><span class="c13">trees</span><span class="c0">.</span>
            </li>
            <li class="c4 li-bullet-0">
                <span
                    >Or, depending on the dimensions, they could be cuboids. Or
                    hyperrectangles. Or </span
                ><span class="c29"
                    ><a
                        class="c17"
                        href="https://www.google.com/url?q=https://en.wikipedia.org/wiki/Hyperrectangle&amp;sa=D&amp;source=editors&amp;ust=1623779904368000&amp;usg=AOvVaw0SHPDbONWprNPkaJI4u0Mb"
                        >n-orthotopes</a
                    ></span
                ><span class="c0">.</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Each region (or rectangle) represents a range of all
                    attributes of the index.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >It is represented by attribute values at the bottom left of
                    the rectangle and attribute values at the top right, so like
                    coordinates.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Regions can contain other regions. Regions that do not
                    contain any other regions are represented as
                    &ldquo;leaves&rdquo; in the tree structure.</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_vyk8hjg039lr-0">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >R-trees are the same as kd-trees and quad trees in the
                    sense that you start at the root and whittle down attribute
                    values as you go down, but instead you check if your query
                    can contain in any of the children regions. If so, go down
                    that path.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Like quad trees, every step you take in the R-tree, you are
                    querying every attribute at once, as opposed to kd-trees
                    where each level only queries one attribute.</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 456.32px;
                    height: 402.68px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image55.png"
                    style="
                        width: 456.32px;
                        height: 402.68px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 413.5px;
                    height: 393.25px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image129.png"
                    style="
                        width: 413.5px;
                        height: 393.25px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <h3 class="c34" id="h.bme342v32pgd-16">
            <span class="c6">UB-trees</span>
        </h3>
        <ul class="c10 lst-kix_4y8h8gl2hlaq-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0">UB-trees work by:</span>
            </li>
        </ul>
        <ol class="c10 lst-kix_1cgijirdug8q-0 start" start="1">
            <li class="c8 c15 li-bullet-0">
                <span
                    >Mapping n-dimensional space onto a 1-dimensional line using
                    a fractal space-filling curve (</span
                ><span class="c29"
                    ><a
                        class="c17"
                        href="https://www.google.com/url?q=https://en.wikipedia.org/wiki/Hilbert_curve&amp;sa=D&amp;source=editors&amp;ust=1623779904370000&amp;usg=AOvVaw3js8QGOepOuWLYEtGjwd4T"
                        >Hilbert curve</a
                    ></span
                ><span>, </span
                ><span class="c29"
                    ><a
                        class="c17"
                        href="https://www.google.com/url?q=https://en.wikipedia.org/wiki/Moore_curve&amp;sa=D&amp;source=editors&amp;ust=1623779904370000&amp;usg=AOvVaw1Q9730mEsxEOmkgqnCQ_ep"
                        >Moore curve</a
                    ></span
                ><span>, </span
                ><span class="c29"
                    ><a
                        class="c17"
                        href="https://www.google.com/url?q=https://en.wikipedia.org/wiki/Z-order_curve&amp;sa=D&amp;source=editors&amp;ust=1623779904371000&amp;usg=AOvVaw0D1lWxT90pYJmPGf5AYvCf"
                        >Z-order curve</a
                    ></span
                ><span class="c0">&nbsp;etc.)</span>
            </li>
        </ol>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 281px;
                    height: 281px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image76.png"
                    style="
                        width: 281px;
                        height: 281px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ol class="c10 lst-kix_gmm70e98bz63-0 start" start="2">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Partitioning the ranges (called Z-regions) and indexes
                    (called Z-indexes) of the curve using a B+ tree. The leaves
                    of the B+ tree represent these Z-regions, and point to the
                    records that lie within that Z-region.</span
                >
            </li>
        </ol>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 272px;
                    height: 272px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image86.png"
                    style="
                        width: 272px;
                        height: 272px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ol class="c10 lst-kix_mkli3k42aqmr-0 start" start="3">
            <li class="c8 c15 li-bullet-0">
                <span>Turning the query into a query rectangle </span
                ><span class="c1"
                    >(a rectangle covering several Z-indexes. A record shall
                    satisfy the query if its Z-index is inside the query
                    rectangle)</span
                >
            </li>
        </ol>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 277.59px;
                    height: 277.59px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image48.png"
                    style="
                        width: 277.59px;
                        height: 277.59px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ol class="c10 lst-kix_mkli3k42aqmr-0" start="4">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Look for Z-regions that intersect the query rectangle</span
                >
            </li>
        </ol>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 277.59px;
                    height: 276.7px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image100.png"
                    style="
                        width: 277.59px;
                        height: 276.7px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_4x6yemlcsxwg-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Once we have those regions, we can pick out the records we
                    need by removing them from the B+ tree and heavily reducing
                    the amount of tree search we need to do.</span
                >
            </li>
        </ul>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_n3jis3560j99-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >To make this work, you need to define two algorithms:</span
                >
            </li>
        </ul>
        <ol class="c10 lst-kix_mhrrkwbiub0j-0 start" start="1">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >A mapping of a multi-dimensional point (record) to a
                    Z-index</span
                >
            </li>
        </ol>
        <ul class="c10 lst-kix_dymggadypuah-0 start">
            <li class="c8 c14 li-bullet-0">
                <span class="c0"
                    >This can be achieved by interleaving bits of the
                    attributes, which will result in this Z-order curve.</span
                >
            </li>
            <li class="c8 c14 li-bullet-0">
                <span>Attribute 1 = </span><span class="c42">x</span
                ><span class="c42 c54">1</span><span class="c42">x</span
                ><span class="c42 c54">2</span><span class="c42">x</span
                ><span class="c42 c63 c54 c65">3</span>
            </li>
            <li class="c8 c14 li-bullet-0">
                <span>Attribute 2 = </span><span class="c55 c60">y</span
                ><span class="c54 c55 c60">1</span><span class="c55 c60">y</span
                ><span class="c54 c55 c60">2</span><span class="c55 c60">y</span
                ><span class="c65 c63 c54 c55 c60">3</span>
            </li>
            <li class="c8 c14 li-bullet-0">
                <span>Z-index = </span><span class="c55 c60">y</span
                ><span class="c54 c55 c60">1</span><span class="c42">x</span
                ><span class="c42 c54">1</span><span class="c55 c60">y</span
                ><span class="c54 c55 c60">2</span><span class="c42">x</span
                ><span class="c42 c54">2</span><span class="c55 c60">y</span
                ><span class="c54 c55 c60">3</span><span class="c42">x</span
                ><span class="c65 c42 c63 c54">3</span>
            </li>
        </ul>
        <ol class="c10 lst-kix_mhrrkwbiub0j-0" start="2">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >How to determine which Z-regions intersect the query
                    rectangle</span
                >
            </li>
        </ol>
        <p class="c8 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_4b7hsjf1qvi6-0 start">
            <li class="c4 li-bullet-0">
                <span>For a bit more info on UB-trees, </span
                ><span class="c29"
                    ><a
                        class="c17"
                        href="https://www.google.com/url?q=http://www.scholarpedia.org/article/B-tree_and_UB-tree%23UB-trees_for_Multidimensional_Applications&amp;sa=D&amp;source=editors&amp;ust=1623779904376000&amp;usg=AOvVaw2iGi0lpcDNR2l26x2tsql4"
                        >go here</a
                    ></span
                ><span>.</span>
            </li>
        </ul>
        <h2 class="c11" id="h.levh41p3v1go">
            <span class="c68 c63">Bitmap indexes</span>
        </h2>
        <ul class="c10 lst-kix_raxy5ojs013u-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Bitmap indexes are collections of bit-vectors used to index
                    attributes among a group of records.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Each column is a record, and each row is an
                    attribute.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >You can think of it more like a bit matrix than a
                    collection of vectors.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Here, an example really helps with understanding bitmap
                    indexes. Here&rsquo;s one from the slides about an online
                    homeware vendor:</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_raxy5ojs013u-0">
            <li class="c4 li-bullet-0">
                <span class="c0">Products p3 and p5 cost &pound;100</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0">Product p1 costs &pound;200</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0">Products p2, p7 and p10 cost &pound;300</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Products p4, p6, p8 and p9 cost &pound;400</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Products p1, p4, p5 and p9 are designed for lounges</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Products p5 and p7 are designed for dining rooms</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Products p3, p5, p6 and p10 are designed for kitchens</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 445.78px;
                    height: 175.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image120.png"
                    style="
                        width: 445.78px;
                        height: 175.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_3qe5cw7xn7pr-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >A &lsquo;1&rsquo; means it fits that criterion, and a
                    &lsquo;0&rsquo; means it does not.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >For example, p1 has a &lsquo;1&rsquo; under
                    &lsquo;Lounge&rsquo; because p1 is designed for
                    lounges.</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_3qe5cw7xn7pr-0">
            <li class="c4 li-bullet-0">
                <span class="c0">We can use this to perform lookups.</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >If we wanted to find a product that is worth &pound;300 and
                    is designed for kitchens:</span
                >
            </li>
        </ul>
        <p class="c9">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 418.5px;
                    height: 169.84px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-i/image102.png"
                    style="
                        width: 418.5px;
                        height: 232.23px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c10 lst-kix_1wg6owfbfonl-0 start">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >We can use bitwise AND to find the product that fits those
                    two queries.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0">0100001001 &amp; 0010110001 = 0000000001</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0">It seems p10 fits the query perfectly.</span>
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_1wg6owfbfonl-0">
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >There&rsquo;s a lot of zeros in that bitmap index...</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >What if we had millions of records? With thousands of
                    attributes?</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0">We&rsquo;d be wasting tonnes of space!</span>
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >Therefore we can do run-length encoding to reduce
                    space.</span
                >
            </li>
            <li class="c4 li-bullet-0">
                <span class="c0"
                    >We can decode one bit at a time as we do the bitwise
                    operation.</span
                >
            </li>
        </ul>
        <p class="c8 c24 c7"><span class="c0"></span></p>
        <ul class="c10 lst-kix_1wg6owfbfonl-0">
            <li class="c4 li-bullet-0">
                <span class="c13">Pros</span><span class="c0">:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_1wg6owfbfonl-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Efficient answering of partial-match queries</span
                >
            </li>
        </ul>
        <ul class="c10 lst-kix_1wg6owfbfonl-0">
            <li class="c4 li-bullet-0">
                <span class="c13">Cons</span><span class="c0">:</span>
            </li>
        </ul>
        <ul class="c10 lst-kix_1wg6owfbfonl-1 start">
            <li class="c8 c15 li-bullet-0">
                <span class="c0">Requires fixed record numbers</span>
            </li>
            <li class="c8 c15 li-bullet-0">
                <span class="c0"
                    >Changes to data file require changes to bitmap index</span
                >
            </li>
        </ul>
        <p class="c8 c7"><span class="c0"></span></p>
        <p class="c8 c7"><span class="c0"></span></p>
        <p class="c8 c7"><span class="c0"></span></p>
        <p class="c8 c7"><span class="c0"></span></p>
    </body>
</html>
