<html>
    <head>
        <meta content="text/html; charset=UTF-8" http-equiv="content-type" />
        <link
            rel="stylesheet"
            href="css/distributed-systems-and-networks.css"
        />
        <link rel="stylesheet" href="css/page.css" />
    </head>
    <body class="c65 c195">
        <div>
            <p class="c56">
                <span class="c14 c72"
                    ><a
                        class="c3"
                        href="index.html"
                        >Computer Science / Software Engineering Notes
                        Network</a
                    ></span
                >
            </p>
        </div>
        <p class="c111 title" id="h.n36q2wuoes1c">
            <span class="c135 c125 c191"
                >Distributed Systems &amp; Networks</span
            >
        </p>
        <p class="c82 subtitle" id="h.3z16xq54qasx">
            <span class="c135 c59 c184 c193">Matthew Barnes</span>
        </p>
        <p class="c139">
            <span class="c28"
                ><a class="c3" href="#h.k36c2ugndl9k"
                    >Networking (Kirk)</a
                ></span
            ><span class="c28"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c28"><a class="c3" href="#h.k36c2ugndl9k">5</a></span>
        </p>
        <p class="c38">
            <span class="c7"
                ><a class="c3" href="#h.1ysfyww7xbnz"
                    >Physical + Link layer</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.1ysfyww7xbnz">5</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.mdviyk7bw4zf">Functions</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.mdviyk7bw4zf">5</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.jjgttlrdw5kx">Acknowledgements</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.jjgttlrdw5kx">7</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.bgu7sfyiriku">Frames</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.bgu7sfyiriku">9</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.78kswxu5sr8q">Ethernet CSMA/CD</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.78kswxu5sr8q">10</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.n9hwadml1wrn">WiFi CSMA/CA</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.n9hwadml1wrn">10</a></span>
        </p>
        <p class="c38">
            <span class="c7"
                ><a class="c3" href="#h.1ysfyww7xbnz">Ethernet LANs</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.1ysfyww7xbnz">11</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.4achvfz65nl9">Ethernet theory</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.4achvfz65nl9">11</a></span>
        </p>
        <p class="c10">
            <span class="c7"><a class="c3" href="#h.wa7fdu831v0w">ARP</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.wa7fdu831v0w">12</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.to4lzbrn7aqs"
                    >Building Ethernet LANs</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.to4lzbrn7aqs">13</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.5yrrltl46bap"
                    >Spanning tree protocol</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.5yrrltl46bap">13</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.j940nl7rxgqh">VLANs</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.j940nl7rxgqh">15</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.w3o3z1mhkr8w"
                    >Ethernet frame priority</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.w3o3z1mhkr8w">16</a></span>
        </p>
        <p class="c38">
            <span class="c7"
                ><a class="c3" href="#h.1ysfyww7xbnz"
                    >Internet/Network layer</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.1ysfyww7xbnz">16</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.coztm51vpwdi"
                    >Internet Protocol (IP)</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.coztm51vpwdi">17</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.7tfxku2yvon0">Subnets</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.7tfxku2yvon0">21</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.nna1lwz6jlsn"
                    >Calculating subnets</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.nna1lwz6jlsn">23</a></span>
        </p>
        <p class="c10">
            <span class="c7"><a class="c3" href="#h.mrse3ptikrai">ICMP</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.mrse3ptikrai">25</a></span>
        </p>
        <p class="c38">
            <span class="c7"
                ><a class="c3" href="#h.1ysfyww7xbnz"
                    >IP routing protocols</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.1ysfyww7xbnz">25</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.feomarjoc9om"
                    >Aggregating prefixes</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.feomarjoc9om">26</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.e27dbjvjin6c"
                    >Interior routing protocols</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.e27dbjvjin6c">27</a></span>
        </p>
        <p class="c17">
            <span class="c7"
                ><a class="c3" href="#h.yz4f0dqfn0e7">Distance Vector</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.yz4f0dqfn0e7">27</a></span>
        </p>
        <p class="c17">
            <span class="c7"
                ><a class="c3" href="#h.l5s9ispg6i3j">Link state</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.l5s9ispg6i3j">28</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.8vdjxmmcoyd"
                    >Exterior routing protocols</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.8vdjxmmcoyd">29</a></span>
        </p>
        <p class="c38">
            <span class="c7"
                ><a class="c3" href="#h.8yezcx4axp1i">Transport layer</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.8yezcx4axp1i">30</a></span>
        </p>
        <p class="c10">
            <span class="c7"><a class="c3" href="#h.mgv6t5hf3ejj">UDP</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.mgv6t5hf3ejj">30</a></span>
        </p>
        <p class="c10">
            <span class="c7"><a class="c3" href="#h.ooav0yq0yjk8">TCP</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.ooav0yq0yjk8">31</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.tnc8uboseiu4">TCP or UDP?</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.tnc8uboseiu4">35</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.1ysfyww7xbnz">Sockets</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.1ysfyww7xbnz">36</a></span>
        </p>
        <p class="c38">
            <span class="c7"><a class="c3" href="#h.hrno8bb9oda7">DNS</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.hrno8bb9oda7">37</a></span>
        </p>
        <p class="c38">
            <span class="c7"
                ><a class="c3" href="#h.1ysfyww7xbnz"
                    >Application layer</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.1ysfyww7xbnz">40</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.e74sojnpa054">Telnet</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.e74sojnpa054">40</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.1v0v0xbqk5li">Email</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.1v0v0xbqk5li">41</a></span>
        </p>
        <p class="c17">
            <span class="c7"><a class="c3" href="#h.idaj7u6pa2l">SMTP</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.idaj7u6pa2l">41</a></span>
        </p>
        <p class="c17">
            <span class="c7"><a class="c3" href="#h.d7v1p12yh62x">IMAP</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.d7v1p12yh62x">42</a></span>
        </p>
        <p class="c10">
            <span class="c7"><a class="c3" href="#h.lys8vordhbrm">HTTP</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.lys8vordhbrm">42</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.lys8vordhbrm">HTTP/2</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.lys8vordhbrm">43</a></span>
        </p>
        <p class="c10">
            <span class="c7"><a class="c3" href="#h.lys8vordhbrm">QUIC</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.lys8vordhbrm">43</a></span>
        </p>
        <p class="c10">
            <span class="c7"><a class="c3" href="#h.lys8vordhbrm">CoAP</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.lys8vordhbrm">44</a></span>
        </p>
        <p class="c10">
            <span class="c7"><a class="c3" href="#h.lys8vordhbrm">RTSP</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.lys8vordhbrm">44</a></span>
        </p>
        <p class="c10">
            <span class="c7"><a class="c3" href="#h.p6b8yc9ir2u0">SMB</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.p6b8yc9ir2u0">44</a></span>
        </p>
        <p class="c10">
            <span class="c7"><a class="c3" href="#h.5k459d6suvww">NFS</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.5k459d6suvww">45</a></span>
        </p>
        <p class="c10">
            <span class="c7"><a class="c3" href="#h.lys8vordhbrm">P2P</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.lys8vordhbrm">45</a></span>
        </p>
        <p class="c38">
            <span class="c7"><a class="c3" href="#h.g32ntzrll1wu">IPv6</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.g32ntzrll1wu">45</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.1ji4vlco7351">IPv6 Features</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.1ji4vlco7351">46</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.py32osdi6aq">Why use v6?</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.py32osdi6aq">47</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.jfq6q6xhso71">IPv6 headers</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.jfq6q6xhso71">47</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.8yesu79z7ve1"
                    >IPv6 with routers and privacy</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.8yesu79z7ve1">48</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.q0z8nbr1l47o">Deploying IPv6</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.q0z8nbr1l47o">48</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.fyk7rqdayizz">IPv6 security</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.fyk7rqdayizz">49</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.ku9ugzjiq08g">Other IPv6 stuff</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.ku9ugzjiq08g">49</a></span>
        </p>
        <p class="c38">
            <span class="c7"
                ><a class="c3" href="#h.xpfop3eu9z6w">Network security</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.xpfop3eu9z6w">50</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.rojvbz8v0byv">DNS Security</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.rojvbz8v0byv">50</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.rojvbz8v0byv">Firewalls</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.rojvbz8v0byv">51</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.rojvbz8v0byv"
                    >Intrusion Detection Systems</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.rojvbz8v0byv">52</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.rojvbz8v0byv"
                    >Port / Physical Security</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.rojvbz8v0byv">52</a></span>
        </p>
        <p class="c10">
            <span class="c7"><a class="c3" href="#h.rojvbz8v0byv">DDoS</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.rojvbz8v0byv">53</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.rojvbz8v0byv"
                    >Wi-Fi (In)Security</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.rojvbz8v0byv">54</a></span>
        </p>
        <p class="c90">
            <span class="c28"
                ><a class="c3" href="#h.lm7x8qvdn4fj"
                    >Distributed Systems Implementations (Tim)</a
                ></span
            ><span class="c28"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c28"
                ><a class="c3" href="#h.lm7x8qvdn4fj">55</a></span
            >
        </p>
        <p class="c38">
            <span class="c7"
                ><a class="c3" href="#h.g32ntzrll1wu"
                    >Distributed Systems Models</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.g32ntzrll1wu">55</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.kusmvokonczj">Physical models</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.kusmvokonczj">55</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.888vzwl3e4hu"
                    >Architectural models</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.888vzwl3e4hu">55</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.x5osqwrryrbd"
                    >Mapping entities to infrastructure</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.x5osqwrryrbd">56</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.x5tr7wzc5acv"
                    >Architectural patterns</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.x5tr7wzc5acv">56</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.859b73z2iwk0"
                    >Fundamental models: Interaction, Failure and Security</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.859b73z2iwk0">57</a></span>
        </p>
        <p class="c38">
            <span class="c7"
                ><a class="c3" href="#h.a4osblggpgoj"
                    >Distributed Object Systems</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.a4osblggpgoj">59</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.ntpbl0uai51a">Distributed OOP</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.ntpbl0uai51a">59</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.paa5b6j4gf7e"
                    >Remote Interfaces</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.paa5b6j4gf7e">60</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.li8qhro4m5d0"
                    >Server Deployment</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.li8qhro4m5d0">60</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.6611icika7xx"
                    >Dynamic Code Loading</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.6611icika7xx">60</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.6611icika7xx">Many Clients!</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.6611icika7xx">61</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.6611icika7xx">The Monitor</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.6611icika7xx">61</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.6611icika7xx"
                    >The Observer Pattern</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.6611icika7xx">62</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.6611icika7xx">RMI Limitations</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.6611icika7xx">62</a></span>
        </p>
        <p class="c38">
            <span class="c7"
                ><a class="c3" href="#h.9l9zacrtqlh"
                    >Data Serialisation</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.9l9zacrtqlh">62</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.afy10ofgal73"
                    >Serialising Java Objects</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.afy10ofgal73">62</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.afy10ofgal73"
                    >Mobile code &#x1f4f1;</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.afy10ofgal73">63</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.dzmcvq8mh3zm"
                    >Pass by reference or value?</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.dzmcvq8mh3zm">63</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.afy10ofgal73"
                    >Programming language independence</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.afy10ofgal73">64</a></span>
        </p>
        <p class="c10">
            <span class="c7"><a class="c3" href="#h.f8tn8vze6mvm">JSON</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.f8tn8vze6mvm">64</a></span>
        </p>
        <p class="c10">
            <span class="c7"><a class="c3" href="#h.k61sn26fwuuq">GSON</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.k61sn26fwuuq">65</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.afy10ofgal73"
                    >Linked Data &amp; Semantics</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.afy10ofgal73">65</a></span>
        </p>
        <p class="c38">
            <span class="c7"
                ><a class="c3" href="#h.rvel6vxyadrc">Loose Coupling</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.rvel6vxyadrc">66</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.rxri3tnvajoi"
                    >Space &amp; Time Uncoupling</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.rxri3tnvajoi">66</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.yuz929o3622o"
                    >Group Communication</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.yuz929o3622o">67</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.yuz929o3622o"
                    >Publish &amp; Subscribe</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.yuz929o3622o">68</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.yuz929o3622o"
                    >Message Queues &amp; IoT</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.yuz929o3622o">69</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.yuz929o3622o">RabbitMQ</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.yuz929o3622o">70</a></span>
        </p>
        <p class="c38">
            <span class="c7"
                ><a class="c3" href="#h.4xf66rx1irjy"
                    >Distributed Transactions</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.4xf66rx1irjy">71</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.d2bqyt1cgsd4">Distributed Data</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.d2bqyt1cgsd4">71</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.d2bqyt1cgsd4"
                    >Lost Updates &amp; Inconsistent Retrievals</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.d2bqyt1cgsd4">71</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.d2bqyt1cgsd4"
                    >Dirty Reads &amp; Premature Writes</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.d2bqyt1cgsd4">73</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.d2bqyt1cgsd4"
                    >Distributed Commit Protocols</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.d2bqyt1cgsd4">74</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.d2bqyt1cgsd4">Two-Phase Commit</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.d2bqyt1cgsd4">75</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.d2bqyt1cgsd4"
                    >2PC Failure Handling</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.d2bqyt1cgsd4">75</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.d2bqyt1cgsd4"
                    >Increasing Concurrency &amp; Deadlocks</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.d2bqyt1cgsd4">76</a></span>
        </p>
        <p class="c90">
            <span class="c28"
                ><a class="c3" href="#h.cwwchalzaynp"
                    >Distributed Systems Theory (Corina)</a
                ></span
            ><span class="c28"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c28"
                ><a class="c3" href="#h.cwwchalzaynp">77</a></span
            >
        </p>
        <p class="c38">
            <span class="c7"
                ><a class="c3" href="#h.gmp3a3tcs8rs"
                    >Time in Distributed Systems</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.gmp3a3tcs8rs">77</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.fkfq165v97p7"
                    >Clock synchronisation</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.fkfq165v97p7">77</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.ewgv7ux5rr8l">Logical clocks</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.ewgv7ux5rr8l">78</a></span>
        </p>
        <p class="c38">
            <span class="c7"
                ><a class="c3" href="#h.gmp3a3tcs8rs"
                    >Distributed Mutual Exclusion</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.gmp3a3tcs8rs">82</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.smm747l533rg"
                    >Failure detectors</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.smm747l533rg">82</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.odx7bzbz9o32"
                    >Distributed Mutual Exclusion</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.odx7bzbz9o32">82</a></span>
        </p>
        <p class="c38">
            <span class="c7"
                ><a class="c3" href="#h.gmp3a3tcs8rs">Leader Election</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.gmp3a3tcs8rs">91</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.1b2gjc345v5k"
                    >Asynchronous systems</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.1b2gjc345v5k">92</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.1b2gjc345v5k"
                    >Synchronous systems</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.1b2gjc345v5k">96</a></span>
        </p>
        <p class="c38">
            <span class="c7"
                ><a class="c3" href="#h.bn20hjtezqu8"
                    >Reliable and Ordered Multicast</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.bn20hjtezqu8">98</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.pchf0yzbsx7h">Basic multicast</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.pchf0yzbsx7h">99</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.pchf0yzbsx7h"
                    >Reliable multicast</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.pchf0yzbsx7h">99</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.pchf0yzbsx7h"
                    >Ordered multicast</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"
                ><a class="c3" href="#h.pchf0yzbsx7h">100</a></span
            >
        </p>
        <p class="c38">
            <span class="c7"
                ><a class="c3" href="#h.bn20hjtezqu8">Consensus</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"
                ><a class="c3" href="#h.bn20hjtezqu8">103</a></span
            >
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.sszbqib2n286">Synchronous</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"
                ><a class="c3" href="#h.sszbqib2n286">104</a></span
            >
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.cbc4pjxcbh2r">Asynchronous</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"
                ><a class="c3" href="#h.cbc4pjxcbh2r">105</a></span
            >
        </p>
        <p class="c38">
            <span class="c7"
                ><a class="c3" href="#h.wa0sn8qs8aus"
                    >Consistency models</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"
                ><a class="c3" href="#h.wa0sn8qs8aus">106</a></span
            >
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.kxmsopkcyoq5"
                    >Strong consistency</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"
                ><a class="c3" href="#h.kxmsopkcyoq5">107</a></span
            >
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.d927d7g1v3jk"
                    >Sequential consistency</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"
                ><a class="c3" href="#h.d927d7g1v3jk">107</a></span
            >
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.yv14cna76lld"
                    >Causal consistency</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"
                ><a class="c3" href="#h.yv14cna76lld">109</a></span
            >
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.1tv0hbr3nq8o"
                    >Eventual consistency</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"
                ><a class="c3" href="#h.1tv0hbr3nq8o">109</a></span
            >
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.ev2pz7bfifpv"
                    >Strong eventual consistency</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"
                ><a class="c3" href="#h.ev2pz7bfifpv">110</a></span
            >
        </p>
        <p class="c90">
            <span class="c28"
                ><a class="c3" href="#h.zgix7alqil4t"
                    >Other stuff (Leonardo)</a
                ></span
            ><span class="c28"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c28"
                ><a class="c3" href="#h.zgix7alqil4t">110</a></span
            >
        </p>
        <p class="c38">
            <span class="c7"
                ><a class="c3" href="#h.irftd5msdrwn"
                    >Data Replication and Scalability</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"
                ><a class="c3" href="#h.irftd5msdrwn">110</a></span
            >
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.s9gtawjj2i23">Data Replication</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"
                ><a class="c3" href="#h.s9gtawjj2i23">110</a></span
            >
        </p>
        <p class="c17">
            <span class="c7"
                ><a class="c3" href="#h.auc8kcl9eb5r">Primary-backup</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"
                ><a class="c3" href="#h.auc8kcl9eb5r">110</a></span
            >
        </p>
        <p class="c17">
            <span class="c7"
                ><a class="c3" href="#h.xniylo12j7c7">CAP theorem</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"
                ><a class="c3" href="#h.xniylo12j7c7">112</a></span
            >
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.3os44en96vs">Scalability</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.3os44en96vs">115</a></span>
        </p>
        <p class="c38">
            <span class="c7"
                ><a class="c3" href="#h.buvfd2innnt"
                    >Highly Available Distributed Data Stores (Amazon Dynamo)</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.buvfd2innnt">116</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.cjb77gubwgnp">Replication</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"
                ><a class="c3" href="#h.cjb77gubwgnp">117</a></span
            >
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.1huc5jhpws3v">Consistency</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"
                ><a class="c3" href="#h.1huc5jhpws3v">118</a></span
            >
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.1huc5jhpws3v">Fault tolerance</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"
                ><a class="c3" href="#h.1huc5jhpws3v">123</a></span
            >
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.1huc5jhpws3v"
                    >Why is Amazon Dynamo AP?</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"
                ><a class="c3" href="#h.1huc5jhpws3v">123</a></span
            >
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.1huc5jhpws3v">Scalability</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"
                ><a class="c3" href="#h.1huc5jhpws3v">124</a></span
            >
        </p>
        <p class="c38">
            <span class="c7"
                ><a class="c3" href="#h.2cnf1wgypqs"
                    >Consistent Distributed Data Stores (Google BigTable)</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.2cnf1wgypqs">125</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.rdazez63q4xf">Data model</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"
                ><a class="c3" href="#h.rdazez63q4xf">125</a></span
            >
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.rdazez63q4xf">Architecture</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"
                ><a class="c3" href="#h.rdazez63q4xf">126</a></span
            >
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.rdazez63q4xf">Tablets</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"
                ><a class="c3" href="#h.rdazez63q4xf">129</a></span
            >
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.rdazez63q4xf">SSTables</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"
                ><a class="c3" href="#h.rdazez63q4xf">130</a></span
            >
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.rdazez63q4xf"
                    >Why is Google BigTable CP?</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"
                ><a class="c3" href="#h.rdazez63q4xf">132</a></span
            >
        </p>
        <p class="c38">
            <span class="c7"
                ><a class="c3" href="#h.2cnf1wgypqs"
                    >Online Distributed Processing</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.2cnf1wgypqs">132</a></span>
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.8izg2egv9zen">Use cases</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"
                ><a class="c3" href="#h.8izg2egv9zen">132</a></span
            >
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.fwvlmvrufgx1">Requirements</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"
                ><a class="c3" href="#h.fwvlmvrufgx1">133</a></span
            >
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.fsh8k5pbinat">Apache Storm</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"
                ><a class="c3" href="#h.fsh8k5pbinat">133</a></span
            >
        </p>
        <p class="c17">
            <span class="c7"
                ><a class="c3" href="#h.uosg4ci26v6u">Data model</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"
                ><a class="c3" href="#h.uosg4ci26v6u">133</a></span
            >
        </p>
        <p class="c17">
            <span class="c7"
                ><a class="c3" href="#h.a89kwbu6xoxw">Architecture</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"
                ><a class="c3" href="#h.a89kwbu6xoxw">134</a></span
            >
        </p>
        <p class="c17">
            <span class="c7"
                ><a class="c3" href="#h.8chkgu5o106j">Replication</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"
                ><a class="c3" href="#h.8chkgu5o106j">135</a></span
            >
        </p>
        <p class="c17">
            <span class="c7"
                ><a class="c3" href="#h.3fincyjxzqgh">Stream grouping</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"
                ><a class="c3" href="#h.3fincyjxzqgh">136</a></span
            >
        </p>
        <p class="c17">
            <span class="c7"
                ><a class="c3" href="#h.3fincyjxzqgh">Fault tolerance</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"
                ><a class="c3" href="#h.3fincyjxzqgh">137</a></span
            >
        </p>
        <p class="c38">
            <span class="c7"
                ><a class="c3" href="#h.bqd7ou4iogdi"
                    >Batch Distributed Processing</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"
                ><a class="c3" href="#h.bqd7ou4iogdi">139</a></span
            >
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.2jac3prkoa3z"
                    >Implementation #1: Google MapReduce</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"
                ><a class="c3" href="#h.2jac3prkoa3z">139</a></span
            >
        </p>
        <p class="c10">
            <span class="c7"
                ><a class="c3" href="#h.fvi3vevreh0b"
                    >Implementation #2: Apache Hadoop</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"
                ><a class="c3" href="#h.fvi3vevreh0b">140</a></span
            >
        </p>
        <p class="c90">
            <span class="c28"
                ><a class="c3" href="#h.yk8ehfw2m1oo">TL;DR</a></span
            ><span class="c28"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c28"
                ><a class="c3" href="#h.yk8ehfw2m1oo">142</a></span
            >
        </p>
        <p class="c38">
            <span class="c7"
                ><a class="c3" href="#h.9zkkgt202lav"
                    >Kirk&rsquo;s stuff</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"
                ><a class="c3" href="#h.9zkkgt202lav">143</a></span
            >
        </p>
        <p class="c38">
            <span class="c7"
                ><a class="c3" href="#h.8bhozeqe2vv">Tim&rsquo;s stuff</a></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.8bhozeqe2vv">150</a></span>
        </p>
        <p class="c38">
            <span class="c7"
                ><a class="c3" href="#h.8bhozeqe2vv"
                    >Corina&rsquo;s stuff</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.8bhozeqe2vv">154</a></span>
        </p>
        <p class="c115">
            <span class="c7"
                ><a class="c3" href="#h.8bhozeqe2vv"
                    >Leonardo&rsquo;s stuff</a
                ></span
            ><span class="c7"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c7"><a class="c3" href="#h.8bhozeqe2vv">158</a></span>
        </p>
        <p class="c20 c40"><span class="c1"></span></p>
        <hr style="page-break-before: always; display: none" />
        <h1 class="c92 c154" id="h.yoyeojjaz7j7">
            <span class="c135 c125 c166"></span>
        </h1>
        <h1 class="c92" id="h.k36c2ugndl9k">
            <span class="c135 c125 c166">Networking (Kirk)</span>
        </h1>
        <h2 class="c44" id="h.1ysfyww7xbnz">
            <span class="c9">Physical + Link layer</span>
        </h2>
        <h3 class="c5" id="h.mdviyk7bw4zf">
            <span class="c45">Functions</span>
        </h3>
        <ul class="c2 lst-kix_idk30pvqqdl-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >There are three reference models for networking
                    protocols:</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <a id="t.5a54635642b90c4634977adac98510fff93a2346"></a><a id="t.0"></a>
        <table class="c18">
            <tbody>
                <tr class="c33">
                    <td class="c76" colspan="1" rowspan="1">
                        <p class="c16"><span class="c21">OSI model</span></p>
                    </td>
                    <td class="c76" colspan="1" rowspan="1">
                        <p class="c16"><span class="c21">TCP/IP model</span></p>
                    </td>
                    <td class="c76" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c21">Tanenbaum&rsquo;s book</span>
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c76 c62" colspan="1" rowspan="1">
                        <p class="c16"><span class="c55">Application</span></p>
                    </td>
                    <td class="c76 c57" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c88 c168">Application</span>
                        </p>
                    </td>
                    <td class="c76 c77" colspan="1" rowspan="1">
                        <p class="c16"><span class="c32">Application</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c76 c142" colspan="1" rowspan="1">
                        <p class="c16"><span class="c55">Presentation</span></p>
                    </td>
                    <td class="c76 c174" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c88 c168">Transport</span>
                        </p>
                    </td>
                    <td class="c76 c89" colspan="1" rowspan="1">
                        <p class="c16"><span class="c32">Transport</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c76 c175" colspan="1" rowspan="1">
                        <p class="c16"><span class="c55">Session</span></p>
                    </td>
                    <td class="c76 c85" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c88 c168">Internet</span>
                        </p>
                    </td>
                    <td class="c76 c148" colspan="1" rowspan="1">
                        <p class="c16"><span class="c32">Network</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c76 c185" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c88 c153">Transport</span>
                        </p>
                    </td>
                    <td class="c76 c176" colspan="1" rowspan="1">
                        <p class="c16"><span class="c88 c140">Link</span></p>
                    </td>
                    <td class="c76 c150" colspan="1" rowspan="1">
                        <p class="c16"><span class="c58">Link</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c76 c83" colspan="1" rowspan="1">
                        <p class="c16"><span class="c88 c153">Network</span></p>
                    </td>
                    <td class="c76 c96" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c88 c140">Hardware</span>
                        </p>
                    </td>
                    <td class="c76 c129" colspan="1" rowspan="1">
                        <p class="c16"><span class="c58">Physical</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c76 c103" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c88 c153">Data Link</span>
                        </p>
                    </td>
                    <td class="c50" colspan="1" rowspan="1">
                        <p class="c16 c40"><span class="c1"></span></p>
                    </td>
                    <td class="c113" colspan="1" rowspan="1">
                        <p class="c16 c40"><span class="c1"></span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c76 c169" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c88 c153">Physical</span>
                        </p>
                    </td>
                    <td class="c84" colspan="1" rowspan="1">
                        <p class="c16 c40"><span class="c1"></span></p>
                    </td>
                    <td class="c127" colspan="1" rowspan="1">
                        <p class="c16 c40"><span class="c1"></span></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_z0rmhaogqat-0 start">
            <li class="c6 li-bullet-0">
                <span
                    >Here is a sentence to remember the OSI layers, from bottom
                    up: </span
                ><span class="c29">P</span><span>lease </span
                ><span class="c29">D</span><span>o </span
                ><span class="c29">N</span><span>ot </span
                ><span class="c29">T</span><span>hrow </span
                ><span class="c29">S</span><span>alami </span
                ><span class="c29">P</span><span>izza </span
                ><span class="c29">A</span
                ><span class="c1">way &#x1f355;&#10060;&#x1f5d1;</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_z0rmhaogqat-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Tanenbaum&rsquo;s book is just the TCP/IP model, but they
                    changed Internet to Network and Hardware to Physical.</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_z0rmhaogqat-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Each layer adds its own header, and it becomes part of the
                    payload for the layer below it:</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 475.39px;
                    height: 188.5px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image164.png"
                    style="
                        width: 475.39px;
                        height: 201.91px;
                        margin-left: 0px;
                        margin-top: -13.41px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_ymps2jbfk90u-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >There&rsquo;s different types of medium for the physical
                    layer:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_ymps2jbfk90u-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">Coaxial cable</span>
            </li>
            <li class="c0 li-bullet-0"><span class="c1">Twisted pair</span></li>
            <li class="c0 li-bullet-0"><span class="c1">Power line</span></li>
            <li class="c0 li-bullet-0"><span class="c1">Fibre optic</span></li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Wireless (laser, sound, ultrasonic, pulses, radar)</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_ymps2jbfk90u-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Bits are transmitted using encoding schemes. Transmission
                    is based on something varying over time, like voltage or
                    frequency, with synchronisation.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_ymps2jbfk90u-0">
            <li class="c6 li-bullet-0">
                <span class="c1">What does the link layer actually do?</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_ymps2jbfk90u-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">Transmits frames over physical media</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Detects and handles transmission errors</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_ymps2jbfk90u-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The link layer doesn&rsquo;t care about what the packet
                    says. The link layer only cares about getting the packet
                    from A to B.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_ymps2jbfk90u-0">
            <li class="c6 li-bullet-0">
                <span class="c29">Packet</span
                ><span class="c1"
                    >: a unit of data in the Network layer (our payload)</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">Frame</span
                ><span class="c1"
                    >: a unit of data in the Link layer (what the link layer
                    actually sends)</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >A frame contains a packet and wraps a header and a trailer
                    around the packet.</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 194px;
                    height: 114.81px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image154.png"
                    style="
                        width: 194px;
                        height: 114.81px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_1ojjclozikgx-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Data frames vary based on the physical layer, for example
                    there are Ethernet frames and Fibre Channel frames.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_1ojjclozikgx-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The partitions of a frame are usually fixed in size (except
                    for the payload), making it far easier to tell where the
                    data actually is.</span
                >
            </li>
        </ul>
        <p class="c20">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 106.67px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image204.png"
                    style="
                        width: 602px;
                        height: 106.67px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_1ojjclozikgx-0">
            <li class="c6 li-bullet-0">
                <span>Frames are transmitted through hop by hop </span
                ><span>transmission</span
                ><span class="c1">&nbsp;over a packet-switched network.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Too jargon-y for you?</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_1ojjclozikgx-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">Hop by hop transmission</span
                ><span class="c1"
                    >: where data is transported through intermediate nodes to
                    its destination.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Packet-switched network</span
                ><span class="c1"
                    >: A network where packets dynamically find their own way to
                    a destination without a set path (look at the pretty
                    animation from wikipedia)</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 1.33px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 499.89px;
                    height: 281.5px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image108.gif"
                    style="
                        width: 499.89px;
                        height: 281.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_nee5vyo3dvr4-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Because of these properties, framing can allow senders to
                    send packets through a shared medium, like you see above
                    (all the intermediate nodes are available to all the
                    coloured packets/frames).</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >You also need to know where the frame starts and the frame
                    ends.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_nee5vyo3dvr4-0">
            <li class="c6 li-bullet-0">
                <span
                    >In flow control, we may need to regulate how fast we send
                    data. We don&rsquo;t want to swamp a slow receiver with </span
                ><span>tons</span><span class="c1">&nbsp;of packets!</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">We can either:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_nee5vyo3dvr4-1 start">
            <li class="c0 li-bullet-0">
                <span
                    >send messages from the receiver to the sender saying
                    &ldquo;wait, let me process this data first&rdquo; and
                    alternatively, &ldquo;alright, now send more data&rdquo;
                    a.k.a. </span
                ><span class="c21">feedback-based flow control</span>
            </li>
            <li class="c0 li-bullet-0">
                <span
                    >make the communication rate-based so the speed is agreed
                    between both parties </span
                ><span class="c30 c59"
                    >(rarely used in such a low layer) a.k.a. </span
                ><span class="c119 c30 c59 c29 c184"
                    >rate-based flow control</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.jjgttlrdw5kx">
            <span class="c45">Acknowledgements</span>
        </h3>
        <ul class="c2 lst-kix_nee5vyo3dvr4-0">
            <li class="c6 li-bullet-0">
                <span class="c1">There are three main link layer models:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_nee5vyo3dvr4-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">Connectionless, no acknowledgements</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_nee5vyo3dvr4-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >Used for low error rate networks (networks where packets
                    rarely get lost, like Ethernet)</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c29">Connectionless</span
                ><span class="c1"
                    >: no signalling path is established in advance.</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c29">No acknowledgements</span
                ><span class="c1"
                    >: Frames are sent, and may or may not be received by the
                    destination.</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_nee5vyo3dvr4-1">
            <li class="c0 li-bullet-0">
                <span class="c1">Acknowledged, connectionless service</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_nee5vyo3dvr4-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c29">Acknowledged</span
                ><span
                    >: frames are sent, and the recipient notifies the sender
                    when they&rsquo;ve received a frame through an acknowledge
                    (</span
                ><span class="c29">ACK</span><span class="c1">) signal.</span>
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >This is used when connections need the assurance of
                    delivery, but can&rsquo;t afford the overhead of connection
                    management.</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_nee5vyo3dvr4-1">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Acknowledged, connection-oriented service</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_nee5vyo3dvr4-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >Acknowledgement signals are sent, and a connection is
                    formally established before communications occur.</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >This is used for long delay, unreliable connections, for
                    example with satellites.</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >It&rsquo;s computationally expensive, but it&rsquo;s
                    secure.</span
                >
            </li>
        </ul>
        <p class="c20 c22"><span class="c1"></span></p>
        <ul class="c2 lst-kix_nee5vyo3dvr4-0">
            <li class="c6 li-bullet-0">
                <span class="c1">How do we handle ACK signals and errors?</span>
            </li>
            <li class="c6 li-bullet-0"><span class="c1">We use ARQs!</span></li>
            <li class="c6 li-bullet-0">
                <span class="c29">ARQ (automatic repeat-request)</span
                ><span class="c1"
                    >: an error-control mechanism that uses ACKs and timeouts to
                    ensure reliable communications with an unreliable
                    recipient.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Basically, ARQs are different ways of handling ACKs and
                    when they screw up.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">There are three kinds:</span>
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <a id="t.756736dd02c4102cb9e5ef4786fd66afdbc94bad"></a><a id="t.1"></a>
        <table class="c18">
            <tbody>
                <tr class="c33">
                    <td class="c81 c106" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c21">ARQ protocol name</span>
                        </p>
                    </td>
                    <td class="c144 c81" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c29">Explanation </span
                            ><span class="c23"
                                >(not in the slides, so it might not be
                                examinable, but if you wanna play it safe then
                                read this anyway)</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c106" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">Stop-and-wait</span></p>
                    </td>
                    <td class="c144" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >The sender sends the first frame, then the
                                recipient sends an ACK signal for that
                                frame.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c1"
                                >The sender sends the second frame, then the
                                recipient sends an ACK signal for that
                                frame.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c1"
                                >This keeps on going until all the frames have
                                been sent.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c106" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">Go-back-N</span></p>
                    </td>
                    <td class="c144" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >The sender sends frames #1 to #N to the
                                recipient, in order, over and over again, even
                                if an ACK signal doesn&rsquo;t exist.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span
                                >The recipient throws away duplicate frames and
                                frames that aren&rsquo;t in the right order. The
                                recipient sends an ACK signal containing </span
                            ><span>the lowest number frame it had </span
                            ><span class="c1"
                                >missed, let&rsquo;s say #M where 1 &le; M &lt;
                                N.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c1"
                                >The sender gets the ACK signal, and now sends
                                frames #M to</span
                            >
                        </p>
                        <p class="c16">
                            <span class="c1"
                                >#(M + N) to the recipient. This keeps on going
                                until all frames are collected.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c1"
                                >Protocols like these are called sliding window
                                protocols.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c29">Example</span
                            ><span class="c1">:</span>
                        </p>
                        <p class="c16">
                            <span class="c1"
                                >Alice is sending frames 1, 2, 3, 4 and 5.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c1"
                                >Bob gets frames 1, 2, 3 and 5, but misses 4.
                                Bob sends an ACK signal to Alice with the number
                                &lsquo;4&rsquo;.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c1"
                                >Alice receives this ACK signal, and is now
                                sending frames 4, 5, 6, 7 and 8.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c1"
                                >Now Bob has frames 1, 2, 3, 4, 5, 6, 7 and 8.
                                Bob sends an ACK signal with the number
                                &lsquo;9&rsquo;.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c1"
                                >Alice receives this ACK signal again, and is
                                now sending frames 9, 10, 11, 12 and 13.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c106" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1">Selective-repeat</span>
                        </p>
                    </td>
                    <td class="c144" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >Go-back-N may send duplicate frames, which is
                                inefficient on the bandwidth. Selective-repeat
                                aims to fix this.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c1"
                                >The sender sends frames #1 to #N.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c1">The receiver can either:</span>
                        </p>
                        <ul class="c2 lst-kix_9xecjj9acdqv-0 start">
                            <li class="c15 li-bullet-0">
                                <span class="c1"
                                    >Send an ACK signal to move onto the next
                                    set of frames</span
                                >
                            </li>
                            <li class="c15 li-bullet-0">
                                <span class="c1"
                                    >Send a NAK signal to request a specific
                                    frame</span
                                >
                            </li>
                        </ul>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c1"
                                >If the sender gets an ACK signal with number M,
                                then it&rsquo;ll start sending frames #M to #(M
                                + N).</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c1"
                                >If the sender gets a NAK signal with number M,
                                then it&rsquo;ll send only the frame #M to the
                                recipient.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c29">Example</span
                            ><span class="c1">:</span>
                        </p>
                        <p class="c16">
                            <span class="c1"
                                >Alice sends frames 1 and 2 to Bob.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c1"
                                >Bob gets frames 1 and 2, and sends an ACK
                                signal with number 3 to Alice.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c1"
                                >Alice gets this ACK signal and sends frames 3
                                and 4 to Bob.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c1"
                                >Bob misses 3, but gets 4. Bob sends a NAK
                                signal with number 3 to Alice.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c1"
                                >Alice gets this NAK signal, and sends frame #3
                                to Bob.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c1"
                                >Bob gets frame 3 and sends an ACK signal with
                                number 5 to Alice.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c1"
                                >Alice gets this ACK signal and now sends frames
                                5 and 6 to Bob.</span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_p785jkgvy1ul-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >How do we detect errors in communication?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">There are a few ways we can do this:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_p785jkgvy1ul-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">Parity bit</span
                ><span class="c1"
                    >: a bit that&rsquo;s either 1 or 0 depending on whether the
                    number of 1&rsquo;s is even or odd</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">CRC (Cyclic Redundancy Check)</span
                ><span class="c1"
                    >: a type of checksum based on polynomial division. The
                    checksum is stored in a field of the frame, and is
                    calculated and compared by the sender and the
                    recipient.</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_p785jkgvy1ul-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Checksums may happen on other layers too. IPv4 has a
                    checksum, but IPv6 doesn&rsquo;t.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.bgu7sfyiriku"><span class="c45">Frames</span></h3>
        <ul class="c2 lst-kix_p785jkgvy1ul-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >In frames, how do you know where frames start and where
                    frames end?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >There&rsquo;s many ways to do it. One way is to use a FLAG
                    byte value to mark the start and the end.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >If a FLAG byte appears in the payload, escape it with an
                    ESCAPE byte (similar to escape characters </span
                ><span class="c4">\n</span><span>, </span
                ><span class="c4">\b</span><span>, </span
                ><span class="c4">\\</span
                ><span class="c1">&nbsp;... in C, C++, Java etc.)</span>
            </li>
        </ul>
        <h3 class="c5" id="h.78kswxu5sr8q">
            <span class="c45">Ethernet CSMA/CD</span>
        </h3>
        <ul class="c2 lst-kix_p785jkgvy1ul-0">
            <li class="c6 li-bullet-0">
                <span class="c14">Ethernet</span
                ><span class="c1"
                    >&nbsp;was the de facto link layer standard throughout the
                    90&rsquo;s, and continues to be today.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Originally, it all ran through shared media. In other
                    words, it was all one wire and everyone had to share. There
                    came twisted pair with hubs/repeaters to help, but it
                    didn&rsquo;t solve the problem.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >In the end, switches were used (they&rsquo;re like hubs,
                    but a little smarter). There is one device per switch port,
                    and since it&rsquo;s fully duplex, there&rsquo;s no
                    contention.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_p785jkgvy1ul-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >On a shared medium, how is media contention handled?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>Originally, Ethernet used </span><span class="c29">C</span
                ><span>arrier </span><span class="c29">S</span><span>ense </span
                ><span class="c29">M</span><span>ultiple </span
                ><span class="c29">A</span><span>ccess with </span
                ><span class="c29">C</span><span>ollision </span
                ><span class="c29">D</span><span>etection, or </span
                ><span class="c29">CSMA/CD</span><span class="c1">.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It works by checking if the media is busy. If it is, then
                    wait. If it isn&rsquo;t, then it sends its signals across
                    it.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >If a collision occurs (two devices try to use the media at
                    the same time), they both stop and pick a delay before
                    trying to talk again.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Ethernet doesn&rsquo;t really use this anymore because
                    switches are fully duplex, so there&rsquo;s no
                    contention.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.n9hwadml1wrn">
            <span class="c45">WiFi CSMA/CA</span>
        </h3>
        <ul class="c2 lst-kix_p785jkgvy1ul-0">
            <li class="c6 li-bullet-0">
                <span class="c14">WiFi</span
                ><span class="c1"
                    >&nbsp;is the wireless alternative to Ethernet. It works in
                    the 2.4GHz or 5GHz range. The 2.4GHz range has 14 channels
                    (13 in Europe). WiFi has evolved over the years.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >With WiFi, devices are associated with a wireless access
                    point (AP). Devices can select from one of many service set
                    identifiers (SSIDs).</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >WiFi is technically a shared medium, so there can be
                    contention in a busy area. Therefore, you need a collision
                    avoidance scheme.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_p785jkgvy1ul-0">
            <li class="c6 li-bullet-0">
                <span
                    >WiFi can&rsquo;t send and receive at the same time, so WiFi
                    uses a slightly different approach called </span
                ><span class="c29">CSMA</span><span>/</span
                ><span class="c29">C</span><span>ollision </span
                ><span class="c29">A</span><span>voidance (</span
                ><span class="c29">CSMA/CA</span><span class="c1">).</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It&rsquo;s like CSMA/CD, but instead of listening to the
                    medium, it waits for an acknowledgement from the AP to
                    determine if the frame was sent.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >In other words, instead of dealing with collisions, it
                    avoids them.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It&rsquo;s very similar to the stop-and-wait ARQ
                    protocol.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>Optionally, </span
                ><span class="c29">Request to Send </span><span>/ </span
                ><span class="c29">Clear to Send </span><span>(</span
                ><span class="c29">RTS</span><span>/</span
                ><span class="c29">CTS</span
                ><span
                    >) could be used to improve performance, where a sender
                    sends an RTS message to ask if it can send frames, and can
                    only send frames after it receives a CTS message from the
                    receiver</span
                ><span class="c1"
                    >&nbsp;(basically, send an RTS and expect a CTS).</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >/CA is used in wireless connections as it is very difficult
                    to determine if a collision has occurred over a wireless
                    network.</span
                >
            </li>
        </ul>
        <h2 class="c44" id="h.1ysfyww7xbnz-1">
            <span class="c9">Ethernet LANs</span>
        </h2>
        <h3 class="c5" id="h.4achvfz65nl9">
            <span class="c45">Ethernet theory</span>
        </h3>
        <ul class="c2 lst-kix_12vbgpym7fqa-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Ethernet is used on campus networks and on home
                    networks.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_12vbgpym7fqa-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >An Ethernet frame includes (remember, this is the link
                    layer):</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_12vbgpym7fqa-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">48-bit source MAC address</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">48-bit target MAC address</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Optional VLAN ID and frame priority</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_12vbgpym7fqa-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >At max, the frame is usually around 1500 bytes. If it gets
                    any bigger, it&rsquo;ll be broken down into smaller
                    frames.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_12vbgpym7fqa-0">
            <li class="c6 li-bullet-0">
                <span class="c29">MAC (Media Access Control) address</span
                ><span class="c1"
                    >: a unique ID for network interface controllers (NICs) at
                    the link layer.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It&rsquo;s around 48 bits long, but can be extended to 64
                    bits.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >They need to be unique, so MAC addresses are split up
                    into:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_12vbgpym7fqa-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >24 bits for vendor allocations (tells you what vendor this
                    hardware is from)</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Last 24 bits assigned by the vendor</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_12vbgpym7fqa-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Ethernet networks are built with each device (also called
                    hosts) connected to a concentrator device (usually a
                    switch).</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 475px;
                    height: 156px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image79.png"
                    style="
                        width: 475px;
                        height: 156px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_12vbgpym7fqa-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Desktops usually have 1 Gbit/s Ethernet, but the servers
                    are on 10 Gbit/s Ethernet.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_12vbgpym7fqa-0">
            <li class="c6 li-bullet-0">
                <span>There are different kinds of concentrator devices:</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c14">Hubs and repeaters</span
                ><span class="c1">:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_12vbgpym7fqa-1 start">
            <li class="c0 li-bullet-0"><span class="c1">Really old!</span></li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >They just take frames and forward them on to all the
                    devices available</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">They just extend Ethernet range</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >All hosts see all packets, which is a big no-no for
                    security.</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_12vbgpym7fqa-0">
            <li class="c6 li-bullet-0">
                <span class="c14">Bridges and switches</span
                ><span class="c1">:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_12vbgpym7fqa-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Receives frames and forwards them to the host that needs
                    them</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Has &lsquo;smart&rsquo; forwarding (they learn which host
                    needs what packet)</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Hosts only see the packets sent to them, which is good for
                    security.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Switches are smart, because:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_12vbgpym7fqa-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >they can perform CRC (Cyclic Redundancy Checks) before
                    forwarding</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >it learns the addresses of the hosts using a MAC table, so
                    they only send packets to the hosts that need them</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >can support more advanced features, like VLAN or QoS</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_12vbgpym7fqa-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >How do switches learn which frames go to which host?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Switches match up source MAC addresses to switch
                    ports.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >So if a frame with source MAC address 6F-72-61-6F-72-61 is
                    picked up by port number 2, the switch will remember that.
                    The next time a frame with that source MAC address comes up,
                    the switch will send it to port number 2.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >There is a time-out for pairings like that (~ 60
                    seconds).</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >If there is no entry in the table the switch has to send
                    the package to all ports.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.wa7fdu831v0w"><span class="c45">ARP</span></h3>
        <ul class="c2 lst-kix_19q1dhszndop-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >To send a frame to a host, you need its network layer
                    address (IP address) and its link layer address (MAC
                    address).</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >We can get the IP address from DNS, but how do we get the
                    MAC address from an IP address?</span
                >
            </li>
            <li class="c6 li-bullet-0"><span class="c1">We use ARP!</span></li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_19q1dhszndop-0">
            <li class="c6 li-bullet-0">
                <span class="c29">ARP (Address Resolution Protocol)</span
                ><span class="c1"
                    >: a protocol that allows a host to get the MAC address
                    associated with a given IP address.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >ARP uses a link layer broadcast message (a message sent to
                    everyone).</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The broadcast message asks &ldquo;Who has this IP
                    address&rdquo;?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >All the hosts see this message, and the one with that IP
                    address goes &ldquo;It&rsquo;s me! My IP address is
                    so.me.th.ing and my MAC address is wh:at:ev:er&rdquo;</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The sender gets this information and can now send the
                    frame.</span
                ><span
                    style="
                        overflow: hidden;
                        display: inline-block;
                        margin: 0px 0px;
                        border: 0px solid #000000;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                        width: 129.48px;
                        height: 458.5px;
                    "
                    ><img
                        alt=""
                        src="assets/distributed-systems-and-networks/image208.png"
                        style="
                            width: 129.48px;
                            height: 458.5px;
                            margin-left: 0px;
                            margin-top: 0px;
                            transform: rotate(0rad) translateZ(0px);
                            -webkit-transform: rotate(0rad) translateZ(0px);
                        "
                        title=""
                /></span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This information is usually cached for around 60
                    seconds.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_19q1dhszndop-0">
            <li class="c6 li-bullet-0">
                <span class="c1">In an ARP message, you have:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_19q1dhszndop-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">Sender MAC address</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Sender IP address</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Target MAC address (zero-padded when we don&rsquo;t know
                    what it is)</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Target IP address </span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_19q1dhszndop-0">
            <li class="c6 li-bullet-0">
                <span class="c1">There are 4 kinds of messages: </span>
            </li>
        </ul>
        <ul class="c2 lst-kix_19q1dhszndop-1 start">
            <li class="c0 li-bullet-0">
                <span class="c14">Unicast</span
                ><span class="c1"
                    >: from one sender to one receiver. Purely one-to-one.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c14">Broadcast</span
                ><span
                    >: sent to everyone. To broadcast a message, make the MAC
                    address </span
                ><span>FF:FF:FF:FF:FF:FF</span><span>.</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c14">Multicast</span
                ><span class="c1">: sent to anyone who is interested.</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c14">Anycast</span
                ><span class="c1"
                    >: sent to the nearest receiver; doesn&rsquo;t matter who,
                    as long as it gets to someone.</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_19q1dhszndop-0">
            <li class="c6 li-bullet-0">
                <span class="c1">Nuances of ARP:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_19q1dhszndop-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Hosts can spoof and steal frames from other hosts</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Low power devices may &lsquo;sleep&rsquo; and not respond
                    to ARP messages</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >You can send a &lsquo;gratuitous ARP&rsquo;, which is just
                    making sure your information is up to date.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">ARP probe</span
                ><span
                    >: a use of ARP to make sure no two hosts have the same
                    IP</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.to4lzbrn7aqs">
            <span class="c45">Building Ethernet LANs</span>
        </h3>
        <ul class="c2 lst-kix_q9kuk6jdlim-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >LANs can&rsquo;t be too big, or else we&rsquo;ll have
                    problems with range and volume of messages (when
                    broadcasting).</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Therefore LANs must be kept at a reasonable size, for
                    example in a campus, there&rsquo;s typically one LAN per
                    floor, or per building.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_q9kuk6jdlim-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >When we create an Ethernet LAN with a switch, hosts can
                    talk to each other directly using their MAC addresses.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >They&rsquo;ll also allocate &ldquo;local&rdquo; IP
                    addresses to each host, for example 192.168.0.0 up to
                    192.168.255.255, as part of an </span
                ><span class="c29">IP address plan</span
                ><span class="c1">.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >To connect two LANs together, we need to use an IP router,
                    which forwards IP packets between LANs (remember, routers do
                    not work with the link layer, only the network layer).</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Routers can tell other routers the reachability of the IP
                    address ranges it serves, so the network can learn where to
                    forward IP packets.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Therefore, if a host was sending a packet from one LAN to a
                    host on another LAN, it will send the packet to its
                    &lsquo;default&rsquo; IP router.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_q9kuk6jdlim-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >IP routers act as network layer gateways between individual
                    link layer Ethernet LANs.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >A localised network layer LAN behind a router is called an </span
                ><span class="c29">IP subnet</span><span class="c1">.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >A home network is usually a single IP subnet and Ethernet
                    LAN.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_q9kuk6jdlim-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >In multi-story buildings, they typically use copper twisted
                    pair cabling.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Ethernet networks may be deployed using:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_q9kuk6jdlim-1 start">
            <li class="c0 li-bullet-0">
                <span class="c14">Data riser</span
                ><span class="c1"
                    >: vertically aligned switch/server rooms</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c14">Flood wiring per floor</span
                ><span class="c1">: have faceplates from switch room</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c14">Ethernet switch stacks</span
                ><span class="c1">: one switch port per faceplate</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_q9kuk6jdlim-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >A building may have one LAN, if a router connects the whole
                    building, or there could be one LAN per floor.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_q9kuk6jdlim-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >In homes, you typically have an ADSL router with multiple
                    Ethernet ports and 802.11 WiFi. It&rsquo;s just one LAN,
                    with no internal routing. Pretty basic.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.5yrrltl46bap">
            <span>Spanning tree protocol</span>
        </h3>
        <ul class="c2 lst-kix_avc3fqqw9mp7-0 start">
            <li class="c6 li-bullet-0">
                <span>A </span><span class="c29">bridge loop</span
                ><span class="c1"
                    >&nbsp;occurs in a network when there are two ways to reach
                    the same node.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>They&rsquo;re bad news because they can cause </span
                ><span class="c29">broadcast radiation</span
                ><span class="c1"
                    >, which is where there&rsquo;s so much traffic on the
                    network cabling that it severely harms the performance of
                    the network.</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <a id="t.4290de8a1d910c80b48b20d3165cd78fde6bd077"></a><a id="t.2"></a>
        <table class="c18">
            <tbody>
                <tr class="c33">
                    <td class="c34 c41" colspan="1" rowspan="1">
                        <p class="c24">
                            <span class="c21">No bridge loop</span>
                        </p>
                    </td>
                    <td class="c34 c41" colspan="1" rowspan="1">
                        <p class="c24"><span class="c21">Bridge loop</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34 c65" colspan="1" rowspan="1">
                        <p class="c24">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 185.38px;
                                    height: 447.5px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image207.png"
                                    style="
                                        width: 185.38px;
                                        height: 447.5px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c34 c65" colspan="1" rowspan="1">
                        <p class="c24">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 439.36px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image167.png"
                                    style="
                                        width: 286px;
                                        height: 439.36px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_viytw2rwolbj-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">Why is this so bad?</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Let&rsquo;s say the workstation wants to send a frame to
                    the file server. The switches will pass the frame onto the
                    neighbouring nodes, right? After all, no frame has been sent
                    before, there&rsquo;s no way the switches would know which
                    frames to send where.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The workstation&rsquo;s frame could end up back at switch 1
                    through the path 1 -&gt; 2 -&gt; 3 -&gt; 1 or 1 -&gt; 3
                    -&gt; 2 -&gt; 1. This loop is wasteful and clogs up the
                    medium.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The file server could also end up with two of the same
                    frame.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_viytw2rwolbj-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It&rsquo;s pretty clear that loops are bad. But they could
                    also be good, because what would happen if switch 3 dies? We
                    could still use the switch 2 path to get to the file server.
                    Whereas, on the left, if switch 1 dies, that&rsquo;s it. No
                    more talking to the file server.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_viytw2rwolbj-0">
            <li class="c6 li-bullet-0">
                <span>Introducing the </span
                ><span class="c29">spanning tree protocol</span
                ><span class="c1">!</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The spanning tree protocol maps out a set of paths from the
                    source to the target in a &ldquo;tree&rdquo; structure. It
                    plucks out the least cost path, and disables all the other
                    switches that are not on that path.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The source can then send the packet, and no loops will
                    occur.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >However, if a switch on that path fails, the protocol will
                    pick the next best path, and re-enable and disable the
                    appropriate switches to follow that path instead.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Therefore, we get the best of both worlds: no broadcast
                    radiation, and if any switches fail, we&rsquo;re fine.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_viytw2rwolbj-0">
            <li class="c6 li-bullet-0">
                <span class="c1">Want an example?</span>
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >So we want to get from the workstation to the file server.
                    There&rsquo;s two (sensible) ways </span
                ><span class="c1">of doing this:</span>
            </li>
        </ul>
        <p class="c24">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 117.63px;
                    height: 309.9px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image159.png"
                    style="
                        width: 117.63px;
                        height: 309.9px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_nndh3ewt9ol9-0 start">
            <li class="c15 li-bullet-0">
                <span class="c1"
                    >Normally, we&rsquo;d pick the smallest, but they&rsquo;re
                    both the same length, so let&rsquo;s go with the switch 3
                    path.</span
                >
            </li>
            <li class="c15 li-bullet-0">
                <span class="c1"
                    >So now, switch 2 is disabled. The workstation sends the
                    frame.</span
                >
            </li>
            <li class="c15 li-bullet-0">
                <span class="c1"
                    >Oh no! A rat chewed on the cabling of switch 3 and made it
                    explode! What are we going to do?!</span
                >
            </li>
            <li class="c15 li-bullet-0">
                <span class="c1"
                    >The protocol will now pick the switch 2 path. So now,
                    switch 2 is enabled, switch 3 is &ldquo;disabled&rdquo;, and
                    the frame is re-sent through the switch 2 path.</span
                >
            </li>
            <li class="c15 li-bullet-0">
                <span class="c1">It reaches the file server successfully!</span>
            </li>
        </ul>
        <h3 class="c5" id="h.j940nl7rxgqh"><span class="c45">VLANs</span></h3>
        <ul class="c2 lst-kix_1zn13upi4hn8-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >A VLAN, or a Virtual LAN, are broadcast domains that are
                    partitioned and isolated.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >A VLAN can consist of multiple hosts, all of different
                    LANs, but they are made to think that they are all connected
                    to the same wire.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Ethernet frames include an optional VLAN identifier.
                    It&rsquo;s 12-bits, so there are 4096 different VLAN
                    IDs.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Because it&rsquo;s completely logical and not physical,
                    it&rsquo;s quite flexible.</span
                >
            </li>
        </ul>
        <p class="c24">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 563.48px;
                    height: 399.5px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image81.png"
                    style="
                        width: 563.48px;
                        height: 399.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_1zn13upi4hn8-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Here, workstations 1, 3 and 5 think they&rsquo;re all on
                    the same LAN, but really it&rsquo;s a VLAN.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This is useful to group together staff that aren&rsquo;t
                    physically in the same LAN, for example, workstations 1, 3
                    and 5 might all be in the marketing department.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.w3o3z1mhkr8w">
            <span class="c45">Ethernet frame priority</span>
        </h3>
        <ul class="c2 lst-kix_citoudh2ejti-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">How important is a frame?</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >VoIP is pretty important, because you want to know what the
                    other person is saying as they&rsquo;re saying it.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >HTTP might not be as important, because it&rsquo;s a
                    document; you don&rsquo;t need it right away.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_citoudh2ejti-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >There are three bits in the 802.1Q tag that determines
                    priority, from 1 to 7.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This only affects prioritisation at switches, not
                    end-to-end.</span
                >
            </li>
        </ul>
        <h2 class="c44" id="h.1ysfyww7xbnz-2">
            <span class="c9">Internet/Network layer</span>
        </h2>
        <ul class="c2 lst-kix_cph5dxwyvf1e-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">What does the network layer actually do?</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The network layer is responsible for establishing a network
                    between computers so that they can send things to each
                    other.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >In more detail, the network layer is responsible for:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_cph5dxwyvf1e-1 start">
            <li class="c0 li-bullet-0">
                <span class="c14">Internetworking</span
                ><span class="c1">:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_cph5dxwyvf1e-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >Connecting networks together to form an
                    &ldquo;internetwork&rdquo;, or &ldquo;Internet&rdquo;</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c1">Each network is served by a router</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_cph5dxwyvf1e-1">
            <li class="c0 li-bullet-0">
                <span class="c14">Transmitting</span><span class="c1">:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_cph5dxwyvf1e-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1">Packets the data by adding an IP header</span>
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >Processes and routes IP datagrams (data units across the
                    network)</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c1">Fragmenting packets that are too big</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_cph5dxwyvf1e-1">
            <li class="c0 li-bullet-0">
                <span class="c14">Receiving</span><span class="c1">:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_cph5dxwyvf1e-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1">Error checking</span>
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c1">Reassembling fragments if needed</span>
            </li>
        </ul>
        <h3 class="c5" id="h.coztm51vpwdi">
            <span class="c45">Internet Protocol (IP)</span>
        </h3>
        <ul class="c2 lst-kix_cph5dxwyvf1e-0">
            <li class="c6 li-bullet-0">
                <span class="c29">IP </span><span>(or</span><span>&nbsp;</span
                ><span class="c29">Internet Protocol</span
                ><span class="c1"
                    >) is the main protocol used in the network layer.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">The properties of IP are:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_cph5dxwyvf1e-1 start">
            <li class="c0 li-bullet-0">
                <span class="c14">Packet-switched, connectionless</span
                ><span class="c1">:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_cph5dxwyvf1e-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >IP packets are routed towards destination at each router on
                    the path</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c29">Connectionless</span
                ><span class="c1"
                    >: packets find their own way to the destination, it
                    doesn&rsquo;t have to rely on a fixed path from A to B</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_cph5dxwyvf1e-1">
            <li class="c0 li-bullet-0">
                <span class="c14">Unreliable</span><span class="c1">:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_cph5dxwyvf1e-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >No guarantee that any IP datagram will be received</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c29">Best-effort delivery</span
                ><span class="c1"
                    >: there is a variable bit rate and latency and packet loss
                    depending on the current traffic load. Basically, the
                    routers try their best but won&rsquo;t guarantee perfect
                    performance</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_cph5dxwyvf1e-1">
            <li class="c0 li-bullet-0">
                <span class="c14">Routing</span><span class="c1">:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_cph5dxwyvf1e-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >Sending a packet is only based on destination IP
                    address</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >Routers maintain routing tables to make routing
                    decisions</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_cph5dxwyvf1e-1">
            <li class="c0 li-bullet-0">
                <span class="c14">Globally unique, delegated addresses</span
                ><span class="c1">:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_cph5dxwyvf1e-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >Devices must be globally unique + addressable to send
                    traffic to them</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >Private address space, which are not globally routed, may
                    be used (because that&rsquo;s the whole point, since we ran
                    out of IP addresses)</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_cph5dxwyvf1e-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >There are 5 main protocols for the network layer:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_cph5dxwyvf1e-1 start">
            <li class="c0 li-bullet-0"><span class="c1">IPv4</span></li>
            <li class="c0 li-bullet-0"><span class="c1">IPv6</span></li>
            <li class="c0 li-bullet-0">
                <span class="c1">ICMP - used for diagnostics and control</span>
            </li>
            <li class="c0 li-bullet-0"><span class="c1">ICMPv6</span></li>
            <li class="c0 li-bullet-0">
                <span class="c1">IPSEC - used for security</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_cph5dxwyvf1e-0">
            <li class="c6 li-bullet-0">
                <span class="c29">Store-and-forward</span
                ><span class="c1"
                    >&nbsp;packet switching is a technique where data is sent to
                    an intermediary node and then passed on to either another
                    intermediary node or the destination node.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>In this context, routers </span
                ><span class="c14">store</span
                ><span>&nbsp;the packet and determine where to </span
                ><span class="c14">forward</span
                ><span class="c1">&nbsp;them.</span>
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 559px;
                    height: 207.5px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image172.png"
                    style="
                        width: 559px;
                        height: 207.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_6lrjdk959dhm-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >IP is a bit unreliable, because routers forward packets on
                    a &lsquo;best effort&rsquo; basis.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Packets may get dropped because of congestion. The
                    transport layer (next layer above) may handle
                    retransmissions:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_6lrjdk959dhm-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">With TCP, retransmissions are handled</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >With UDP, the application layer has to handle
                    retransmission</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_6lrjdk959dhm-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Quality of Service may help by prioritising certain
                    traffic.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_6lrjdk959dhm-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >In IPv4, segments of data are taken from the transport
                    layer and an IP header is attached to the end of it.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">This creates an IP datagram.</span>
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 291.5px;
                    height: 80.43px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image146.png"
                    style="
                        width: 291.5px;
                        height: 80.43px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_tzrttgrn2dh-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">An IP header has the following fields:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_tzrttgrn2dh-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">Source IP address</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Destination IP address</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">IHL - header length (can vary)</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Identification field and fragment offset</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Time to live (how long should this packet stay switching
                    before we give up)</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">IP header checksum</span>
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 537.61px;
                    height: 245.5px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image145.png"
                    style="
                        width: 537.61px;
                        height: 245.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_mk7yz77odbl6-0 start">
            <li class="c6 li-bullet-0">
                <span class="c29">MTU </span><span>(or </span
                ><span class="c29">Maximum Transmission Unit</span
                ><span class="c1"
                    >) is the size of the largest data unit that can be
                    communicated in a single network layer transaction.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >If we&rsquo;re sending a packet of 2000 bytes to a router,
                    and the MTU is 1500 bytes, then the packet has to be
                    fragmented.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Fragmentation happens in the network layer.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >We should try to avoid fragmentation, because it adds
                    overhead and security issues.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_mk7yz77odbl6-0">
            <li class="c6 li-bullet-0">
                <span class="c1">Now, a bit of history of IPv4!</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_mk7yz77odbl6-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">People used IPv4 since the 1970&rsquo;s</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >It uses 32-bit addresses, written as &lsquo;dotted
                    quads&rsquo;, like 152.78.64.100.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >The IPv4 address space is partitioned into 5 different
                    classes, where 3 classes are used for networks of different
                    sizes, 1 class is used for multicast groups and 1 class is
                    reserved:</span
                >
            </li>
        </ul>
        <p class="c20 c22"><span class="c1"></span></p>
        <a id="t.62662d05931a43d128ef283d45100ab75827c8d6"></a><a id="t.3"></a>
        <table class="c109">
            <tbody>
                <tr class="c33">
                    <td class="c102 c81" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">Class</span></p>
                    </td>
                    <td class="c70 c81" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">Prefix range</span></p>
                    </td>
                    <td class="c123 c81" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">Prefix length</span></p>
                    </td>
                    <td class="c26 c81" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1"># of networks</span></p>
                    </td>
                    <td class="c112 c81" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"># addresses per network</span>
                        </p>
                    </td>
                    <td class="c51" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">Examples</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c102 c77" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">A</span></p>
                    </td>
                    <td class="c70 c77" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c29">0</span
                            ><span class="c1">.0.0.0 to</span>
                        </p>
                        <p class="c16">
                            <span class="c29">127</span
                            ><span class="c1">.0.0.0</span>
                        </p>
                    </td>
                    <td class="c123 c77" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">8 bits</span></p>
                    </td>
                    <td class="c26 c77" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">128 networks</span></p>
                    </td>
                    <td class="c77 c112" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1">~16 million addresses</span>
                        </p>
                    </td>
                    <td class="c77 c97" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">20.xx.xx.xx</span></p>
                        <p class="c16"><span class="c1">102.xx.xx.xx</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c57 c102" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">B</span></p>
                    </td>
                    <td class="c70 c57" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c29">128</span><span>.0.0.0 to </span
                            ><span class="c29">191</span
                            ><span class="c1">.255.0.0.</span>
                        </p>
                    </td>
                    <td class="c123 c57" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">16 bits</span></p>
                    </td>
                    <td class="c26 c57" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1">~16,000 networks</span>
                        </p>
                    </td>
                    <td class="c112 c57" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1">~65,000 addresses</span>
                        </p>
                    </td>
                    <td class="c97 c57" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">152.78.xx.xx</span></p>
                        <p class="c16"><span class="c1">160.125.xx.xx</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c102 c138" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">C</span></p>
                    </td>
                    <td class="c70 c138" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c29">192</span><span>.0.0.0 to </span
                            ><span class="c29">223</span
                            ><span class="c1">.255.255.0</span>
                        </p>
                    </td>
                    <td class="c123 c138" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">24 bits</span></p>
                    </td>
                    <td class="c26 c138" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1">~2 million networks</span>
                        </p>
                    </td>
                    <td class="c112 c138" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">256 addresses</span></p>
                    </td>
                    <td class="c97 c138" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">196.50.40.xx</span></p>
                        <p class="c16"><span class="c1">202.155.4.xx</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c102" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">D</span></p>
                    </td>
                    <td class="c70" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c29">224</span><span>.0.0.0 to </span
                            ><span class="c29">239</span
                            ><span class="c1">.255.255.255</span>
                        </p>
                    </td>
                    <td class="c123" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">n/a</span></p>
                    </td>
                    <td class="c26" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">n/a</span></p>
                    </td>
                    <td class="c112" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">n/a</span></p>
                    </td>
                    <td class="c97" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >n/a (used for multicast groups)</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c102" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">E</span></p>
                    </td>
                    <td class="c70" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c29">240</span><span>.0.0.0 to </span
                            ><span class="c29">255</span
                            ><span class="c1">.255.255.255</span>
                        </p>
                    </td>
                    <td class="c123" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">n/a</span></p>
                    </td>
                    <td class="c26" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">n/a</span></p>
                    </td>
                    <td class="c112" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">n/a</span></p>
                    </td>
                    <td class="c97" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1">n/a (reserved)</span>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c20 c22"><span class="c1"></span></p>
        <ul class="c2 lst-kix_r0e5nqcbf9q1-0 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Here is a graphical visualisation of the partitioning of
                    the IPv4 address space:</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <a id="t.6eb23a303ce94806249cf649721f6865a96feff0"></a><a id="t.4"></a>
        <table class="c42">
            <tbody>
                <tr class="c46">
                    <td class="c77 c100" colspan="2" rowspan="4">
                        <p class="c24"><span class="c1">Class A</span></p>
                    </td>
                    <td class="c180 c192" colspan="2" rowspan="2">
                        <p class="c24"><span class="c1">Class B</span></p>
                    </td>
                </tr>
                <tr class="c194"></tr>
                <tr class="c46">
                    <td class="c124 c138" colspan="1" rowspan="2">
                        <p class="c24"><span class="c1">Class C</span></p>
                    </td>
                    <td class="c178" colspan="1" rowspan="1">
                        <p class="c24"><span class="c1">Class D</span></p>
                    </td>
                </tr>
                <tr class="c46">
                    <td class="c178" colspan="1" rowspan="1">
                        <p class="c24"><span class="c1">Class E</span></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_mk7yz77odbl6-1">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Basically, if an IPv4 address is within a certain class, it
                    must follow two rules:</span
                >
            </li>
        </ul>
        <ol class="c2 lst-kix_x77i8aqjdeot-0 start" start="1">
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >The first 8 bits must be within a certain range</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c1">It must have a fixed prefix</span>
            </li>
        </ol>
        <ul class="c2 lst-kix_vdh3ur2tobhv-0 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >For example, if an IP is within class B, the first 8 bits
                    must be between 128 and 191, and the first two bytes must be
                    fixed.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Additionally, an IP range of 152.xx.xx.xx cannot be within
                    class A because the first byte lies outside of A&rsquo;s
                    range; it would be B, but the second byte would be part of
                    the fixed prefix too, so you should write something like
                    152.78.xx.xx.</span
                >
            </li>
        </ul>
        <p class="c20 c22"><span class="c1"></span></p>
        <ul class="c2 lst-kix_mk7yz77odbl6-1">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >This is generally very inefficient, e.g. there are not many
                    networks that require a Class A IP address and thus 16
                    million different addresses, which means that a lot of space
                    is wasted. Even 65,000 addresses in class B are too many for
                    most networks.</span
                >
            </li>
        </ul>
        <p class="c20 c22"><span class="c1"></span></p>
        <ul class="c2 lst-kix_mk7yz77odbl6-1">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Since 1995, RIR (Regional Internet Registry) allowed
                    variable length prefixes, meaning that network addresses
                    were no longer assigned strictly based on the ABC class
                    scheme</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >This change reduced address consumption rate, but we still
                    ran out of addresses back in 2011.</span
                >
            </li>
        </ul>
        <p class="c20 c22"><span class="c1"></span></p>
        <ul class="c2 lst-kix_mk7yz77odbl6-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Due to the fact that there are still not enough IPv4
                    addresses for all hosts world-wide, private IP addresses
                    were introduced</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >More precisely, there exist ranges in the IPv4 address
                    space that are used as private IP addresses</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >What does private IP address mean? It basically means that
                    this is an IP address that is not globally unique and thus
                    cannot be reached from outside the network.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >In other words, private IP addresses may be used many many
                    times in different networks world-wide</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >An example for the use of a private IP address is your home
                    network</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >There exist three different private IP networks with the
                    following address ranges:</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <a id="t.a1489768324306202cfaf5efcb34bdf3202da0bd"></a><a id="t.5"></a>
        <table class="c141 c163">
            <tbody>
                <tr class="c33">
                    <td class="c76 c81" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c21">Address range</span>
                        </p>
                    </td>
                    <td class="c76 c81" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c21">Number of addresses</span>
                        </p>
                    </td>
                    <td class="c76 c81" colspan="1" rowspan="1">
                        <p class="c16"><span class="c21">Subnet mask</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c76 c77" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">10.0.0.0 -</span></p>
                        <p class="c16">
                            <span class="c1">10.255.255.255</span>
                        </p>
                    </td>
                    <td class="c76 c77" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">16,777,216</span></p>
                    </td>
                    <td class="c76 c77" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">8 bits mask</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c76 c57" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1">172.16.0.0 - 172.31.255.255</span>
                        </p>
                    </td>
                    <td class="c76 c57" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">1,048,576</span></p>
                    </td>
                    <td class="c76 c57" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">12 bits mask</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c76 c138" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >192.168.0.0 - 192.168.255.255</span
                            >
                        </p>
                    </td>
                    <td class="c76 c138" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">65,536</span></p>
                    </td>
                    <td class="c76 c138" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">16 bits mask</span></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_mk7yz77odbl6-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >For example, your home network may use 192.168.0.0</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >You can further divide the private address space into
                    subnets as you wish (more on subnets later), so you could
                    have 192.168.0.0/24, allowing for 255 ip host
                    addresses</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >There must be a mechanism to translate your private IP
                    address to a public ip address, which is called NAT (see
                    below)</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_mk7yz77odbl6-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >We can maximise the use of address space:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_mk7yz77odbl6-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">DHCP </span><span>(or </span
                ><span class="c29">Dynamic Host Configuration Protocol</span
                ><span class="c1"
                    >) requires IP addresses to be leased out for small time
                    periods, preventing inactive hosts from hogging valuable
                    address space</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">NAT </span><span>(or </span
                ><span class="c29">Network Address Translation</span
                ><span class="c1"
                    >) allows you to use one IPv4 address to refer to an entire
                    private network, so each device on your network
                    doesn&rsquo;t need their own unique IPv4 address</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Classless Inter-Domain Routing</span
                ><span class="c1"
                    >: allows use of any prefix length, not just /8, /16 or
                    /24</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.7tfxku2yvon0"><span class="c45">Subnets</span></h3>
        <ul class="c2 lst-kix_sc5qn7ihv2hx-0 start">
            <li class="c6 li-bullet-0">
                <span>Remember that a </span><span class="c29">subnet </span
                ><span class="c1"
                    >is a localised network behind a router (its default
                    gateway).</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The full name is &ldquo;subnetwork&rdquo;.</span
                >
            </li>
        </ul>
        <p class="c20">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 242.67px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image180.png"
                    style="
                        width: 602px;
                        height: 242.67px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_usi9k3js8jdu-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >There are various addresses concerning IP subnets,
                    like:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_usi9k3js8jdu-1 start">
            <li class="c0 li-bullet-0">
                <span class="c39 c14">Subnet network address:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_usi9k3js8jdu-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1">The first IP in the range</span>
            </li>
            <li class="c20 c43 li-bullet-0"><span>e.g. 152.78.70.0</span></li>
        </ul>
        <ul class="c2 lst-kix_usi9k3js8jdu-1">
            <li class="c0 li-bullet-0">
                <span class="c39 c14">Subnet prefix length</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_usi9k3js8jdu-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >How big is the prefix of the range of IPs</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >e.g. 24 bits, so 152.78.70.(0 to 255) is written
                    152.78.70.0/24</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_usi9k3js8jdu-1">
            <li class="c0 li-bullet-0">
                <span class="c14">Subnet mask</span><span>&nbsp;(or </span
                ><span class="c14">network mask</span><span>&nbsp;or </span
                ><span class="c14">netmask</span><span class="c1">)</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_usi9k3js8jdu-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >The fixed prefix bits for all hosts in the subnet</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c1">e.g. 255.255.255.0</span>
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >In full: 11111111 11111111 11111111 00000000</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >Conveys the same information as the prefix length</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_usi9k3js8jdu-1">
            <li class="c0 li-bullet-0">
                <span class="c14 c39">Subnet IP broadcast address</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_usi9k3js8jdu-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >The IP address to use when you want to broadcast to the
                    whole network</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c1">The last IP in the range</span>
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c1">e.g. 152.78.70.255</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_usi9k3js8jdu-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Here&rsquo;s a picture of all possible subnet masks you can
                    use in IPv4:</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 401.5px;
                    height: 559.3px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image123.png"
                    style="
                        width: 401.5px;
                        height: 559.3px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_3cj7ipj3zo29-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >So you have a subnet and a bunch of addresses you can
                    use...</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >... but not all of them can be used for hosts.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Three are reserved for:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_3cj7ipj3zo29-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >The subnet network address (e.g. 152.78.70.0)</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >The subnet broadcast address (e.g. 152.78.70.255)</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span>The address of the router, also called gateway (</span
                ><span
                    >any other address within the subnet range, but
                    conventionally either </span
                ><span class="c1">152.78.70.1 or 152.78.70.254)</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_3cj7ipj3zo29-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >How do you determine a subnet (network) address?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Take the IP address and subnet mask (derived from the
                    prefix length), and binary AND them to get the subnet
                    network address.</span
                >
            </li>
        </ul>
        <p class="c20">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 254.67px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image77.png"
                    style="
                        width: 602px;
                        height: 254.67px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_57vhhqbrj1wi-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >How do you determine a subnet broadcast address?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Take the IP address and wildcard mask, that is the inverted
                    binary subnet mask, and binary OR them to get the subnet
                    broadcast address</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Determining the broadcast address for a device with IP
                    address 172.16.17.30 and subnet mask 255.255.240.0 (/20),
                    which is the wildcard mask 0.0.15.255:</span
                >
            </li>
        </ul>
        <a id="t.8a67e2914b3a39df56d8017218908a1eccfae3ac"></a><a id="t.6"></a>
        <table class="c163 c141">
            <tbody>
                <tr class="c33">
                    <td class="c157" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c73 c4">172.16.17.30</span>
                        </p>
                    </td>
                    <td class="c69" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c73 c4"
                                >10101100.00010000.00010001.00011110</span
                            >
                        </p>
                    </td>
                    <td class="c114" colspan="1" rowspan="1">
                        <p class="c16 c40"><span class="c73 c4"></span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c157" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c73 c4">0.0.15.255</span>
                        </p>
                    </td>
                    <td class="c69" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c73 c4"
                                >00000000.00000000.00001111.11111111</span
                            >
                        </p>
                    </td>
                    <td class="c114" colspan="1" rowspan="1">
                        <p class="c16 c40"><span class="c73 c4"></span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c157" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c4 c73">Broadcast =</span>
                        </p>
                    </td>
                    <td class="c69" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c73 c4"
                                >10101100.00010000.00011111.11111111</span
                            >
                        </p>
                    </td>
                    <td class="c114" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c73 c4">= 172.16.31.255</span>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_57vhhqbrj1wi-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >ARP can also be used to find the Ethernet (MAC) address of
                    the default router (gateway) of the network (if the
                    destination IP is not in the same subnet).</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This is why being able to use the subnet mask to determine
                    the subnet address is important.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_57vhhqbrj1wi-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >What happens if you screw up the subnet mask (e.g. if the
                    network admin misconfigured the value on the DHCP
                    server)?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >If it&rsquo;s too short (it is /23 when it should be
                    /24)</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_57vhhqbrj1wi-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Host may think a remote host is local, so it&rsquo;ll use
                    ARP locally</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">It won&rsquo;t get a response</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_57vhhqbrj1wi-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >If it&rsquo;s too long (it is /25 when it should be
                    /24)</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_57vhhqbrj1wi-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Host may think a local host is remote, so it&rsquo;ll send
                    it to the router</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >The router may end up redirecting the packet</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.nna1lwz6jlsn">
            <span class="c45">Calculating subnets</span>
        </h3>
        <ul class="c2 lst-kix_57vhhqbrj1wi-0">
            <li class="c6 li-bullet-0">
                <span>Here is a </span><span>concrete</span
                ><span class="c1"
                    >&nbsp;example of how to calculate subnets - you could find
                    a question like this in the exam:</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >You have been tasked with assigning IPv4 address ranges to
                    six subnets in a new building and specifying the routing
                    tables. You have been allocated 152.78.64.0/22 to carry out
                    this task. How would you allocate this block of addresses to
                    best use the available space to cater for &hellip;? In your
                    answer you should include the network address, the broadcast
                    address and prefix length of each subnet!</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_57vhhqbrj1wi-1">
            <li class="c6 li-bullet-0">
                <span class="c39 c14">A computing lab with 260 computers</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >First of all, let&rsquo;s determine the subnet size we
                    need. We want to find the smallest power of two that exceeds
                    the host count by at least three. Why three? Because one is
                    the network address, one is the broadcast address and one is
                    reserved for the gateway (default router). Why the smallest?
                    Because we do not want to waste any addresses by making our
                    subnet too large.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>In this case, it is 9 because 2</span
                ><span class="c1">^9 = 512 and 512 - 3 &gt;= 260.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >So for this subnet, we will need the last 9 bits for the
                    hosts, thus the first 32 - 9 = 23 bits are used for the
                    network and stay fixed (Why did I use 32? Well, the whole IP
                    address has 32 bits). Our subnet will be a /23 subnet.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Next, determine the network address for this subnet. The
                    network address is always the lowest address. Since this is
                    the first subnet, we are going to start with 152.78.64.0,
                    which is given in the question.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Finally, we need to determine the broadcast address. Our
                    network address is 152.78.64.0 and our subnet mask is /23.
                    The broadcast address is always the highest address.
                    Therefore we need to copy the first 23 bits and leave them
                    unchanged, and take the last 9 bits and set them to 1.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >After you do this you will get 152.78.65.255, which is our
                    broadcast address.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >So all in all our subnet is 152.78.64.0/23 with the
                    broadcast address 152.78.65.255</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_57vhhqbrj1wi-1">
            <li class="c6 li-bullet-0">
                <span class="c39 c14"
                    >An electronics lab subnet with 200 computers</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Again, we will determine the subnet size first. This time
                    it is 8, because 2^8 = 256 and 256 - 3 &gt;= 200. Therefore
                    our subnet will be a 32 - 8 &rarr; /24 subnet</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >To determine the network address, take the broadcast
                    address of the last subnet and add 1. Why 1? Because we
                    don&rsquo;t want to leave any gaps and thus waste addresses
                    in our allocation. </span
                ><span>152.78.65.255 + 1 &rarr; &nbsp;152.78.66.0 </span
                ><span class="c30 c59"
                    >(by doing this, we ensure that this subnet begins
                    immediately after the last one ends) </span
                ><span class="c29 c71">Attention</span
                ><span
                    >: This only works if the current subnet is of the same size
                    or smaller than the last one. Otherwise, you might need to
                    leave a gap. You can check if you need to leave a gap by
                    checking whether the network address is the lowest one in
                    the range. If it isn&rsquo;t, you must leave a gap and skip
                    to the next possible network address.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >To determine the broadcast address, take the first 24 bits
                    of the network address and set the last 8 bits to 1.
                    Luckily, the first 24 bits are exactly the first 3 groups.
                    Now we get 152.78.66.255.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >All in all, our subnet is 152.78.66.0/24 with the broadcast
                    address 152.78.66.255.<br
                /></span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c39 c14">An office subnet with 110 computers</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Subnet size: 2^7 = 128, 128 - 3 &gt;= 110 &rarr; /25</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Network address: 152.78.66.255 + 1 &rarr;
                    152.78.67.0/25</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Broadcast address: 152.78.67.127</span>
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >Also, an alternative way to calculate the broadcast address
                    if you already have the network address is to just add the
                    subnet size - 1 to the network address. In this case the
                    subnet size is 128 addresses, so we will add 127. Take
                    152.78.67.0 + 127 &rarr; 152.78.67.127 and you are done. </span
                ><span class="c29 c71">Attention</span
                ><span class="c1"
                    >: this only works if you add to the network address, the
                    other procedure works with every address within the network!
                    This technique is especially helpful if the subnet size is 8
                    or smaller.</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_57vhhqbrj1wi-1">
            <li class="c6 li-bullet-0">
                <span class="c39 c14">A server subnet with 60 servers</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Subnet size: 2^6 = 64, 64 - 3 &gt;= 60 &rarr; /26</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Network address: 152.78.67.127 + 1 &rarr;
                    152.78.67.128/26</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Broadcast address: 152.78.67.128 + 63 &rarr;
                    152.78.67.191</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_57vhhqbrj1wi-1">
            <li class="c6 li-bullet-0">
                <span class="c39 c14">A DMZ subnet with 25 servers</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Subnet size: 2^5 = 32, 32 - 3 &gt;= 25 &rarr; /27</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Network address: 152.78.67.191 + 1 &rarr;
                    152.78.67.192/27</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Broadcast address: 152.78.67.192 + 31 &rarr;
                    152.78.67.223</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_57vhhqbrj1wi-1">
            <li class="c6 li-bullet-0">
                <span class="c39 c14"
                    >An infrastructure subnet with 17 devices</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Subnet size: 2^5 = 32, 32 - 3 &gt;= 17 &rarr; /27</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Network address: 152.78.67.223 + 1 &rarr;
                    152.78.67.224/27</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Broadcast address: 152.78.67.224 + 31 &rarr;
                    152.78.67.255</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_57vhhqbrj1wi-1">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >We are done. As a last cross-check we can verify whether
                    our allocation fits within the range we were initially
                    given. Wait, you don&rsquo;t need to scroll up, it was
                    152.78.64.0/22.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Let&rsquo;s determine the broadcast address. Be careful,
                    because it might be the case that the address given is not
                    the network address (i.e. the lowest address) of this range,
                    so you may not be able to just use the trick I previously
                    used and add 1023 to this address!</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >To determine the network address, take the first 22 bits
                    and leave them unchanged. Set the remaining 10 bits to 0.
                    You will get 152.78.64.0, so as it turns out, the address
                    given was indeed the network address (which is the lowest
                    address).</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >To determine the broadcast address, either set the last 10
                    bits to 1 or just add 1023 to the network address. You will
                    get 152.78.67.255, which is exactly the broadcast address of
                    our last subnet.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >So to conclude, our allocation fits perfectly in the range
                    that we were initially given.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.mrse3ptikrai"><span class="c45">ICMP</span></h3>
        <ul class="c2 lst-kix_frwro8b0w4nm-0 start">
            <li class="c6 li-bullet-0">
                <span class="c29">ICMP </span><span>(or </span
                ><span class="c29">Internet Control Message Protocol</span
                ><span class="c1"
                    >) is a supporting protocol for sending status messages
                    between hosts instead of actual data.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">If you ping a host, that&rsquo;s ICMP.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >ICMP can be used to send error messages or other
                    operational information.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >ICMP can also be used for routers to tell other routers
                    about themselves to fill out their routing tables, called </span
                ><span class="c29">router advertisement</span
                ><span class="c1">.</span>
            </li>
        </ul>
        <h2 class="c44" id="h.1ysfyww7xbnz-3">
            <span class="c9">IP routing protocols</span>
        </h2>
        <ul class="c2 lst-kix_ux8ys1owz1aw-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >When a host sends a packet, it will send it:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_ux8ys1owz1aw-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >directly to the destination, if it&rsquo;s on the same
                    local subnet</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >to the router, if the destination is not on the local
                    subnet</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_ux8ys1owz1aw-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Hosts have no idea what goes on outside their subnet; they
                    just send to the router and let that take care of the
                    rest.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >The router will participate in a site routing protocol, and
                    the site routes to the Internet using a policy-rich routing
                    protocol called </span
                ><span class="c29">Border Gateway Protocol (BGP)</span
                ><span class="c1">.</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_ux8ys1owz1aw-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >To determine whether to deliver locally or forward to a
                    router, a host maintains a small routing table, with a list
                    of known networks and how to reach them (can be built from
                    information learnt by DHCP or IPv6 RAs)</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The table includes a local subnet in which the host
                    resides, and a &lsquo;default&rsquo; route to send a packet
                    if the destination is not in the routing table (the
                    &lsquo;default&rsquo; route is usually to the router /
                    default gateway)</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_ux8ys1owz1aw-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >But when a packet gets to the router, what do we do
                    then?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The router needs to try to forward the packet to the
                    destination&rsquo;s router.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">This is where we use routing protocols!</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_ux8ys1owz1aw-0">
            <li class="c6 li-bullet-0">
                <span class="c1">So, how do we solve this problem?</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_ux8ys1owz1aw-1 start">
            <li class="c0 li-bullet-0">
                <span class="c14">Static routing</span><span class="c1">:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_ux8ys1owz1aw-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1">We configure the routes manually.</span>
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >It works, but if the topology changes or network faults
                    occur, we have problems</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_ux8ys1owz1aw-1">
            <li class="c0 li-bullet-0">
                <span class="c14">Dynamic routing</span
                ><span class="c1">:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_ux8ys1owz1aw-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >We use routing protocols to establish a route on-the-fly,
                    such as:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_ux8ys1owz1aw-3 start">
            <li class="c20 c98 li-bullet-0">
                <span class="c29">Routing Information Protocol</span
                ><span>&nbsp;(</span><span class="c29">RIP</span
                ><span class="c1">) - distance vector algorithm</span>
            </li>
            <li class="c20 c98 li-bullet-0">
                <span class="c29">Open Shortest Path First</span
                ><span>&nbsp;(</span><span class="c29">OSPF</span
                ><span class="c1">) - link state algorithm</span>
            </li>
            <li class="c20 c98 li-bullet-0">
                <span class="c29">IS-IS</span
                ><span class="c1">&nbsp;- link state algorithm</span>
            </li>
        </ul>
        <h3 class="c5" id="h.feomarjoc9om">
            <span>Aggregating prefixes</span>
        </h3>
        <ul class="c2 lst-kix_ux8ys1owz1aw-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >You&rsquo;d think all routers would need to have access to
                    all other routers on the Internet to communicate,
                    right?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">No need; aggregated prefixes exist!</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Instead of routing to 152.78.70.0/24 exactly, you can route
                    to 152.78.0.0/16, and through there the packet can find its
                    way into the smaller subnets, like 152.78.240.0/20,
                    152.78.255.128/25, and any subnet with address
                    152.78.??.??/x where x is greater than 16.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Let&rsquo;s look at an example:</span>
            </li>
        </ul>
        <p class="c20">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 358.67px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image201.png"
                    style="
                        width: 602px;
                        height: 358.67px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_kpyk5k9v9ork-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Here, R1 serves 152.78.2.0/24 and R7 serves
                    152.78.64.0/23.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Instead of sending directly to R1, we can send our packet
                    to the border router, which serves 152.78.0.0/16, which
                    makes it an &ldquo;umbrella&rdquo; router for all addresses
                    152.78.0.0 to 152.78.255.255.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.e27dbjvjin6c">
            <span class="c45">Interior routing protocols</span>
        </h3>
        <ul class="c2 lst-kix_5zzrw5j8sxe0-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Routing is all about routers maintaining routing tables and
                    looking up destination addresses to know where to send off
                    the packet to.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The routing table is, fundamentally, a table with
                    destination IP prefixes and the interface or next hop to
                    use.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >So how do routers fill in their routing tables? Routing
                    protocols! They allow routers to build or exchange routing
                    information.</span
                >
            </li>
        </ul>
        <h4 class="c80" id="h.yz4f0dqfn0e7">
            <span class="c110 c59">Distance Vector</span>
        </h4>
        <ul class="c2 lst-kix_xrhunox1ok0z-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >With the distance-vector routing protocol, we determine the
                    best route from one router to the next by distance, the
                    distance being the number of routers (or hops) from the
                    source to the destination.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It does this by only talking to the directly neighbouring
                    routers in a site, and uses an algorithm such as the
                    Bellman-Ford algorithm to get the shortest distance.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>An application of this would be the </span
                ><span class="c29">Routing Information Protocol</span
                ><span>&nbsp;(</span><span class="c29">RIP</span
                ><span class="c1">).</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_xrhunox1ok0z-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >RIP is just an application of the distance-vector protocol,
                    but with a few extra conditions.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Each router maintains a RIP routing table, storing:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_xrhunox1ok0z-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">Destination network</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Cost (hop count); 0 if network is directly connected</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Next hop to use for best path</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_xrhunox1ok0z-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >If a router receives an update with a lower cost path to a
                    destination network, it updates its entry for that
                    destination</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >If a router receives a higher cost path later for the same
                    destination from the same neighbour, the higher value is
                    used because topologies can change and the lower cost route
                    might not be valid anymore</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 591px;
                    height: 333px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image91.png"
                    style="
                        width: 602px;
                        height: 455px;
                        margin-left: -11px;
                        margin-top: -60px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_ygk45p85so36-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This is all great, but RIP isn&rsquo;t perfect:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_ygk45p85so36-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Updates are only sent every 30 seconds, so things take
                    time. Plus, updates aren&rsquo;t acknowledged (UDP) so there
                    could be message loss</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Metrics are simple hop count values. What if you wanted to
                    weight certain links? Plus, the maximum value is 15. A value
                    of 16 means unreachable.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span
                    >Routers don&rsquo;t have knowledge of network topology, so
                    this can lead to the &lsquo;count to infinity&rsquo; problem
                    (basically, a loop)</span
                >
            </li>
        </ul>
        <h4 class="c80" id="h.l5s9ispg6i3j">
            <span class="c110 c59">Link state</span>
        </h4>
        <ul class="c2 lst-kix_ou3xxesm0nv4-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >With the link-state routing protocol, we talk to all
                    routers and establish full knowledge of the site</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Routers flood information messages describing their
                    connected neighbours around the entire site</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >An application of this would be IS-IS (Intermediate System
                    to Intermediate System) or OSPF (Open Shortest Path
                    First).</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">The steps are as follows:</span>
            </li>
        </ul>
        <ol class="c2 lst-kix_9ur05i3jnube-0 start" start="1">
            <li class="c0 li-bullet-0">
                <span class="c1">Discover neighbours</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Determine cost metric to each neighbour</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Construct link-state information packet</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Flood this message to all site routers in the same
                    area</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Use messages to build topology, and then compute shortest
                    paths for prefixes served by any given router</span
                >
            </li>
        </ol>
        <ul class="c2 lst-kix_fvo7kftqy8rz-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The cost is usually based on bandwidth/delay</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_fvo7kftqy8rz-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The structure of a link state packet is as follows:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_fvo7kftqy8rz-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">Source ID to uniquely identify the node</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Sequence to allow receiver to determine if message is a new
                    one to process and flood, or one to discard (sender
                    increments sequence number with each message)</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Age (decremented once per second, prevents old messages
                    persisting in the network)</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_fvo7kftqy8rz-0">
            <li class="c6 li-bullet-0">
                <span class="c1">All messages are acknowledged to senders</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_fvo7kftqy8rz-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Because we know the whole topology, we don&rsquo;t need to
                    use Bellman-Ford or anything. We can just use
                    Dijkstra&rsquo;s, which is faster.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.8vdjxmmcoyd">
            <span class="c45">Exterior routing protocols</span>
        </h3>
        <ul class="c2 lst-kix_547z0vq12bet-0 start">
            <li class="c6 li-bullet-0">
                <span class="c29">Autonomous system </span><span>(</span
                ><span class="c29">AS</span><span>)</span
                ><span class="c1"
                    >: a network or a collection of networks that are all
                    managed and supervised by a single entity or organisation,
                    typically an ISP (Internet Service Provider).</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>An interior</span
                ><span class="c1"
                    >&nbsp;routing protocol is for exchanging routing
                    information between gateways (routers) within an autonomous
                    system.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >In contrast, exterior routing protocols are for exchanging
                    routing information between autonomous systems.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_547z0vq12bet-0">
            <li class="c6 li-bullet-0">
                <span>The de facto exterior routing protocol is </span
                ><span class="c29">Border Gateway Protocol</span
                ><span>&nbsp;(</span><span class="c29">BGP</span
                ><span class="c1">).</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >In BGP, each ISP has a unique AS Number (ASN), assigned by
                    RIRs (Regional Internet Registry) -they&rsquo;re 32 bits
                    long</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It&rsquo;s like distance-vector, but BGP includes many
                    improvements and also incorporates the AS path associated
                    with using a given route, the costs of the paths and many
                    other richer attributes.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_547z0vq12bet-0">
            <li class="c6 li-bullet-0"><span class="c1">In BGP:</span></li>
        </ul>
        <ol class="c2 lst-kix_4ayrmz42ofjj-0 start" start="1">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >BGP neighbours, called BGP peers, are identified and create
                    TCP sessions over port 179</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >They send their whole routing tables to each other, and
                    send incremental updates when something changes</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Then, the routers advertise routes they know to their
                    neighbours, containing network prefix, prefix length, AS
                    path, next hop etc.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Neighbours can then use their knowledge of ASNs to choose
                    whether to use that route or not</span
                >
            </li>
        </ol>
        <p class="c20 c22"><span class="c1"></span></p>
        <ul class="c2 lst-kix_65o1z13gomgv-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">Here is an example:</span>
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 521.5px;
                    height: 263.35px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image181.png"
                    style="
                        width: 521.5px;
                        height: 263.35px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_ahb0xsi7o5kf-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >F needs to get to D, but how? To get to D, F will have to
                    go through one of its neighbours. But which neighbour should
                    F choose?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >To choose, F asks all its neighbours how they would get to
                    D. F will then pick the neighbour with the shortest
                    distance.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >F will obviously not pick I or E, because their paths
                    contain F itself.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >F will likely pick either B or G, making the path from F to
                    D either FBCD or FGCD.</span
                >
            </li>
        </ul>
        <h2 class="c44" id="h.8yezcx4axp1i">
            <span class="c9">Transport layer</span>
        </h2>
        <ul class="c2 lst-kix_dtkc5q2lwkh3-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The transport layer handles how the information is going to
                    be transported from the source to the destination.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >There are two protocols that the transport layer can use:
                    UDP and TCP</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.mgv6t5hf3ejj"><span class="c45">UDP</span></h3>
        <ul class="c2 lst-kix_bwa329ib0cw1-0 start">
            <li class="c6 li-bullet-0">
                <span class="c29">User Datagram Protocol</span
                ><span>&nbsp;(or </span><span class="c29">UDP</span
                ><span>) is a connectionless protocol on a &lsquo;</span
                ><span>fire and forget&rsquo; </span
                ><span class="c1">basis.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Packets are sent to their destination with no
                    acknowledgements. They just sort of throw packets towards
                    the destination and hope for the best.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_bwa329ib0cw1-0">
            <li class="c6 li-bullet-0">
                <span class="c1">The properties of UDP are:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_bwa329ib0cw1-1 start">
            <li class="c0 li-bullet-0">
                <span class="c14">Connectionless</span><span class="c1">:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_bwa329ib0cw1-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >No need to set up a connection with the recipient</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_bwa329ib0cw1-1">
            <li class="c0 li-bullet-0">
                <span class="c14"
                    >Application layer has to retransmit, if required</span
                ><span class="c1">:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_bwa329ib0cw1-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >If the recipient doesn&rsquo;t get the data, the
                    application layer is responsible for resending</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_bwa329ib0cw1-1">
            <li class="c0 li-bullet-0">
                <span class="c14">UDP applications use a constant bit rate</span
                ><span class="c1">:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_bwa329ib0cw1-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >No need to control the bit rate as the packets all come in
                    at once anyway</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >The application should adapt if necessary</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_bwa329ib0cw1-1">
            <li class="c0 li-bullet-0">
                <span class="c14">Low overhead</span><span class="c1">:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_bwa329ib0cw1-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >No connection management is used, so we use less
                    bandwidth</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_bwa329ib0cw1-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The UDP header is simpler than TCP&rsquo;s header</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">The checksum is optional</span>
            </li>
        </ul>
        <p class="c20">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 108px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image138.png"
                    style="
                        width: 602px;
                        height: 108px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_kfq6fjpqd3k5-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >If buffers are full, packets may be dropped. The
                    application can detect this and tell the server.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.ooav0yq0yjk8"><span class="c45">TCP</span></h3>
        <ul class="c2 lst-kix_kczenm4vh3gi-0 start">
            <li class="c6 li-bullet-0">
                <span class="c29">Transmission Control Protocol</span
                ><span>&nbsp;(or </span><span class="c29">TCP</span
                ><span class="c1">) is a connection oriented protocol.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It includes acknowledgements and retransmissions.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >TCP provides performance and reliability on an otherwise
                    unreliable IP service, at the expense of an overhead.</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_kczenm4vh3gi-0">
            <li class="c6 li-bullet-0">
                <span class="c1">The properties of TCP are:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_kczenm4vh3gi-1 start">
            <li class="c0 li-bullet-0">
                <span class="c14">Provides connection management</span
                ><span class="c1">:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_kczenm4vh3gi-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1">A connection is established and managed</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_kczenm4vh3gi-1">
            <li class="c0 li-bullet-0">
                <span class="c14">Provides flow control</span
                ><span class="c1">:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_kczenm4vh3gi-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1">Slows down / speeds up when needed</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_kczenm4vh3gi-1">
            <li class="c0 li-bullet-0">
                <span class="c14"
                    >Uses that capacity but tries also to avoid congestion</span
                ><span class="c1">:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_kczenm4vh3gi-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >Backs off when there&rsquo;s packet loss (indicator of
                    congestion)</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_kczenm4vh3gi-1">
            <li class="c0 li-bullet-0">
                <span class="c14">Retransmission</span><span class="c1">:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_kczenm4vh3gi-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >Sends segments again if they were unacknowledged</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_kczenm4vh3gi-1">
            <li class="c0 li-bullet-0">
                <span class="c14"
                    >Receiver reassembles segments in the correct order</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_kczenm4vh3gi-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >TCP headers are padded so that they&rsquo;re a multiple of
                    32 bits.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Seq and Ack numbers used to track sequential packets, with
                    SYN bit:</span
                >
            </li>
        </ul>
        <p class="c20">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 373.33px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image98.png"
                    style="
                        width: 602px;
                        height: 373.33px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_tk0iqg7lfsz2-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >TCP connection establishment uses a three-way handshake
                    of:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_tk0iqg7lfsz2-1 start">
            <li class="c0 li-bullet-0">
                <span class="c14">SYN</span
                ><span class="c1"
                    >:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&ldquo;Can
                    I talk to you please?&rdquo;</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c14">SYN-ACK</span
                ><span class="c1"
                    >:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&ldquo;You
                    may talk to me.&rdquo;</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c14">ACK</span
                ><span class="c1"
                    >:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&ldquo;We
                    are now talking.&rdquo;</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 293px;
                    height: 212px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image125.png"
                    style="
                        width: 293px;
                        height: 212px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_tk0iqg7lfsz2-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Each side uses a sequence number, so both parties have a
                    common understanding of the position in the data
                    stream</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_tk0iqg7lfsz2-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The sender must detect lost packets either:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_tk0iqg7lfsz2-1 start">
            <li class="c0 li-bullet-0">
                <span class="c14">by retransmission timeout</span
                ><span class="c1">:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_tk0iqg7lfsz2-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1">Estimate when ACK is expected</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_tk0iqg7lfsz2-1">
            <li class="c0 li-bullet-0">
                <span class="c14">by cumulative acknowledgement (DupAcks)</span
                ><span class="c1">:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_tk0iqg7lfsz2-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >A type of acknowledgement that acknowledges all past data
                    chunks</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_tk0iqg7lfsz2-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >TCP uses a sliding window protocol, like go-back-N or
                    selective-repeat back in the link layer, to perform flow
                    control.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Basically, the window is the same size as the
                    recipient&rsquo;s buffer space. That way, the sender
                    can&rsquo;t send any more than the recipient can
                    handle.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Once the recipient says that it can handle more, the window
                    is slid and further packets will be sent.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_tk0iqg7lfsz2-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The sender sends a segment with a sequence number and
                    starts a timer.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The receiver replies with an acknowledgment number showing
                    the next sequence number it expects and its available
                    buffer/window size.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >If the receiver doesn&rsquo;t send anything by the time the
                    timer goes off, the sender resends.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >If the receiver says the window size is 0, the sender may
                    send a 1-byte probe to ask for the window size again.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_tk0iqg7lfsz2-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Here is an example, with dialogue to show you what&rsquo;s
                    going on:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_tk0iqg7lfsz2-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">LEFT</span
                ><span class="c1"
                    >: &ldquo;This is packet 0 (#1), it&rsquo;s 2K in
                    size&rdquo;</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">RIGHT</span
                ><span class="c1"
                    >: &ldquo;Nice; I want packet 2048 (#2), and I have 2048
                    bytes of space left&rdquo;</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">LEFT</span
                ><span class="c1"
                    >: &ldquo;Here&rsquo;s packet 2048 (#2), it&rsquo;s 2K in
                    size&rdquo;</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">RIGHT</span
                ><span class="c1"
                    >: &ldquo;Great; I would want packet 4096 (#3) now, but
                    I&rsquo;m full (I have 0 bytes of space)&rdquo;</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">RIGHT</span
                ><span class="c1"
                    >: &ldquo;OK, I want packet 4096 (#3) now, and I have 2048
                    bytes of space&rdquo;</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">LEFT</span><span>:</span
                ><span class="c29">&nbsp;</span
                ><span class="c1"
                    >&ldquo;Alright, here&rsquo;s packet 4096 (#3), it&rsquo;s
                    1K in size&rdquo;</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 581px;
                    height: 504px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image203.png"
                    style="
                        width: 581px;
                        height: 504px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_c2fb35bx1s60-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >If the connection started to get congested, how does TCP
                    control this?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >TCP actually has two windows: a &ldquo;recipient
                    buffer&rdquo; window and a </span
                ><span class="c30">congestion </span
                ><span class="c1">window.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The recipient buffer window is defined just above;
                    it&rsquo;s how much the receiver can take in before it gets
                    full.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The congestion window does its best to prevent congestion
                    in the connection (too much data flying through means more
                    packet loss)</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >A congestion window starts off small, and grows if
                    everything is going alright. It resets if there is a
                    timeout.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >The window size doubles each time, until a threshold is
                    reached, at which point it&rsquo;ll increase linearly,
                    called </span
                ><span class="c29">Congestion Avoidance</span
                ><span class="c1">.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >After a timeout, the threshold decreases a bit.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >So which window do we use; the recipient buffer window or
                    the congestion window?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">We use whichever one is smallest.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Here is a graph showing the size of the window changing
                    with each transmission:</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 444.5px;
                    height: 315.28px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image165.png"
                    style="
                        width: 444.5px;
                        height: 315.28px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <h3 class="c5" id="h.tnc8uboseiu4">
            <span class="c45">TCP or UDP?</span>
        </h3>
        <ul class="c2 lst-kix_9hxl0rj5d966-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Streaming services and voice over IP use UDP because
                    it&rsquo;s immediate and has limited buffering.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Web services like HTTP and SMTP use TCP because having a
                    structured connection is more important.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >DNS uses UDP because the overhead for TCP would be too much
                    for processing 100 to 1000 requests per second.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_9hxl0rj5d966-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Here are the differences between TCP and UDP:</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <a id="t.05b5509098448bcea057303abb3b76b571494ace"></a><a id="t.7"></a>
        <table class="c18">
            <tbody>
                <tr class="c33">
                    <td class="c159 c172" colspan="1" rowspan="1">
                        <p class="c16 c40"><span class="c1"></span></p>
                    </td>
                    <td class="c11" colspan="1" rowspan="1">
                        <p class="c16"><span class="c21">TCP</span></p>
                    </td>
                    <td class="c121" colspan="1" rowspan="1">
                        <p class="c16"><span class="c21">UDP</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c159" colspan="1" rowspan="1">
                        <p class="c16"><span class="c21">Connection</span></p>
                    </td>
                    <td class="c11" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1">Connection oriented</span>
                        </p>
                    </td>
                    <td class="c121" colspan="1" rowspan="1">
                        <p class="c16">
                            <span>Connectionless: </span
                            ><span>&ldquo;fire and forget&rdquo;</span>
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c159" colspan="1" rowspan="1">
                        <p class="c16"><span class="c21">Reliability</span></p>
                    </td>
                    <td class="c11" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >Handles ACK &amp; retransmissions</span
                            >
                        </p>
                    </td>
                    <td class="c121" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >Application needs to handle ACK &amp;
                                retransmissions if needed</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c159" colspan="1" rowspan="1">
                        <p class="c16"><span class="c21">Data Order</span></p>
                    </td>
                    <td class="c11" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >Guaranteed that it arrives and in the correct
                                order</span
                            >
                        </p>
                    </td>
                    <td class="c121" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >No guarantee that data is received in the order
                                sent</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c159" colspan="1" rowspan="1">
                        <p class="c16"><span class="c21">Header</span></p>
                    </td>
                    <td class="c11" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1">20-bytes minimum</span>
                        </p>
                    </td>
                    <td class="c121" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">8-bytes</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c159" colspan="1" rowspan="1">
                        <p class="c16"><span class="c21">Good for</span></p>
                    </td>
                    <td class="c11" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >Applications that need high reliability</span
                            >
                        </p>
                    </td>
                    <td class="c121" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >Applications that need fast and efficient
                                transmission</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c159" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c21">Example protocols</span>
                        </p>
                    </td>
                    <td class="c11" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >HTTP(S), FTP, SMTP, Telnet, SSH</span
                            >
                        </p>
                    </td>
                    <td class="c121" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >DHCP, TFTP, SNMP, RIP, RTP, COAP</span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_qh4ni8bhbl15-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Here is a graphic showing the layers and what protocols
                    they use:</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 540.06px;
                    height: 466.5px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image184.png"
                    style="
                        width: 540.06px;
                        height: 466.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c20 c40"><span class="c1"></span></p>
        <h3 class="c5" id="h.1ysfyww7xbnz-4">
            <span class="c45">Sockets</span>
        </h3>
        <ul class="c2 lst-kix_alap7xxw577q-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >A socket is created when a sender and a receiver act as
                    communication endpoints.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >A socket has an IP address and a port number, for example
                    152.78.70.1 port 80</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>The socket </span><span>and bind protocol</span
                ><span class="c1"
                    >&nbsp;uniquely identify the application&rsquo;s subsequent
                    data transmission.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >When multiple clients talk to one server, there is usually
                    one thread per client endpoint.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >There is a sockets API, called the Berkeley sockets API.
                    Servers mainly use SOCKET and BIND, whereas clients tend to
                    use SOCKET and CONNECT:</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 513.5px;
                    height: 212.39px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image118.png"
                    style="
                        width: 513.5px;
                        height: 212.39px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <h2 class="c44" id="h.hrno8bb9oda7"><span class="c9">DNS</span></h2>
        <ul class="c2 lst-kix_8vevtm39qgm6-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">First of all, what is a DNS?</span>
            </li>
            <li class="c6 li-bullet-0">
                <span>The </span><span class="c29">Domain Name System</span
                ><span>&nbsp;(or </span><span class="c29">DNS</span
                ><span class="c1"
                    >) is a naming system for pairing up domain names to IP
                    addresses.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >For example, when you search up &ldquo;google.com&rdquo;,
                    you&rsquo;re actually talking to an IP, such as
                    &ldquo;216.58.213.110&rdquo;, and the DNS translates
                    &ldquo;google.com&rdquo; to that IP for you.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_8vevtm39qgm6-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >DNS names are delegated through the Top Level Domain (TLD)
                    registrars</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">For example, with soton.ac.uk:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_8vevtm39qgm6-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >first the &ldquo;.uk&rdquo; bit is delegated by
                    Nominet</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >then the &ldquo;.ac.uk&rdquo; bit is through Jisc</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >then finally, the whole thing &ldquo;.soton.ac.uk&rdquo;
                    comes down to the University of Southampton</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_8vevtm39qgm6-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It allows sites and organisations to maintain authority
                    over their registered domains.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_8vevtm39qgm6-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The most common DNS lookup is host name to IP.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The DNS returns an A record for IPv4 or AAAA record for
                    IPv6 when queried for a specific host/domain name.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This means clients need to know the IP addresses of local
                    DNS servers (resolvers) so they can actually send the
                    queries.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_8vevtm39qgm6-0">
            <li class="c6 li-bullet-0">
                <span>A </span><span class="c29">DNS resolver</span
                ><span class="c1"
                    >&nbsp;is a server that acts as a DNS server that resolves
                    queries and sends an answer back.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Client hosts are configured to use one or more local DNS
                    resolvers. They&rsquo;re usually provided via DHCP.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Clients can use APIs to do DNS lookups. You can even do it
                    via a CLI tool.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_8vevtm39qgm6-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Packets sent to DNS resolvers are usually UDP packets, but
                    they can use TCP.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >They use UDP because it&rsquo;s connectionless and
                    quick.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">The results of queries can be cached.</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_8vevtm39qgm6-0">
            <li class="c6 li-bullet-0">
                <span class="c1">Here is a list of DNS record types:</span>
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 531.5px;
                    height: 222.49px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image104.png"
                    style="
                        width: 531.5px;
                        height: 222.49px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c20 c40"><span class="c1"></span></p>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 472.94px;
                    height: 423.5px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image222.png"
                    style="
                        width: 496.01px;
                        height: 437.51px;
                        margin-left: -14.83px;
                        margin-top: -7.42px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_ljlmpotb1lgn-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Campuses will run their own DNS servers, so they can:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_ljlmpotb1lgn-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >act as resolvers for internally sourced DNS queries</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >act as servers for external queries against internal
                    names</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_ljlmpotb1lgn-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Some DNS infrastructures also may provide a &lsquo;split
                    DNS&rsquo; view, which is where separate DNS servers are
                    provided for internal and external networks as a means of
                    security and privacy management.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_ljlmpotb1lgn-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >If DNS servers are local, then how does a client talk to a
                    server from across the world?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >We leverage the hierarchical delegation structure! What?
                    That doesn&rsquo;t make sense?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Basically, we have a set of &ldquo;root&rdquo; DNS servers
                    that can point us to other DNS servers that know about
                    different URL suffixes.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_ljlmpotb1lgn-0">
            <li class="c6 li-bullet-0">
                <span>For example, if we were looking for &ldquo;</span
                ><span class="c14 c72"
                    ><a
                        class="c3"
                        href="https://www.google.com/url?q=http://www.google.co.uk&amp;sa=D&amp;source=editors&amp;ust=1623675394570000&amp;usg=AOvVaw1Z6WQ8Gm2kUeF_Su_-VZeZ"
                        >www.google.co.uk</a
                    ></span
                ><span class="c1"
                    >&rdquo;, the root DNS could point us to another DNS server
                    and say &ldquo;go to them, they know all about URLs ending
                    in uk&rdquo;</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Then that DNS server could point us to another DNS server
                    and say &ldquo;go to them, they know all about URLs ending
                    in co.uk&rdquo;</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >... and so on until we reach a DNS that knows the IP
                    address for </span
                ><span class="c14 c72"
                    ><a
                        class="c3"
                        href="https://www.google.com/url?q=http://www.google.co.uk&amp;sa=D&amp;source=editors&amp;ust=1623675394571000&amp;usg=AOvVaw2r8EV_y2EmTU_Yl-KK_bFl"
                        >www.google.co.uk</a
                    ></span
                ><span class="c1">.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span>Mapping one DNS to another DNS is known as </span
                ><span class="c29">DNS glue</span><span class="c1">.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >So in other words, to get your IP from your host name, your
                    browser goes on one big adventure, going from DNS to DNS,
                    looking for the IP.</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 214.67px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image83.png"
                    style="
                        width: 602px;
                        height: 214.67px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_ih87s4xlwl4f-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This can also be cached, so we don&rsquo;t hit DNS servers
                    heavily.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_ih87s4xlwl4f-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >DNS resolvers are critical to Internet
                    infrastructure.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Because of this, people like to attack them.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Therefore, we need to make them resilient and strong.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_ih87s4xlwl4f-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Root servers are the &lsquo;anchor&rsquo; for recursive
                    DNS&rsquo;.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >If someone managed to shut down all the root servers, they
                    could shut down the Internet.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >There are 13 highly available clusters of root servers.
                    There are about 1000 servers in total used in these
                    clusters, and a server is picked in a cluster via
                    anycast.</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_ih87s4xlwl4f-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This makes DNS servers more distributed and allows clients
                    to use the most local server, improving performance.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It also helps spread the load, and mitigate DoS
                    attacks.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_ih87s4xlwl4f-0">
            <li class="c6 li-bullet-0">
                <span class="c29">IP anycast</span
                ><span class="c1"
                    >&nbsp;is where the same IP is configured in many locations,
                    and your network picks the closest one to connect to.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This is especially applied to DNS servers, as picking the
                    closest DNS server means you get better performance.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It also means you don&rsquo;t have to reconfigure your
                    network when you&rsquo;re in a different place; because of
                    anycast, your network just picks the closest DNS server
                    anyway.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_ih87s4xlwl4f-0">
            <li class="c6 li-bullet-0">
                <span class="c29">Fast flux DNS</span
                ><span class="c1"
                    >&nbsp;is a technique where the association between an IP
                    address and a domain name is changed very frequently.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This is used in some peer-to-peer systems, but it can also
                    be used by botnets (the bad guys) to avoid detection and
                    make takedown harder (so they don&rsquo;t get caught by the
                    good guys)</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_ih87s4xlwl4f-0">
            <li class="c6 li-bullet-0">
                <span class="c29">Public DNS servers </span
                ><span class="c1"
                    >are open public servers. They also answer queries for
                    domains, recursively. An example is the Google public DNS
                    server.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Why use them?</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_ih87s4xlwl4f-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">Speed improvements</span>
            </li>
            <li class="c0 li-bullet-0"><span class="c1">Reliability</span></li>
            <li class="c0 li-bullet-0">
                <span class="c1">Parental controls</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Phishing protection</span>
            </li>
            <li class="c0 li-bullet-0"><span class="c1">Security</span></li>
            <li class="c0 li-bullet-0">
                <span class="c1">Access geoblocked content</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Bypass web censorship</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_ih87s4xlwl4f-0">
            <li class="c6 li-bullet-0">
                <span
                    >However, you don&rsquo;t know who&rsquo;s logging your
                    queries (and with a company like Google, can you really
                    trust them?)</span
                >
            </li>
        </ul>
        <h2 class="c44" id="h.1ysfyww7xbnz-5">
            <span class="c9">Application layer</span>
        </h2>
        <ul class="c2 lst-kix_at6hb1gq26c5-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The application layer provides higher level services.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >In the TCP/IP layer, it&rsquo;s just called
                    &ldquo;Application&rdquo;, but in the OSI Model layers, the
                    application layer is split up into
                    &ldquo;Application&rdquo;, &ldquo;Presentation&rdquo; and
                    &ldquo;Session&rdquo;.</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 319px;
                    height: 245.59px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image148.png"
                    style="
                        width: 319px;
                        height: 245.59px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <h3 class="c5" id="h.e74sojnpa054"><span class="c45">Telnet</span></h3>
        <ul class="c2 lst-kix_e4uiww8e4vrs-0 start">
            <li class="c6 li-bullet-0">
                <span class="c29">Telnet</span
                ><span class="c1"
                    >: Simple unencrypted terminal emulation protocol</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >In other words, it provides a bidirectional text-based
                    communication service using your terminal, like a Unix / DOS
                    chatroom!</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It was big in the 90&rsquo;s, but nobody really uses it
                    anymore because</span
                >
            </li>
        </ul>
        <ol class="c2 lst-kix_ar70xyt16942-0 start" start="1">
            <li class="c0 li-bullet-0">
                <span>It&rsquo;s old and </span
                ><span class="c61">computer normies</span
                ><span class="c1"
                    >&nbsp;non-techies don&rsquo;t like using terminals</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >It doesn&rsquo;t even have security, it&rsquo;s
                    unencrypted</span
                >
            </li>
        </ol>
        <ul class="c2 lst-kix_e4uiww8e4vrs-0">
            <li class="c6 li-bullet-0">
                <span
                    >Today, it&rsquo;s mainly used as a plot device in films
                    (like Die Hard 4) and watching the original Star Wars in
                    ASCII (the server is </span
                ><span class="c4">towel.blinkenlights.nl</span
                ><span class="c1">) .</span>
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 436.65px;
                    height: 220.5px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image162.png"
                    style="
                        width: 436.65px;
                        height: 220.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <h3 class="c5" id="h.1v0v0xbqk5li"><span class="c45">Email</span></h3>
        <ul class="c2 lst-kix_ct9qdsmcu5qe-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >There are two main protocols for emailing: SMTP and
                    IMAP.</span
                >
            </li>
        </ul>
        <h4 class="c80" id="h.idaj7u6pa2l">
            <span class="c110 c59">SMTP</span>
        </h4>
        <ul class="c2 lst-kix_sp54lr8hqdlb-0 start">
            <li class="c6 li-bullet-0">
                <span class="c29">SMTP (Simple Mail Transfer Protocol)</span
                ><span>: a protocol used to </span><span class="c14">send</span
                ><span class="c1">&nbsp;emails.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It uses TCP to connect to a mail server and uses the
                    commands MAIL, RCPT and DATA.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Authentication is an extension; you don&rsquo;t need it,
                    but you should have it by now. Original emails didn&rsquo;t
                    have it.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >You can use SMTP quite easily in modern languages, like
                    Python and PHP.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_sp54lr8hqdlb-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >How does SMTP work? Well, if you&rsquo;ve been reading my
                    notes, you know I prefer to go in detail about stuff like
                    this (within reason).</span
                >
            </li>
        </ul>
        <p class="c24 c161">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 466.5px;
                    height: 402.2px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image114.png"
                    style="
                        width: 466.5px;
                        height: 402.2px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_o8cccqsxldxb-0 start">
            <li class="c15 c161 li-bullet-0">
                <span class="c1"
                    >If this illustration isn&rsquo;t enough, here&rsquo;s some
                    dialogue, where Alice is the sender and Bob is the
                    receiver:</span
                >
            </li>
        </ul>
        <ol class="c2 lst-kix_45fgeknm8bsq-0 start" start="1">
            <li class="c16 c161 c128 li-bullet-0">
                <span class="c29">Alice</span
                ><span class="c1"
                    >: &ldquo;Hey, do you want to start a TCP
                    connection?&rdquo;</span
                >
            </li>
            <li class="c16 c128 c161 li-bullet-0">
                <span class="c29">Bob</span
                ><span class="c1"
                    >: &ldquo;Yes. Let&rsquo;s talk in TCP.&rdquo; (220
                    message)</span
                >
            </li>
            <li class="c16 c161 c128 li-bullet-0">
                <span class="c29">Alice</span
                ><span
                    >: &ldquo;Alright, let&rsquo;s begin. Hello! Tell me what
                    you can do.&rdquo; (EHLO </span
                ><span class="c30 c59">extended hello</span
                ><span class="c1">&nbsp;message)</span>
            </li>
            <li class="c16 c161 c128 li-bullet-0">
                <span class="c29">Bob</span
                ><span class="c1"
                    >: &ldquo;OK. Here&rsquo;s what I can do: (a list of things
                    Bob can do)&rdquo; (250 message with list of supported SMTP
                    extensions)</span
                >
            </li>
            <li class="c16 c161 c128 li-bullet-0">
                <span class="c23"
                    >Alice and Bob start performing mail transactions (you
                    don&rsquo;t need to know these)</span
                >
            </li>
            <li class="c16 c161 c128 li-bullet-0">
                <span class="c29">Alice</span
                ><span class="c1"
                    >: &ldquo;I&rsquo;m done with you. Let&rsquo;s stop
                    talking.&rdquo;</span
                >
            </li>
            <li class="c16 c161 c128 li-bullet-0">
                <span class="c29">Bob</span
                ><span class="c1"
                    >: &ldquo;OK. Goodbye.&rdquo; Bob stops listening to Alice
                    (221 message, Bob closes transmission channel)</span
                >
            </li>
            <li class="c16 c161 c128 li-bullet-0">
                <span class="c23"
                    >Alice receives Bob&rsquo;s goodbye and also stops listening
                    to Bob.</span
                >
            </li>
        </ol>
        <h4 class="c80" id="h.d7v1p12yh62x">
            <span class="c110 c59">IMAP</span>
        </h4>
        <ul class="c2 lst-kix_sp54lr8hqdlb-0">
            <li class="c6 li-bullet-0">
                <span class="c29">IMAP (Internet Message Access Protocol)</span
                ><span>: a protocol used to </span
                ><span class="c14">retrieve</span><span>&nbsp;</span
                ><span class="c1">emails.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It was designed in 1986 and listens on port 142 (993 for
                    the secure version)</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It keeps a TCP connection open to send requests or receive
                    notifications.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.lys8vordhbrm"><span class="c45">HTTP</span></h3>
        <ul class="c2 lst-kix_x1o1svdc487n-0 start">
            <li class="c6 li-bullet-0">
                <span class="c29">HTTP (HyperText Transfer Protocol)</span
                ><span class="c1"
                    >: a text-based protocol that uses TCP and uses port
                    80.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">There are two steps to using HTTP:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_x1o1svdc487n-1 start">
            <li class="c0 li-bullet-0">
                <span>Send a request </span
                ><span class="c23"
                    >(e.g. GET /something/page.html HTTP/1.1)</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span>Receive a response message </span
                ><span class="c23">(e.g. HTTP/1.1 200 OK)</span>
            </li>
        </ul>
        <p class="c20 c22"><span class="c23"></span></p>
        <ul class="c2 lst-kix_x1o1svdc487n-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >A typical response might contain things such as:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_x1o1svdc487n-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">Version of HTTP</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c14 c72"
                    ><a
                        class="c3"
                        href="https://www.google.com/url?q=https://www.restapitutorial.com/httpstatuscodes.html&amp;sa=D&amp;source=editors&amp;ust=1623675394585000&amp;usg=AOvVaw144QC6AMgImbpkYDEv1y6Y"
                        >HTTP status code</a
                    ></span
                >
            </li>
            <li class="c0 li-bullet-0"><span class="c1">Date</span></li>
            <li class="c0 li-bullet-0">
                <span class="c1">Content type (text, html, xml etc.)</span>
            </li>
            <li class="c0 li-bullet-0"><span class="c1">Server type</span></li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_x1o1svdc487n-0">
            <li class="c6 li-bullet-0">
                <span class="c1">The main types of HTTP requests are:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_x1o1svdc487n-1 start">
            <li class="c0 li-bullet-0">
                <span>GET - </span><span class="c23">simply retrieve data</span>
            </li>
            <li class="c0 li-bullet-0">
                <span>HEAD - </span
                ><span class="c23">like GET but no data is sent back</span>
            </li>
            <li class="c0 li-bullet-0">
                <span>POST - </span
                ><span class="c23"
                    >send data to server, usually to create records</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span>PUT - </span
                ><span class="c23"
                    >send data to server, usually to edit existing records</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span>DELETE - </span
                ><span class="c23"
                    >send data to server, usually to delete a record</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c23"></span></p>
        <ul class="c2 lst-kix_x1o1svdc487n-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >You can tell the variety of a status code by the left-most
                    digit:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_x1o1svdc487n-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">1xx -&gt; Information</span>
            </li>
            <li class="c0 li-bullet-0">
                <span>2xx -&gt; Success </span
                ><span class="c30 c59">(e.g. 200 ok)</span>
            </li>
            <li class="c0 li-bullet-0">
                <span>3xx -&gt; Redirection </span
                ><span class="c23">(e.g. 301 moved)</span>
            </li>
            <li class="c0 li-bullet-0">
                <span>4xx -&gt; Client error </span
                ><span class="c23">(e.g. 403 forbidden, 404 not found)</span>
            </li>
            <li class="c0 li-bullet-0">
                <span>5xx -&gt; Server error </span
                ><span class="c23">(e.g. 500 internal error)</span>
            </li>
        </ul>
        <p class="c13"><span class="c23"></span></p>
        <ul class="c2 lst-kix_x1o1svdc487n-0">
            <li class="c6 li-bullet-0">
                <span>You can send HTTP requests using the </span
                ><span class="c4">wget</span><span>&nbsp;or </span
                ><span class="c4">curl</span
                ><span class="c1">&nbsp;commands in Linux.</span>
            </li>
        </ul>
        <h3 class="c5" id="h.lys8vordhbrm-6"><span>HTTP/2</span></h3>
        <ul class="c2 lst-kix_i515n0aum821-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The first major revision to HTTP, published in 2015</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >The header is now compressed as binary using HPACK, a
                    header compression algorithm.</span
                ><span class="c1"
                    >&nbsp;However, now, the whole packet is binary, not just
                    the header.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It also has Server Push, which means resources are sent to
                    the client before they even ask for them. No, it
                    doesn&rsquo;t use King Crimson and erases time, instead it
                    goes like this:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_i515n0aum821-1 start">
            <li class="c0 li-bullet-0">
                <span>Let&rsquo;s say you requested </span
                ><span class="c4">index.html</span
                ><span>, and that page uses </span
                ><span class="c4">styles.css</span><span>&nbsp;and </span
                ><span class="c4">script.js</span
                ><span>. Normally, you&rsquo;d request for </span
                ><span class="c4">index.html</span
                ><span>, receive that, find out you need </span
                ><span class="c4">styles.css</span><span>&nbsp;and </span
                ><span class="c4">script.js</span
                ><span class="c1"
                    >, and do separate requests for those assets, too.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span
                    >With Server Push in HTTP/2, the server already knows that
                    you&rsquo;ll need </span
                ><span class="c4">styles.css</span><span>&nbsp;and </span
                ><span class="c4">script.js</span
                ><span
                    >, so it prepares those responses in advance before your
                    browser even has the chance to parse </span
                ><span class="c4">index.html</span><span class="c1">.</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_i515n0aum821-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It can also multiplex multiple requests over a single TCP
                    connection.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.lys8vordhbrm-7"><span class="c45">QUIC</span></h3>
        <ul class="c2 lst-kix_6ghj6gc0fbcf-0 start">
            <li class="c6 li-bullet-0">
                <span class="c29">QUIC (Quick UDP Internet Connections)</span
                ><span class="c1"
                    >: A UDP protocol to make the web faster, and possibly
                    replace TCP.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It&rsquo;s pushed by Google, and it still establishes some
                    &ldquo;state&rdquo;/sessions and encryption.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It&rsquo;s experimental, which is why you&rsquo;ve probably
                    not heard of it.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >HTTP/3 will be based on QUIC instead of TCP.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.lys8vordhbrm-8"><span class="c45">CoAP</span></h3>
        <ul class="c2 lst-kix_19w7pgpsp99i-0 start">
            <li class="c6 li-bullet-0">
                <span class="c29">CoAP (Constrained Application Protocol)</span
                ><span class="c1"
                    >: provides HTTP-like protocol for simple devices</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It has a minimal overhead, perfect for small devices.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Binary encoding for GET / PUT / etc.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It has a simple discovery mechanism and a simple subscribe
                    method</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It&rsquo;s used in things like Ikea smart lighting.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.lys8vordhbrm-9"><span class="c45">RTSP</span></h3>
        <ul class="c2 lst-kix_o01zo54xbj8v-0 start">
            <li class="c6 li-bullet-0">
                <span class="c29">RTSP (Real Time Streaming Protocol)</span
                ><span class="c1"
                    >: a protocol used for streaming video / audio</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>It&rsquo;s used by YouTube and Flash players </span
                ><span class="c30 c182">(R.I.P.)</span><span class="c1">.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Video frames are packetized so that losses do not corrupt
                    the whole stream.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It has a URL scheme with arguments, similar to HTTP
                    GET.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Real-time transport protocol (RTP) delivers the media
                    (typically with UDP).</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 284px;
                    height: 250.81px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image109.png"
                    style="
                        width: 284px;
                        height: 250.81px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <h3 class="c5" id="h.p6b8yc9ir2u0"><span class="c45">SMB</span></h3>
        <ul class="c2 lst-kix_m1sv3jvyw7cx-0 start">
            <li class="c6 li-bullet-0">
                <span class="c29">SMB (Server Message Block)</span
                ><span class="c1"
                    >: a file-sharing protocol from Microsoft that can use
                    either TCP with port 445 or UDP.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It provides authentication, file locking etc.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It&rsquo;s provided in Samba within Linux.</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 290.5px;
                    height: 295.64px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image215.png"
                    style="
                        width: 290.5px;
                        height: 295.64px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <h3 class="c5" id="h.5k459d6suvww"><span class="c45">NFS</span></h3>
        <ul class="c2 lst-kix_lbxb78sdp0zv-0 start">
            <li class="c6 li-bullet-0">
                <span class="c29">NFS (Network File System)</span
                ><span class="c1"
                    >: a file-sharing protocol mainly used in Unix /
                    Linux.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It&rsquo;s common between servers and can cope with very
                    large files and file numbers.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.lys8vordhbrm-10"><span class="c45">P2P</span></h3>
        <ul class="c2 lst-kix_ke4gdznluhth-0 start">
            <li class="c6 li-bullet-0">
                <span class="c29">P2P (Peer-to-peer)</span
                ><span class="c1"
                    >: instead of using a server-client model, every device has
                    the same priority and shares data with each other.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It distributes the content efficiently across everyone,
                    instead of having one master device rule all.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >BitTorrent uses this for files (as you probably
                    know).</span
                >
            </li>
        </ul>
        <h2 class="c44" id="h.g32ntzrll1wu"><span class="c9">IPv6</span></h2>
        <ul class="c2 lst-kix_59g5rzaavtvt-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">Why do we need IPv6?</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_c9mbzggjkt2a-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >We&rsquo;re running out of IPv4 addresses!</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The organisations handing out IP addresses (called RIRs)
                    have no unallocated address blocks.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_odge977d1sqz-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It started off with alpha support in 1996, but drafts for
                    the IPv6 standard was established in 1998.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >In the bizarre summer of 1999, IPng Tunnelbroker started,
                    which &ldquo;tunnelled&rdquo; v4 to v6.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >They started putting them in servers at 2004, but major PC
                    operating systems didn&rsquo;t start supporting them until
                    2011.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Now, people are starting to use it more, for instance in
                    2016 Sky has 80% IPv6 coverage.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It became an internet standard in July 2017.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.1ji4vlco7351">
            <span class="c45">IPv6 Features</span>
        </h3>
        <ul class="c2 lst-kix_odge977d1sqz-0">
            <li class="c6 li-bullet-0">
                <span class="c1">So what can v6 do?</span>
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >It has a 128-bit address, as opposed to the 32-bit v4
                    address, so there&rsquo;s </span
                ><img src="assets/distributed-systems-and-networks/image1.png" /><span class="c1"
                    >&nbsp;IPv6 addresses.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >If we gave each grain of sand on Earth a global address,
                    we&rsquo;d only take up 0.000000000000000002%, or </span
                ><img src="assets/distributed-systems-and-networks/image2.png" /><span class="c1"
                    >&nbsp;of the total number of addresses we have.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >To put it in perspective further, if we had a copy of Earth
                    for every grain of sand that exists on this Earth, and we
                    gave global addresses to all the grains of sand on every
                    copy of Earth, we&rsquo;d still have addresses left over!
                    Basically, that&rsquo;s a lot of addresses.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_odge977d1sqz-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >IPv6 addresses are usually written in colon-separated hex
                    format, to keep it shorter.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Leading 0&rsquo;s are also omitted, and a single set of
                    repeated 0 blocks can be replaced with
                    &ldquo;::&rdquo;.</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_odge977d1sqz-1 start">
            <li class="c0 li-bullet-0">
                <span>e.g. address </span
                ><span class="c25 c4"
                    >2001:0630:00d0:f102:0000:0000:0000:0022</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span>can be shortened to </span
                ><span class="c25 c4">2001:630:d0:f102:0:0:0:22</span>
            </li>
            <li class="c0 li-bullet-0">
                <span>which can be shortened to </span
                ><span class="c4">2001:630:d0:f102::22</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_odge977d1sqz-0">
            <li class="c6 li-bullet-0">
                <span
                    >Remember that you can only do this once, or else there will
                    be confusion over where the zeros are! </span
                ><span class="c14 c72"
                    ><a
                        class="c3"
                        href="https://www.google.com/url?q=https://networklessons.com/ipv6/shortening-ipv6-addresses&amp;sa=D&amp;source=editors&amp;ust=1623675394606000&amp;usg=AOvVaw2thltowtZNGUOiM7QS9xN6"
                        >Source</a
                    ></span
                >
            </li>
        </ul>
        <p class="c13"><span class="c25 c4"></span></p>
        <ul class="c2 lst-kix_odge977d1sqz-0">
            <li class="c6 li-bullet-0">
                <span class="c1">Some other features include:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_odge977d1sqz-1 start">
            <li class="c0 li-bullet-0">
                <span
                    >Subnets are represented in CIDR notation (like v4, e.g. </span
                ><span class="c4">2001:630:d0:f102::/64</span
                ><span class="c1">)</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Not as easy to remember as v4 because it&rsquo;s longer,
                    but you shouldn&rsquo;t care</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Multicast is an inherent part of v6, and used in subnets
                    instead of broadcast</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >v4 and v6 can co-exist in dual-stack deployments</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_odge977d1sqz-0">
            <li class="c6 li-bullet-0">
                <span
                    >Just like how v4 had preset addresses, v6 has address
                    scopes dedicated to </span
                ><span>certain</span><span class="c1">&nbsp;tasks:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_odge977d1sqz-1 start">
            <li class="c0 li-bullet-0">
                <span class="c4">::1/128</span><span>&nbsp;- </span
                ><span class="c21">loopback</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c4">::/128</span><span>&nbsp;- </span
                ><span class="c29">unspecified </span
                ><span class="c23">(equivalent to 0.0.0.0)</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c4">fe80::/10</span><span>&nbsp;- </span
                ><span class="c29">Link-local address</span><span>&nbsp;</span
                ><span class="c23">(used only on local link)</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c4">fc00::/7</span><span>&nbsp;- </span
                ><span class="c29">Unique Local Address</span><span>&nbsp;</span
                ><span class="c23">(ULA, used within a site)</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c4">2000::/3</span><span>&nbsp;- </span
                ><span class="c21">Global Unicast</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c4">ff00::/8</span><span>&nbsp;- </span
                ><span class="c21">Multicast</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_odge977d1sqz-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Hosts usually have multiple v6 addresses!</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_odge977d1sqz-0">
            <li class="c6 li-bullet-0">
                <span class="c1">There are conventions, too:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_odge977d1sqz-1 start">
            <li class="c0 li-bullet-0">
                <span class="c4">/127</span
                ><span class="c1"
                    >&nbsp;can be used for inter-router links</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span>Smallest subnet is a </span><span class="c4">/64</span
                ><span>&nbsp;</span
                ><span class="c23"
                    >(which still allows 18 quintillion addresses)</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span>Home / small business users should be given a </span
                ><span class="c25 c4">/56</span>
            </li>
            <li class="c0 li-bullet-0">
                <span>A &ldquo;site&rdquo; is usually given </span
                ><span class="c25 c4">/48</span>
            </li>
            <li class="c0 li-bullet-0">
                <span>Minimum v6 allocation from RIR is </span
                ><span class="c25 c4">/32</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_odge977d1sqz-0">
            <li class="c6 li-bullet-0">
                <span class="c1">Any subnet larger than /64 can be used</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_odge977d1sqz-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >We know that v4 addresses are running out, but are there
                    any technical benefits to v6?</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_odge977d1sqz-1 start">
            <li class="c0 li-bullet-0"><span class="c1">No more NAT</span></li>
            <li class="c0 li-bullet-0">
                <span>More &ldquo;plug-and-play&rdquo; than v4 </span
                ><span class="c23"
                    >(require less setting up as Stateless auto configuration
                    (SLAAC) works)</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Streamlined header, so more efficient routing and packet
                    processing</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Fragmentation occurs at sender, so less strain on
                    routers</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.py32osdi6aq">
            <span class="c45">Why use v6?</span>
        </h3>
        <ul class="c2 lst-kix_odge977d1sqz-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >If v4 works for now, why swap to v6 early?</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_odge977d1sqz-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >You should get familiar with v6 before it becomes
                    mandatory</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">You can secure v6 and still use v4</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Support for new applications</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Enables innovation / teaching / research</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_odge977d1sqz-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >To be fair, those last two are only for companies.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.jfq6q6xhso71">
            <span>IP</span><span class="c45">v6 headers</span>
        </h3>
        <ul class="c2 lst-kix_odge977d1sqz-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >IPv6 headers are a fixed 40 bytes, which is bigger than
                    IPv4, but simpler.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It uses extension headers rather than options, and has 8
                    fields:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_odge977d1sqz-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">Version</span
                ><span class="c1"
                    >: represents the version of the Internet Protocol i.e.
                    0110</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Source Address</span
                ><span class="c1"
                    >: the address of the originator of the packet</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Destination Address</span
                ><span>: the address of the recipient of the packet</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Traffic class</span
                ><span class="c1"
                    >: indicates class/priority of the packet</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Flow label</span
                ><span class="c1"
                    >: a &ldquo;hint&rdquo; for routers that keeps packets on
                    the same path</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Payload length</span
                ><span class="c1"
                    >: size of the payload + extension headers</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Next header</span
                ><span class="c1">: indicates the type of the next header</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Hop limit</span
                ><span class="c1"
                    >: equivalent to the &ldquo;time to live&rdquo; field from
                    v4</span
                >
            </li>
        </ul>
        <p class="c20">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 180px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image217.png"
                    style="
                        width: 602px;
                        height: 180px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_ks57638fn1bo-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Extension headers carry optional Internet Layer
                    information, and sits after the v6 header but before the
                    transport layer header in the packet.</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_ks57638fn1bo-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >It&rsquo;s equivalent to the options field in v4</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Fragmentation is an extension header</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Extension headers can be daisy chained, but must be in
                    order</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Each extension header has a &ldquo;next header&rdquo;
                    field, hence the daisy chaining</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_ks57638fn1bo-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Each extension header is a multiple of 8 bytes</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.8yesu79z7ve1">
            <span class="c45">IPv6 with routers and privacy</span>
        </h3>
        <ul class="c2 lst-kix_59xup64z0t4s-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The way v6 handles neighbour discovery replaces ARP and
                    ICMP Router Discovery.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">There are five ICMPv6 packet types:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_59xup64z0t4s-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">Router solicitation</span
                ><span class="c1">: host requests router information</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Router advertisement</span
                ><span class="c1">: tells other routers about itself</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Neighbour solicitation</span
                ><span class="c1"
                    >: equivalent to ARP &ldquo;who has __&rdquo;</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Neighbour advertisement</span
                ><span class="c1">: equivalent to ARP reply</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Redirect</span
                ><span class="c1"
                    >: router informing host of a better first-hop (in other
                    words, a router correcting a host of a more efficient
                    path)</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_59xup64z0t4s-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >When a host sees or solicits a Router Advertisement
                    (RA):</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_59xup64z0t4s-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >The RA message carries the v6 network prefix (/64) to
                    use</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >The RA source address implies the default router
                    address</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">DNS server information can be in the RA</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_59xup64z0t4s-0">
            <li class="c6 li-bullet-0">
                <span class="c1">Prefix information is sent by multicast:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_59xup64z0t4s-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">Periodically (usually every 600 seconds)</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >On request (in response to a Router Solicitation)</span
                >
            </li>
        </ul>
        <p class="c20 c22"><span class="c1"></span></p>
        <ul class="c2 lst-kix_59xup64z0t4s-0">
            <li class="c6 li-bullet-0">
                <span
                    >IPv6 can also automatically configure basic network
                    settings without a DHCPv6 server, using something called </span
                ><span class="c29"
                    >StateLess Address AutoConfiguration (SLAAC)</span
                ><span class="c1">.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >A host using SLAAC builds it&rsquo;s address from:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_59xup64z0t4s-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >A 64-bit prefix from a Router Advertisement</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >A 64-bit host part generated from the MAC address</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_59xup64z0t4s-0">
            <li class="c6 li-bullet-0">
                <span
                    >It&rsquo;s a security issue to embed your MAC address in
                    your </span
                ><span class="c30">global</span
                ><span class="c1"
                    >&nbsp;address, because the host part stays the same across
                    networks, meaning it&rsquo;s easier for people to track
                    you.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >A privacy extension of RFC 2941 adds a random 64-bit host
                    part, used for outgoing connections, to mitigate this
                    issue.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_59xup64z0t4s-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >There&rsquo;s an alternate method too in RFC 7217 that does
                    not use a MAC address, and it mitigates many of the security
                    / privacy issues of before.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.q0z8nbr1l47o">
            <span class="c45">Deploying IPv6</span>
        </h3>
        <ul class="c2 lst-kix_lzy6oabfqeb6-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The Internet is mostly v4. How do we get all the benefits
                    of v6?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >One approach is: &ldquo;why not both?&rdquo;. It&rsquo;s
                    called &ldquo;</span
                ><span class="c29">dual stack</span
                ><span class="c1">&rdquo;.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >We might also have v4-only systems or v6-only systems that
                    need to talk to each other.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_lzy6oabfqeb6-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >A dual stack system runs both v4 and v6 on the same
                    equipment.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >You may need to rewrite/update applications and pick when
                    to use v6 or v4 (typically, it&rsquo;s use v6 if
                    available)</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >You still require a v4 address space, because you use v4,
                    and you need to secure both protocols (e.g. firewall).</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_lzy6oabfqeb6-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >How do you translate from v4 to v6 and vice versa?</span
                >
            </li>
            <li class="c6 li-bullet-0"><span class="c1">You could:</span></li>
        </ul>
        <ul class="c2 lst-kix_lzy6oabfqeb6-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">Rewrite the header information</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Use Application Layer Gateways (ALGs)</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">NAT64</span><span>: </span
                ><span class="c61">a Nintendo 64 game</span><span>&nbsp;</span
                ><span class="c1"
                    >using NAT to convert single IPv4 address to IPv6
                    network</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">DNS64</span
                ><span class="c1"
                    >: &ldquo;fabricates&rdquo; AAAA record for non-IPv6 sites
                    that points to an IPv6/IPv4 translator</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_lzy6oabfqeb6-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >There&rsquo;s also a variety of tunneling technologies to
                    use:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_lzy6oabfqeb6-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">6in4 </span
                ><span class="c1">- encapsulates v6 packets in v4 packets</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Teredo </span
                ><span class="c1">- encapsulates v6 into UDP v4</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">DS-Lite</span
                ><span class="c1"
                    >&nbsp;(no, not the console) - encapsulates v4 packets in v6
                    packets</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">VPNs work too</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_lzy6oabfqeb6-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >What&rsquo;s the best? Like Totally Spies, there is no
                    best; some are suited to certain scenarios.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >We&rsquo;re still going to use v4 for a long time, but the
                    focus at the moment is dual-stack. v6-only is growing,
                    though.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_lzy6oabfqeb6-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Everyone&rsquo;s using v6 now! Youtube, Dropbox, LinkedIn,
                    Wikipedia, major ISPs...</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >Home routers lack v6 support because people in general
                    (</span
                ><span class="c61">normies)</span
                ><span class="c1"
                    >&nbsp;don&rsquo;t want to learn something new, and network
                    administrators lack the desire to understand v6.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.fyk7rqdayizz">
            <span class="c45">IPv6 security</span>
        </h3>
        <ul class="c2 lst-kix_5onrrxwa8ak4-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">IPSEC encryption is baked into v6.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >There&rsquo;s tonnes of addresses (as you know), so
                    scanning is less feasible.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>Transition mechanisms (like </span
                ><span class="c65">tunneling </span
                ><span class="c1"
                    >and Teredo) can bypass network security mechanisms.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >v6 implementations still have flaws that are undiscovered </span
                ><span class="c23"
                    >(e.g. Windows is susceptible to Router Advertisement
                    flooding)</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c23"></span></p>
        <ul class="c2 lst-kix_5onrrxwa8ak4-0">
            <li class="c6 li-bullet-0">
                <span class="c1">v6 hosts can pick their own address.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >To track which devices are used where, we can poll switches
                    and routers for MAC table and ARP table information.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.ku9ugzjiq08g">
            <span class="c45">Other IPv6 stuff</span>
        </h3>
        <ul class="c2 lst-kix_nbuzw4fx7rqt-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Don&rsquo;t be an uninformed IPv6 normie! Know your stuff
                    with this FAQ:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_nbuzw4fx7rqt-1 start">
            <li class="c0 li-bullet-0">
                <span class="c60 c29">Q</span
                ><span class="c55 c62"
                    >: We don&rsquo;t need IPv6, with CGNAT and address
                    recovery, we have a lot more addresses.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c53 c29">A</span
                ><span class="c88 c53"
                    >: Those can only get you so far until you come crawling
                    back to IPv6.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c60 c29">Q</span
                ><span class="c55 c62">: IPv6 replaces IPv4</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c53 c29">A</span
                ><span class="c88 c53"
                    >: Wrong. They will co-exist for years to come.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c60 c29">Q</span
                ><span class="c55 c62"
                    >: IPv6 is more complicated than IPv4</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c53 c29">A</span
                ><span class="c88 c53"
                    >: The concepts are similar or simpler. You&rsquo;re just
                    lazy.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c60 c29">Q</span
                ><span class="c55 c62"
                    >: IPv6 is less secure because there&rsquo;s no NAT</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29 c53">A</span
                ><span class="c88 c53"
                    >: NAT isn&rsquo;t a security mechanism and v6 has
                    firewalling/ACLs.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c60 c29">Q</span
                ><span class="c55 c62"
                    >: IPv6 probably won&rsquo;t be in the exam, so I
                    won&rsquo;t revise it</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c53 c29">A</span
                ><span class="c88 c53"
                    >: Fool! It&rsquo;s Sod&rsquo;s Law that the one thing you
                    don&rsquo;t revise on will be on the exam. I know it&rsquo;s
                    boring, but please read all the sections.</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_nbuzw4fx7rqt-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >As long as you know these answers, you can now become
                    &ldquo;that guy&rdquo; by preaching to everyone about how
                    IPv6 is the best thing ever and that you&rsquo;re better
                    than everyone still using IPv4!</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_nbuzw4fx7rqt-0">
            <li class="c6 li-bullet-0">
                <span class="c1">So, summary pls?</span>
            </li>
            <li class="c6 li-bullet-0">
                <span>IPv6 good, IPv4 </span
                ><span class="c14 c72"
                    ><a
                        class="c3"
                        href="https://www.google.com/url?q=https://www.youtube.com/watch?v%3DSd4SJVsTulc&amp;sa=D&amp;source=editors&amp;ust=1623675394628000&amp;usg=AOvVaw2C_WHUZ9ZGBbu73aOyYJQ9"
                        >bad</a
                    ></span
                >
            </li>
        </ul>
        <h2 class="c44" id="h.xpfop3eu9z6w">
            <span class="c9">Network security</span>
        </h2>
        <ul class="c2 lst-kix_kruch584ik92-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">Security is very important, as you know.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">You can never be 100% secure!</span>
            </li>
            <li class="c6 li-bullet-0">
                <span>The human element is often </span
                ><span class="c14 c72"
                    ><a
                        class="c3"
                        href="https://www.google.com/url?q=https://www.youtube.com/watch?v%3Db_KYjfYjk0Q&amp;sa=D&amp;source=editors&amp;ust=1623675394635000&amp;usg=AOvVaw0BmpZig_H7Lfe86xAGx3Ce"
                        >the weakest link</a
                    ></span
                ><span class="c1"
                    >&nbsp;in a system, hence why things like phishing is so
                    harmful.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >Anyone can be an attacker, and they can have any motive, so
                    stay sharp and read this section to </span
                ><span class="c61">pass the exam</span
                ><span class="c1">&nbsp;be more aware of cyber attacks!</span>
            </li>
        </ul>
        <h3 class="c5" id="h.rojvbz8v0byv">
            <span class="c45">DNS Security</span>
        </h3>
        <ul class="c2 lst-kix_o2sk06qwpc2j-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">DNS can be exploited to break something!</span>
            </li>
            <li class="c6 li-bullet-0">
                <span>A </span><span class="c29">DNS amplification attack </span
                ><span class="c1">is an attack where:</span>
            </li>
        </ul>
        <ol class="c2 lst-kix_3ngdx5ut6ge6-0 start" start="1">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >The attacker sends tons of messages to a DNS with the
                    victim&rsquo;s source IP</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >The DNS spams the victim with DNS response messages</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >The victim is overloaded with DNS messages and dies (not
                    really, but you get the picture)</span
                >
            </li>
        </ol>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_lotlt8xvt4cd-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">So how do we trust DNS responses?</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It&rsquo;s not signed or encrypted, and messages can be
                    spoofed, so no, we can&rsquo;t trust DNS responses.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >There was even a campaign called DNSpionage which used
                    this.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_lotlt8xvt4cd-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >OK, so DNS is insecure, but what information could it
                    possibly leak?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >Well, your connection to a server may be encrypted, so </span
                ><span class="c30">what</span
                ><span
                    >&nbsp;you&rsquo;re doing is safe. But since DNS is
                    insecure, </span
                ><span class="c30">where</span
                ><span class="c1"
                    >&nbsp;you&rsquo;re doing it isn&rsquo;t safe.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This means third parties know where you&rsquo;re doing
                    stuff, and that&rsquo;s usually all they need to know to get
                    your usage patterns.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_lotlt8xvt4cd-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >So, that&rsquo;s it? Privacy is dead and we&rsquo;re all
                    going to die?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>Not quite: </span><span class="c29">DNSSEC </span
                ><span class="c1"
                    >addresses DNS insecurity and was developed 10 years ago,
                    and is still being worked on to this day.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It allows responses to be signed, but that makes them
                    bigger and more complex to manage. Still, it&rsquo;s worth
                    it.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Lots of people deploy it (like Jisc for .ac.uk and Nominet
                    for .uk), but some haven&rsquo;t yet (like iSolutions for
                    .soton.ac.uk).</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >There&rsquo;s other things too, like blocking non-local
                    look-ups, or ignoring certain kinds of requests.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.rojvbz8v0byv-11">
            <span class="c45">Firewalls</span>
        </h3>
        <ul class="c2 lst-kix_rivywx2z1bh9-0 start">
            <li class="c6 li-bullet-0">
                <span>NAT is </span><span class="c30 c126 c29 c71">NOT</span
                ><span class="c1"
                    >&nbsp;a security mechanism!!! &gt;:0 (I mean, I don&rsquo;t
                    remember anyone saying it was, but oh well)</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_rivywx2z1bh9-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >A firewall is a network device that sits at the edge of a
                    network and operates at the Network layer.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It acts as a packet filter, and blocks packets that do not
                    fit a set of rules.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">Stateless firewalls</span
                ><span class="c1"
                    >, or firewalls that work simply by testing predicates on
                    packets, are limited (e.g. to allow all packets on port 80
                    would mean an attacker can attack on that port).</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_rivywx2z1bh9-0">
            <li class="c6 li-bullet-0">
                <span>Sod that; in this day and age, you want a </span
                ><span class="c29">stateful firewall</span
                ><span class="c1">!</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >These firewalls keep track of connections, and map packets
                    to connections.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >There are rules for related and established packets, e.g.
                    allow outbound port 80 packets but disallow incoming port 80
                    packets unless it&rsquo;s in relation to an existing
                    connection, which makes sense; a server doesn&rsquo;t just
                    randomly give you a web page!</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >A common set of rules for home networks is:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_rivywx2z1bh9-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Deny all inbound rules unless related / established</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Allow all outbound</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_rivywx2z1bh9-0">
            <li class="c6 li-bullet-0">
                <span>You can have even more </span
                ><span class="c147 c126 c186">powerful</span
                ><span class="c1"
                    >&nbsp;firewalls that act on the application layer.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >These firewalls actually snoop around your packets,
                    checking if they look like what they&rsquo;re supposed
                    to.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">For example, look at these two packets:</span>
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <a id="t.e77f871da2c12cc97e41769f1b500b56166c2606"></a><a id="t.8"></a>
        <table class="c18">
            <tbody>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c21">Packet #1 on port 80</span>
                        </p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c21">Packet #2 on port 80</span>
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c25 c4">&lt;!DOCTYPE html&gt;</span>
                        </p>
                        <p class="c16">
                            <span class="c25 c4">&lt;html&gt;</span>
                        </p>
                        <p class="c16 c40"><span class="c25 c4"></span></p>
                        <p class="c16">
                            <span class="c25 c4"
                                >&nbsp; &nbsp;&lt;head&gt;</span
                            >
                        </p>
                        <p class="c16">
                            <span class="c25 c4"
                                >&nbsp; &nbsp; &nbsp; &lt;title&gt;JoJo
                                homepage&lt;/title&gt;</span
                            >
                        </p>
                        <p class="c16">
                            <span class="c25 c4"
                                >&nbsp; &nbsp;&lt;/head&gt;</span
                            >
                        </p>
                        <p class="c16">
                            <span class="c25 c4"
                                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
                            >
                        </p>
                        <p class="c16">
                            <span class="c25 c4"
                                >&nbsp; &nbsp;&lt;body&gt;</span
                            >
                        </p>
                        <p class="c16">
                            <span class="c25 c4"
                                >&nbsp; &nbsp; &nbsp; &lt;h1&gt;Joseph
                                Joestar&lt;/h1&gt;</span
                            >
                        </p>
                        <p class="c16">
                            <span class="c25 c4"
                                >&nbsp; &nbsp; &nbsp; &lt;p&gt;Best
                                JoJo&lt;/p&gt;</span
                            >
                        </p>
                        <p class="c16">
                            <span class="c25 c4"
                                >&nbsp; &nbsp; &nbsp; &lt;p&gt;maybe josuke
                                too&lt;/p&gt;</span
                            >
                        </p>
                        <p class="c16">
                            <span class="c25 c4"
                                >&nbsp; &nbsp;&lt;/body&gt;</span
                            >
                        </p>
                        <p class="c16">
                            <span class="c25 c4"
                                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
                            >
                        </p>
                        <p class="c16">
                            <span class="c25 c4">&lt;/html&gt;</span>
                        </p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c25 c4">&lt;!DOCTYPE html&gt;</span>
                        </p>
                        <p class="c16 c40"><span class="c25 c4"></span></p>
                        <p class="c16">
                            <span class="c25 c4"
                                >// i&rsquo;m a real packet i promise</span
                            >
                        </p>
                        <p class="c16">
                            <span class="c25 c4">remove_folder(system32)</span>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_lu41tcgy7lze-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Packet #1 looks like an actual HTML document, whereas
                    packet #2 looks shifty and suspicious. An application layer
                    firewall might be able to spot the difference.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >However, this won&rsquo;t work in all cases, especially
                    when packets are encrypted, as SSH might look like
                    HTTP.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_lu41tcgy7lze-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >At home, everything is packaged into one platform:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_lu41tcgy7lze-1 start">
            <li class="c0 li-bullet-0"><span class="c1">a router</span></li>
            <li class="c0 li-bullet-0"><span class="c1">DNS resolver</span></li>
            <li class="c0 li-bullet-0"><span class="c1">DHCP server</span></li>
            <li class="c0 li-bullet-0">
                <span class="c1">NAT implementation</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >network switch &amp; wireless access point</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_lu41tcgy7lze-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >At workplaces, you might have a firewall device on its own,
                    or embedded in the router.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.rojvbz8v0byv-12">
            <span class="c45">Intrusion Detection Systems</span>
        </h3>
        <ul class="c2 lst-kix_q7u4t95bqga9-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Someone may get into your network, or an actual user might
                    do something stupid in your network.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>How do you prevent this? Use </span
                ><span class="c29"
                    >NIDS (Network Intrusion Detection System)</span
                ><span class="c1">!</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >NIDS sniffs around in your network, looking for suspicious
                    activity.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The detection may be signature based, or
                    anomaly-based.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Some NIDS implementations might only be able to notify you,
                    but some may be able to take action and prevent
                    intrusion.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.rojvbz8v0byv-13">
            <span class="c45">Port / Physical Security</span>
        </h3>
        <ul class="c2 lst-kix_96mgua4n9ala-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >If someone physically breaches a network, that&rsquo;s a
                    lot harder to protect against.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>Fortunately, we have </span
                ><span class="c29">NAC (Network Access Control)</span
                ><span class="c1">&nbsp;mechanisms!</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_96mgua4n9ala-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The simplest of which is to filter MAC addresses. However,
                    it&rsquo;s easy to circumvent and it has an administration
                    overhead.</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_96mgua4n9ala-0">
            <li class="c6 li-bullet-0">
                <span>A better solution is </span><span class="c29">802.1x</span
                ><span class="c1">&nbsp;(creative name).</span>
            </li>
            <li class="c6 li-bullet-0">
                <span>It uses </span
                ><span class="c29"
                    >Extensible Authentication Protocol (EAP)</span
                ><span class="c1">&nbsp;to authenticate clients.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">It has three parties:</span>
            </li>
        </ul>
        <ol class="c2 lst-kix_uqku98llh8d1-0 start" start="1">
            <li class="c0 li-bullet-0">
                <span class="c1">A supplicant (client)</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >An Authenticator (switch or access point)</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >An Authentication Server (e.g. LDAP using RADIUS)</span
                >
            </li>
        </ol>
        <ul class="c2 lst-kix_fp347nlfjf56-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It blocks the client until they authenticate
                    themselves.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >NACs can also have other features, like anti-virus</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_fp347nlfjf56-0">
            <li class="c6 li-bullet-0">
                <span
                    >However, NAC doesn&rsquo;t stop parties from sniffing
                    traffic. Therefore, we need </span
                ><span class="c29">IPSEC (IP Security)</span><span>,</span
                ><span class="c29">&nbsp;</span><span>which is e</span
                ><span class="c1">ncryption at the Network Layer.</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_fp347nlfjf56-0">
            <li class="c6 li-bullet-0">
                <span>There&rsquo;s also </span
                ><span class="c29">VPNs (Virtual Private Network)</span
                ><span class="c1"
                    >, that simulates a direct connection between devices.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It allows you to use internal services from the outside,
                    and uses encryption.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">There are two kinds:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_fp347nlfjf56-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">Site-to-Site VPN</span
                ><span class="c1"
                    >: connects two different networks together, e.g. a branch
                    office to head office</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Remote-access VPN</span
                ><span class="c1"
                    >: where individual clients connect to a VPN server e.g.
                    Globalprotect</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_fp347nlfjf56-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >These notes are brought to you by ExpressVPN!</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Basically, if you didn&rsquo;t know, a VPN is a service
                    that encrypts your Internet data and gives you additional
                    security!</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It also works on phones and other devices!</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >You open the program, single tap, and it&rsquo;s on!</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >I use ExpressVPN because privacy is important, keeps my
                    information anonymous and safe from third parties.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Also, it has a 30-day money back guarantee and 30% off the
                    first month when you use the code
                    &ldquo;NOTESNETWORK&rdquo;.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >Take back your Internet privacy today by clicking on the
                    link: </span
                ><span class="c14 c72"
                    ><a
                        class="c3"
                        href="https://www.google.com/url?q=http://expressvpn.com/notesnetwork&amp;sa=D&amp;source=editors&amp;ust=1623675394651000&amp;usg=AOvVaw01dDV9TYb3R-77nTJrMt4B"
                        >expressvpn.com/notesnetwork</a
                    ></span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">And now, on with the notes!</span>
            </li>
        </ul>
        <p class="c13"><span class="c68"></span></p>
        <p class="c56"><span class="c146">WARNING: It&rsquo;s a joke</span></p>
        <h3 class="c5" id="h.rojvbz8v0byv-14"><span class="c45">DDoS</span></h3>
        <ul class="c2 lst-kix_vs9mc8vbi5lj-0 start">
            <li class="c6 li-bullet-0">
                <span>A DDoS </span
                ><span class="c29">(Distributed Denial of Service attack)</span
                ><span>, or any DoS attack,</span
                ><span class="c1"
                    >&nbsp;is an attack that targets a system and puts them out
                    of service to cause disruptions.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">This can be done by consuming:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_vs9mc8vbi5lj-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">Network bandwidth</span>
            </li>
            <li class="c0 li-bullet-0"><span class="c1">CPU cycles</span></li>
            <li class="c0 li-bullet-0">
                <span class="c1">Server state capacity</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Other system resources</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_vs9mc8vbi5lj-0">
            <li class="c6 li-bullet-0">
                <span
                    >DoS attacks aren&rsquo;t the focus; they&rsquo;re usually
                    used to distract others from the </span
                ><span class="c30">real </span
                ><span class="c1">threat, like:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_vs9mc8vbi5lj-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">Deploying malware</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Stealing data</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_vs9mc8vbi5lj-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Single source attacks (DoS) are effective, but multiple
                    source attacks (DDoS) can be more effective, as it deprives
                    the target of more bandwidth, and it&rsquo;s harder to stop
                    as there&rsquo;s lots of sources.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_vs9mc8vbi5lj-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >One example of a DDoS attack is the TCP SYN flood.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">How it works is:</span>
            </li>
        </ul>
        <ol class="c2 lst-kix_e70uz956pune-0 start" start="1">
            <li class="c0 li-bullet-0">
                <span class="c1">Attacker connects with target</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Attacker sends &ldquo;SYN&rdquo;</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Target sends &ldquo;SYN ACK&rdquo;, and is now expecting an
                    ACK back</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Attacker never sends ACK back</span>
            </li>
        </ol>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 253px;
                    height: 183.23px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image66.png"
                    style="
                        width: 253px;
                        height: 183.23px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_fumkjuzfxnry-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Normally, that wouldn&rsquo;t be so bad for one client, but
                    what if thousands of attackers did that at the same
                    time?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It consumes state on the server and it doesn&rsquo;t take
                    much bandwidth to do; just lots of systems.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_fumkjuzfxnry-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >There are programs that can be used to perform a DDoS
                    attack, like:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_fumkjuzfxnry-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">Low Orbit Ion Cannon (LOIC)</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">High Orbit Ion Cannon (HOIC)</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_fumkjuzfxnry-0">
            <li class="c6 li-bullet-0">
                <span
                    >There&rsquo;s also a unique kind of DDoS called SlowLORIS,
                    and is explained in detail </span
                ><span class="c14 c72"
                    ><a
                        class="c3"
                        href="https://www.google.com/url?q=https://www.youtube.com/watch?v%3DXiFkyR35v2Y&amp;sa=D&amp;source=editors&amp;ust=1623675394657000&amp;usg=AOvVaw3aFyy48t96WthsOM-f1DiH"
                        >here</a
                    ></span
                ><span class="c1">.</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_fumkjuzfxnry-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >There&rsquo;s also IPv6 RA flood, where you flood a target
                    with IPv6 RA multicasts.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">It makes targets join dud networks.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It&rsquo;s mainly a problem with Windows, Mac OS and Linux
                    aren&rsquo;t really affected as much.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_fumkjuzfxnry-0">
            <li class="c6 li-bullet-0">
                <span class="c1">What are we going to do to prevent this?</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >There&rsquo;s no clear way to prevent this, but
                    there&rsquo;s ways to mitigate it:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_fumkjuzfxnry-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">Anycast/content delivery networks</span
                ><span class="c1"
                    >: spread the load across lots of networks/systems</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Responsive network team</span
                ><span class="c1"
                    >: block attacks as they occur and redistribute services
                    across different connections</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29"
                    >Good relationships with upstream providers</span
                ><span class="c1"
                    >: get them to help blocking attack traffic</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_fumkjuzfxnry-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >DDoS is easy to attack with, but hard to defend
                    against.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.rojvbz8v0byv-15">
            <span class="c45">Wi-Fi (In)Security</span>
        </h3>
        <ul class="c2 lst-kix_mp5uzrgy5zug-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Obviously, wireless networks are less secure than wired
                    ones.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >All clients have access to all traffic in a wireless
                    network.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It&rsquo;s clear that wireless networks require some kind
                    of encryption.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_mp5uzrgy5zug-0">
            <li class="c6 li-bullet-0">
                <span>One of the old wireless encryption methods is </span
                ><span class="c29">WEP (Wired Equivalent Privacy)</span
                ><span class="c1">.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It uses a 40-bit or 104-bit key and 24-bit IV, and uses the
                    RC4 stream cypher</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It was proved insecure in the early 2000&rsquo;s, so
                    don&rsquo;t use it anymore!</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The FBI proved that WEP is crackable in 3 minutes.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_mp5uzrgy5zug-0">
            <li class="c6 li-bullet-0">
                <span>So they made a better one: WPA and WPA/</span
                ><span>2</span><span class="c1">.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">WPA (WiFi Protected Access I)</span
                ><span>&nbsp;is more of a fix for WEP and used </span
                ><span class="c21">Temporal Key Integrity Protocol (TKIP)</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">WPA/2 (WiFi Protected Access II)</span
                ><span class="c1"
                    >&nbsp;is more complex than its predecessor and more secure,
                    and uses a 128-bit AES (encryption standard).</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">WPA-Personal</span
                ><span class="c1">: uses pre-shared keys</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">WPA-Enterprise</span
                ><span class="c1"
                    >: uses 802.1x authentication (for that extra pinch of
                    security)</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_mp5uzrgy5zug-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >WPA are not without their weaknesses though!</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_mp5uzrgy5zug-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >If you have a crap password, like &ldquo;password&rdquo;
                    (who even uses that anymore) then you&rsquo;re far more
                    likely to get hacked, even using WPA.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >If the generation of keys are weak, they can be
                    &ldquo;guessed&rdquo; from the SSID e.g. old BT routers
                    could have their keys guessed from a spreadsheet</span
                >
            </li>
        </ul>
        <h1 class="c92" id="h.lm7x8qvdn4fj">
            <span class="c135 c125 c166"
                >Distributed Systems Implementations (Tim)</span
            >
        </h1>
        <h2 class="c44" id="h.g32ntzrll1wu-16">
            <span class="c9">Distributed Systems Models</span>
        </h2>
        <h3 class="c5" id="h.kusmvokonczj">
            <span class="c45">Physical models</span>
        </h3>
        <ul class="c2 lst-kix_a1jmegch43z3-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">There are really only 4 physical models:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_a1jmegch43z3-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">Early 80&rsquo;s</span
                ><span class="c1">: up to 100 nodes connected by LAN</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Internet-scale (90&rsquo;s)</span
                ><span class="c1"
                    >: large nodes connected by Internet; nodes are static, not
                    embedded and autonomous</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Contemporary</span
                ><span class="c1"
                    >: hundreds of nodes, and nodes can change location. Can be
                    embedded</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Emerging</span
                ><span class="c1">: systems of systems</span>
            </li>
        </ul>
        <h3 class="c5" id="h.888vzwl3e4hu">
            <span class="c45">Architectural models</span>
        </h3>
        <ul class="c2 lst-kix_uwok3z22n1j9-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">Types of communication paradigms:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_uwok3z22n1j9-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">Inter-process </span
                ><span class="c1"
                    >communication: low-level communication e.g. Java
                    sockets</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Remote </span
                ><span class="c1"
                    >invocation: two-way communication, sending and
                    receiving</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Indirect </span
                ><span class="c1"
                    >communication: one-to-many communication using groups,
                    message queues, distributed shared memory systems etc.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_uwok3z22n1j9-0">
            <li class="c6 li-bullet-0">
                <span class="c1">Two main architectural models:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_uwok3z22n1j9-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">Client-server </span
                ><span class="c1"
                    >architecture: there&rsquo;s one central
                    &ldquo;server&rdquo; node, and lots of other
                    &ldquo;client&rdquo; nodes that query a server with
                    resources. Servers can also be used as clients.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Peer-to-peer </span
                ><span class="c1"
                    >architecture: all processes share similar roles, and data
                    is distributed amongst peers. Used in software like Gnutella
                    or BitTorrent.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.x5osqwrryrbd">
            <span class="c45">Mapping entities to infrastructure</span>
        </h3>
        <ul class="c2 lst-kix_erznkxq6925j-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It&rsquo;s not good enough to just have a cool network with
                    lots of techy features.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Your system must be fit for purpose and be mapped to the
                    infrastructure it manages.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >For example, a logistics network could be mapped to road,
                    rail, etc. infrastructure</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >How do we tailor our networks to fit into a mapping to
                    infrastructure?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">There are three strategies we can apply:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_erznkxq6925j-1 start">
            <li class="c0 li-bullet-0">
                <span class="c14">Use of multiple servers</span
                ><span class="c1"
                    >&nbsp;- several servers implement a service and distribute
                    resources and services to increase performance</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c14">Proxies and caches</span
                ><span class="c1"
                    >&nbsp;- make web proxies store often used data to make it
                    more quickly accessible</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c14">Mobile code</span
                ><span class="c1"
                    >&nbsp;- send code to the recipient, so they can run the
                    code locally, which improves performance (but can also be a
                    security threat)</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.x5tr7wzc5acv">
            <span class="c45">Architectural patterns</span>
        </h3>
        <ul class="c2 lst-kix_c3gkeg2pjkyo-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >There are several architectural patterns that networks can
                    follow:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_c3gkeg2pjkyo-1 start">
            <li class="c0 li-bullet-0">
                <span class="c39 c14">Layering</span>
            </li>
            <li class="c0 li-bullet-0">
                <span>A </span><span>vertical</span
                ><span class="c1"
                    >&nbsp;organisation of services into layers, with each
                    service making use of the service below it (similar to OSI
                    model or TCP/IP model)</span
                >
            </li>
        </ul>
        <p class="c20 c22"><span class="c39 c14"></span></p>
        <ul class="c2 lst-kix_c3gkeg2pjkyo-1">
            <li class="c0 li-bullet-0">
                <span class="c39 c14"
                    >Two-tier and three-tier architectures</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Splits the system into different logic categories</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >For two-tier it&rsquo;s view and modelcontroller</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 425px;
                    height: 206px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image171.png"
                    style="
                        width: 556px;
                        height: 439px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_c3gkeg2pjkyo-1">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >For three-tier it&rsquo;s view, controller and model</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 556px;
                    height: 226px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image171.png"
                    style="
                        width: 556px;
                        height: 439px;
                        margin-left: 0px;
                        margin-top: -213px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_c3gkeg2pjkyo-1">
            <li class="c0 li-bullet-0">
                <span class="c39 c14">Thin clients</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Moves complexity away from the end-user and do all the hard
                    computational stuff on the server.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Popular with Software-as-a-service (SAAS) in cloud
                    computing</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >The point is that the client only has a handful of features
                    (mainly a UI hooked up to some web requests) and the server
                    does all the work</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">The opposite is called a thick client</span>
            </li>
        </ul>
        <p class="c20">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 248px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image135.png"
                    style="
                        width: 602px;
                        height: 248px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c20 c22"><span class="c39 c14"></span></p>
        <ul class="c2 lst-kix_c3gkeg2pjkyo-1">
            <li class="c0 li-bullet-0"><span class="c39 c14">Proxies</span></li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Web proxies offer the same interface as the server
                    they&rsquo;re trying to mirror</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Supports location transparency when doing RMI (remote
                    method invocation)</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.859b73z2iwk0">
            <span class="c45"
                >Fundamental models: Interaction, Failure and Security</span
            >
        </h3>
        <ul class="c2 lst-kix_8wxha7vwkit5-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">The three fundamental models include:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_8wxha7vwkit5-1 start">
            <li class="c0 li-bullet-0">
                <span class="c39 c14">Interaction</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Models how the participants interact with each other</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">There are two flavours:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_8wxha7vwkit5-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c30">Synchronous</span
                ><span class="c1">: we specify bounds about things like:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_8wxha7vwkit5-3 start">
            <li class="c20 c98 li-bullet-0">
                <span class="c1">the time to execute each process step</span>
            </li>
            <li class="c20 c98 li-bullet-0">
                <span class="c1"
                    >the time to transmit a message over a channel</span
                >
            </li>
            <li class="c20 c98 li-bullet-0">
                <span class="c1"
                    >the drift of the local clock from real time</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_8wxha7vwkit5-2">
            <li class="c20 c43 li-bullet-0">
                <span class="c30">Asynchronous</span
                ><span class="c1"
                    >: we don&rsquo;t care about stuff like that; messages can
                    happen as and when</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_8wxha7vwkit5-1">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Often, distributed systems are asynchronous, which are
                    harder to work with than synchronous because they need to
                    handle actions in any order.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span
                    >However, some problems can only be solved in synchrony
                    (e.g. multimedia data stream)</span
                >
            </li>
        </ul>
        <p class="c20 c22"><span class="c1"></span></p>
        <ul class="c2 lst-kix_8wxha7vwkit5-1">
            <li class="c0 li-bullet-0"><span class="c39 c14">Failure</span></li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Describes the types of failures that can happen, and what
                    we can do to mitigate them</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">We categorise the types of failures:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_8wxha7vwkit5-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c30">Omission</span
                ><span class="c1">&nbsp;- failed to perform the action</span>
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c30">Arbitrary (Byzantine)</span
                ><span class="c1"
                    >&nbsp;- &nbsp;performed the wrong action / lies</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c30">Timing</span
                ><span class="c1"
                    >&nbsp;- performed at the wrong time (only in synchronous
                    systems)</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_8wxha7vwkit5-1">
            <li class="c0 li-bullet-0">
                <span class="c1">We can mask failures either by:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_8wxha7vwkit5-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c30">Hiding</span
                ><span class="c1"
                    >&nbsp;- do something to rectify the failure (think of it
                    like a try-catch)</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c30">Conversion </span
                ><span class="c1"
                    >- convert the failure to another kind of failure, so we can
                    handle it (e.g. a corrupted message would initially be
                    captured as an arbitrary failure, but we can convert it to
                    omission once we realise it&rsquo;s corrupted)</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_8wxha7vwkit5-1">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >To ensure reliable one-to-one communication, you
                    need:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_8wxha7vwkit5-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c30">Validity</span
                ><span class="c1"
                    >&nbsp;- every message is eventually delivered</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c30">Integrity </span
                ><span
                    >- received message is identical to the one sent, and every
                    message is only sent once</span
                >
            </li>
        </ul>
        <p class="c20 c22"><span class="c1"></span></p>
        <ul class="c2 lst-kix_8wxha7vwkit5-1">
            <li class="c0 li-bullet-0">
                <span class="c39 c14">Security</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Ensures security in both processes and communication</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span
                    >To ensure security, we need to model threats, more
                    specifically a &ldquo;man - in - the - </span
                ><span class="c72 c93"
                    ><a
                        class="c3"
                        href="https://www.google.com/url?q=https://www.youtube.com/watch?v%3DPivWY9wn5ps&amp;sa=D&amp;source=editors&amp;ust=1623675394679000&amp;usg=AOvVaw10gXKUKtWKg1G9F3Ez0OYP"
                        >mir</a
                    ></span
                ><span class="c93 c72"
                    ><a
                        class="c3"
                        href="https://www.google.com/url?q=https://jojo.fandom.com/wiki/Man_in_the_Mirror&amp;sa=D&amp;source=editors&amp;ust=1623675394679000&amp;usg=AOvVaw0Jo-QO09QnEhTNZoNdTYjn"
                        >ror</a
                    ></span
                ><span>&nbsp;</span><span class="c1">middle&rdquo;</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >There are threats to both processes and
                    communication:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_8wxha7vwkit5-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >Threats to processes: how can you trust the source of the
                    message? An attacker can use a false identity when sending a
                    request to the server (like a DNS amplification attack). You
                    can&rsquo;t tell.</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >Threats to communication channel: attackers can copy, alter
                    or inject messages</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_8wxha7vwkit5-1">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >But by using secure channels, we can kill two birds with
                    one stone and patch these problems!</span
                >
            </li>
        </ul>
        <p class="c20 c22"><span class="c1"></span></p>
        <ul class="c2 lst-kix_8wxha7vwkit5-1">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >A secure channel uses existing encryption and
                    authentication technologies (like SSL and TLS).</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Every process knows the identity of every other process
                    (via Trusted Third Party) and can check access rights before
                    performing operations, so no man-in-the-middle can
                    meddle.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >It ensures privacy and integrity of data, and timestamps
                    are used to prevent replaying or reordering messages.</span
                >
            </li>
        </ul>
        <p class="c20">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 166.67px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image187.png"
                    style="
                        width: 602px;
                        height: 166.67px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_8wxha7vwkit5-1">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >You also need to protect objects encapsulated by a
                    distributed application.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span>This is called </span
                ><span class="c29">access control</span
                ><span class="c1"
                    >. Usually, access rights are associated with each principal
                    (a user associated with an object, either the one requesting
                    it or the one who owns it)</span
                >
            </li>
        </ul>
        <p class="c20">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 173.33px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image166.png"
                    style="
                        width: 602px;
                        height: 173.33px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_8wxha7vwkit5-1">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >For example, XACML policies are enforced at the server
                    based on the identity of the client.</span
                >
            </li>
        </ul>
        <p class="c20 c22"><span class="c1"></span></p>
        <ul class="c2 lst-kix_8wxha7vwkit5-1">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Encryption and access control are great, but they
                    don&rsquo;t address DoS attacks.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Also, how do we deal with mobile code? How do we trust
                    it?</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_8wxha7vwkit5-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1">Digitally signed code?</span>
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c1">Run it in a sandbox?</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_8wxha7vwkit5-1">
            <li class="c0 li-bullet-0">
                <span>I don&rsquo;t know. I just write the notes.</span>
            </li>
        </ul>
        <h2 class="c44" id="h.a4osblggpgoj">
            <span class="c9">Distributed Object Systems</span>
        </h2>
        <h3 class="c5" id="h.ntpbl0uai51a">
            <span class="c45">Distributed OOP</span>
        </h3>
        <ul class="c2 lst-kix_f2yg9sseivu5-0 start">
            <li class="c6 li-bullet-0">
                <span>There&rsquo;s a thing called </span
                ><span class="c29">RMI (Remote Method Invocation)</span
                ><span class="c1">.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Basically, you call methods on remote objects, as if they
                    are local.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>It&rsquo;s crap and it&rsquo;s not used anymore.</span
                ><span>&nbsp;But you still need to learn it to </span
                ><span class="c61">pass the exam </span
                ><span>see the advantages of other more modern approaches</span
                ><span class="c1">&nbsp;:)</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_f2yg9sseivu5-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The server sets up a bunch of remote objects and make their
                    references accessible.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The client obtains remote references and invokes
                    methods.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Java.rmi package gives programs API to perform these kinds
                    of RMI operations.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_f2yg9sseivu5-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Remote references are passed by parameters</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Clients have proxies, or &ldquo;stubs&rdquo;, that allows
                    clients to communicate with the server.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Java objects are instantiated from a compiled class, so RMI
                    has to load classes from remote sites. It needs
                    serialization and transmission of class
                    specifications.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_f2yg9sseivu5-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >There are two fundamental concepts of RMI:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_f2yg9sseivu5-1 start">
            <li class="c0 li-bullet-0">
                <span class="c30">Remote object reference</span
                ><span class="c1"
                    >&nbsp;- so the client can talk to the server</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c30">Remote object interface</span
                ><span class="c1"
                    >&nbsp;- so the client knows what to do with the remote
                    object</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.paa5b6j4gf7e">
            <span class="c45">Remote Interfaces</span>
        </h3>
        <ul class="c2 lst-kix_gl54ufqb922r-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">There is an interface called Remote.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >If an interface extends Remote, it can become a remote
                    interface.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The methods in a remote interface can be accessed
                    remotely.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Any object can be a remote object if it implements a remote
                    interface.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_gl54ufqb922r-0">
            <li class="c6 li-bullet-0">
                <span>A </span><span class="c29">stub </span
                ><span class="c1">is a proxy for a remote object.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The stub implements the same methods as on the remote
                    interface.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_gl54ufqb922r-0">
            <li class="c6 li-bullet-0">
                <span class="c1">RMI middleware consists of:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_gl54ufqb922r-1 start">
            <li class="c0 li-bullet-0"><span class="c1">Stub</span></li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Dispatcher (uses Java reflection, it invokes the remote
                    method)</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_gl54ufqb922r-0">
            <li class="c6 li-bullet-0">
                <span class="c1">A remote implementation should:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_gl54ufqb922r-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">Implement a remote interface</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Require an appropriate constructor</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Must provide behaviour on all methods on remote interface
                    (obviously, you need to do that in Java anyway)</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.li8qhro4m5d0">
            <span class="c45">Server Deployment</span>
        </h3>
        <ul class="c2 lst-kix_d0rsj9d0h2s7-0 start">
            <li class="c6 li-bullet-0">
                <span
                    >To deploy an RMI server, you need to run the server itself, </span
                ><span class="c29">and </span
                ><span class="c1">you need a registry.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >What&rsquo;s a registry? It&rsquo;s a separate instance of
                    the JVM that maps URLs to remote references.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>Yes, you need </span><span class="c14">two</span
                ><span class="c1"
                    >&nbsp;Java instances to run an RMI server.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>You can bind URLs using the </span
                ><span class="c4">bind</span
                ><span>&nbsp;method, as well as </span
                ><span class="c4">unbind</span><span>&nbsp;and </span
                ><span class="c4">rebind</span><span class="c1">.</span>
            </li>
        </ul>
        <h3 class="c5" id="h.6611icika7xx">
            <span class="c45">Dynamic Code Loading</span>
        </h3>
        <ul class="c2 lst-kix_wmaf67duaik1-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >How do you trust the code that&rsquo;s coming to your
                    computer?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">You need two things:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_wmaf67duaik1-1 start">
            <li class="c0 li-bullet-0">
                <span class="c30">Security Manager</span
                ><span class="c1">&nbsp;- enforces rules, or policies</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c30">Security policy</span
                ><span class="c1">&nbsp;- the actual rules to abide by</span>
            </li>
        </ul>
        <p class="c20 c22"><span class="c1"></span></p>
        <ul class="c2 lst-kix_wmaf67duaik1-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >A security manager, in Java, is stored via a singleton
                    pattern (sort of).</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>You can set one up with </span
                ><span class="c4">System.setSecurityManager</span
                ><span>&nbsp;and access it with </span
                ><span class="c4">System.getSecurityManager</span
                ><span class="c1">.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >So then how do you set up security policies?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>You can use </span
                ><span class="c4">System.setProperty</span
                ><span class="c1"
                    >, or via the -D switch when initialising the JVM.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_wmaf67duaik1-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >You also need a policy file, to store your policies.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">The format looks a little like this:</span>
            </li>
        </ul>
        <a id="t.b90ec92cdd6c334ec1cbbb44846a19ad000adcf7"></a><a id="t.9"></a>
        <table class="c18">
            <tbody>
                <tr class="c33">
                    <td class="c133" colspan="1" rowspan="1">
                        <p class="c52">
                            <span class="c151 c4"
                                >grant { <br />
                                &nbsp; &nbsp; permission java . net.
                                SocketPermission<br />
                                &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;*:1024
                                -65535&quot;,<br />
                                &nbsp; &nbsp; &nbsp; &nbsp;
                                &nbsp;&quot;connect,accept,resolve&quot;;<br />
                                &nbsp; &nbsp; permission java . net.
                                SocketPermission<br />
                                &nbsp; &nbsp; &nbsp; &nbsp;
                                &nbsp;&quot;*:80&quot;, &quot;connect&quot;;<br />};</span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h3 class="c5" id="h.6611icika7xx-17">
            <span class="c45">Many Clients!</span>
        </h3>
        <ul class="c2 lst-kix_ypo29um0cngy-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >How does RMI manage multiple clients running the same
                    methods?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It opens up a new thread for each request!</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >But then we&rsquo;ve got lots of threads acting on the same
                    resources. If you&rsquo;ve read the PLC notes, you know that
                    this is a recipe for race conditions.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >But in case you haven&rsquo;t started PLC yet, a race
                    condition is when two or more threads try to manipulate a
                    shared resource at the same time.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_ypo29um0cngy-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >So then, what do we do to stop race conditions from
                    screwing things up?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >We use a schedule! So that thread activities can be
                    controlled.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >Basically, we only want one thread trying to access a
                    critical region (some mutable shared resource) at a time.
                    This is called </span
                ><span class="c29">atomicity</span><span class="c1">.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >Also, when other threads try to access an occupied critical
                    region, it&rsquo;ll wait for the &ldquo;lock&rdquo;. This is
                    called </span
                ><span class="c29">guaranteeing mutual exclusion</span
                ><span class="c1">.</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_ypo29um0cngy-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >In Java, there exists an implementation of the monitor
                    concept.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>A </span><span class="c29">monitor </span
                ><span class="c1"
                    >is a barrier securing a shared resource with a lock.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >When a thread accesses a shared resource, it gets the
                    lock.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >When more threads try to access the shared resource, it has
                    to wait in queue until the lock is released.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.6611icika7xx-18">
            <span class="c45">The Monitor</span>
        </h3>
        <ul class="c2 lst-kix_29ax36h91tnb-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Don&rsquo;t worry! There&rsquo;s not some weird class you
                    have to use to use monitors.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >You&rsquo;ve actually been using monitors this whole time:
                    it&rsquo;s from the </span
                ><span class="c4">synchronized </span
                ><span class="c1">keyword.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It can declare critical regions of methods or
                    objects.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >When a thread tries to access code encapsulated with a
                    synchronized block, it needs a lock of that object (or
                    class, if it&rsquo;s a static method).</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >For more information, read the PLC notes. PLC does a great
                    job of covering concurrency!</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.6611icika7xx-19">
            <span class="c45">The Observer Pattern</span>
        </h3>
        <ul class="c2 lst-kix_iydqpf1w4l7g-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >There&rsquo;s also an observer pattern used for concurrent
                    threads:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_iydqpf1w4l7g-1 start">
            <li class="c0 li-bullet-0">
                <span class="c4">wait()</span><span>&nbsp;- </span
                ><span class="c23"
                    >the thread stops and waits to be notified</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c4">notify()</span><span>&nbsp;- </span
                ><span class="c23">wakes up a random thread</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c4">notifyAll()</span><span>&nbsp;- </span
                ><span class="c23">wakes up all threads</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_iydqpf1w4l7g-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This is more useful for scenarios such as the producer
                    consumer problem.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Again, this is explained further in the PLC notes, so for
                    more information, please check those.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.6611icika7xx-20">
            <span class="c45">RMI Limitations</span>
        </h3>
        <ul class="c2 lst-kix_f0j7nxtaj38v-0 start">
            <li class="c6 li-bullet-0">
                <span>Despite how </span><span class="c30">amazing</span
                ><span class="c1">&nbsp;RMI is, it has disadvantages.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >For example, it assumes both the client and server run in a
                    JVM.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >It doesn&rsquo;t work if either server or client are not
                    written in Java. For example, it can&rsquo;t work with
                    legacy code in COBOL, servers written in Python or C </span
                ><span class="c30 c59"
                    >(good luck to you if you write servers in C)</span
                ><span class="c1"
                    >&nbsp;or a web application written in JavaScript.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >You can use JNI (Java Native Interface) in some cases, but
                    it&rsquo;s a pain to work with (even more than RMI) and
                    doesn&rsquo;t always work.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It makes remote calls look like local calls, i.e. it
                    assumes that the network is always reliable. Obviously,
                    that&rsquo;s not the case and it&rsquo;s a pain to handle
                    network problems with RMI.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >All in all, RMI is a tightly coupled system. We don&rsquo;t
                    want tight coupling though, as we want to build servers and
                    clients which are independent of each other, i.e.
                    don&rsquo;t restrict or affect each other.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_f0j7nxtaj38v-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >So yeah, it&rsquo;s clear: RMI sucks. Well, it&rsquo;s not
                    that it sucks; it&rsquo;s outdated technology. Nowadays, we
                    have things like REST APIs, which pretty much run the entire
                    Internet.</span
                >
            </li>
        </ul>
        <h2 class="c44" id="h.9l9zacrtqlh">
            <span class="c9">Data Serialisation</span>
        </h2>
        <h3 class="c5" id="h.afy10ofgal73">
            <span class="c45">Serialising Java Objects</span>
        </h3>
        <ul class="c2 lst-kix_n5r3mpw57vaq-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >In RMI, we send objects over networks, like parameters and
                    stuff.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">How do we do that?</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The object needs to implement the Serializable
                    interface!</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >If an object implements the Serializable interface, the
                    compiler generates bytecode to handle
                    serialization/deserialization.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The same version of the class must be known on both
                    sides.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>Objects are passed through networks using </span
                ><span class="c4">ObjectInputStream</span><span>s and </span
                ><span class="c4">ObjectOutputStream</span
                ><span>s, with the methods </span
                ><span class="c4">readObject </span><span>and </span
                ><span class="c4">writeObject</span><span class="c1">.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >You also need a version UID, because that&rsquo;s important
                    in sending objects over a network.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.afy10ofgal73-21">
            <span class="c45">Mobile code &#x1f4f1;</span>
        </h3>
        <ul class="c2 lst-kix_9qikxb7o3ujo-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >We can use serialisation to create mobile code:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_9qikxb7o3ujo-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Client sends a message object to a server that contains
                    behaviour</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Server calls a method on the received object to execute the
                    behaviour</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >The message object can then either be sent back to the
                    client or visit the next server.</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_9qikxb7o3ujo-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >To do this, you can define an interface for tasks, called
                    Task:</span
                >
            </li>
        </ul>
        <a id="t.b37cbe0925ee0ee2c440408ff239d21f2def2b09"></a><a id="t.10"></a>
        <table class="c18">
            <tbody>
                <tr class="c33">
                    <td class="c133" colspan="1" rowspan="1">
                        <p class="c52">
                            <span class="c4 c134">public</span
                            ><span class="c151 c4">&nbsp;</span
                            ><span class="c4 c134">interface</span
                            ><span class="c151 c4">&nbsp;Task </span
                            ><span class="c4 c134">extends</span
                            ><span class="c151 c4"
                                >&nbsp;Serializable {<br />
                                &nbsp; &nbsp;</span
                            ><span class="c4 c134">public</span
                            ><span class="c151 c4">&nbsp;Object execute</span
                            ><span class="c152 c4">()</span
                            ><span class="c4 c151">;<br />}</span>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_aqink133rd7x-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Then, you can create tasks that implement Task and send
                    those to a server.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >For example, you could make a LetterCount task, which has a
                    string as a property, and the </span
                ><span class="c4">execute</span
                ><span class="c1"
                    >&nbsp;implementation could count the number of characters
                    in the string and return the result.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >If the client sent that to the server, the server could run </span
                ><span class="c4">execute </span
                ><span class="c1"
                    >and do something with the result (e.g. send it back to the
                    client).</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This is one way to send mobile code in Java, although
                    it&rsquo;s a bit hacky because the server must already be
                    aware of the code in the first place; code isn&rsquo;t
                    actually being &ldquo;transmitted&rdquo;.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>However, if you store a </span
                ><span class="c4">Task </span><span>as a property in some </span
                ><span class="c4">ExecImpl </span
                ><span class="c1"
                    >class and send that, you could send code that isn&rsquo;t
                    preprogrammed into the server.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.dzmcvq8mh3zm">
            <span class="c45">Pass by reference or value?</span>
        </h3>
        <ul class="c2 lst-kix_tdz3cdry8cdd-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >With serialisation, we&rsquo;re passing a copy of the
                    object.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >However, with RMI, you can pass a reference of an object,
                    using the Remote interface!</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_tdz3cdry8cdd-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Let&rsquo;s use an example with Banks and Accounts.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The Bank implementation passes references to remote account
                    objects.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Both the client and the server have copies of the same
                    Account object reference.</span
                >
            </li>
        </ul>
        <p class="c20">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 201.33px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image126.png"
                    style="
                        width: 602px;
                        height: 201.33px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_jvofnihye9mn-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">We can go further and use callbacks.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >With callbacks, we pass a callback object reference (from
                    client to server).</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Basically, a client sends the server a request and some
                    callback object.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Then, once the server has done performing the request, it
                    uses the callback object, so the client can react to what
                    the server has done.</span
                >
            </li>
        </ul>
        <p class="c20">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 158.67px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image93.png"
                    style="
                        width: 602px;
                        height: 158.67px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_9kk2c0ydwawl-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >With RMI, the client&rsquo;s calling thread waits until the
                    remote method returns.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Callback allows decoupling between client and server.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.afy10ofgal73-22">
            <span class="c45">Programming language independence</span>
        </h3>
        <ul class="c2 lst-kix_h3ejp3y6e8t6-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Don&rsquo;t like the way Java is serialising your
                    objects?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >What was that? You wanted your Java programs and your C
                    programs and your FORTRAN programs and your COBOL programs
                    to talk to each other through a language-independent
                    format?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>No worries! Just override the </span
                ><span class="c4">writeObject </span><span>and </span
                ><span class="c4">readObject </span
                ><span class="c1"
                    >methods and you can define your own language-independent
                    format!</span
                >
            </li>
        </ul>
        <a id="t.ac1e146dd8b9914528b63629691ce24174d4b885"></a><a id="t.11"></a>
        <table class="c18">
            <tbody>
                <tr class="c33">
                    <td class="c133" colspan="1" rowspan="1">
                        <p class="c52">
                            <span class="c63 c4">import</span
                            ><span class="c91 c4"
                                >&nbsp;java .io. Serializable ;<br /></span
                            ><span class="c63 c4">import</span
                            ><span class="c91 c4"
                                >&nbsp;java .io. ObjectOutputStream ;<br /></span
                            ><span class="c63 c4">import</span
                            ><span class="c4 c91"
                                >&nbsp;java .io. ObjectInputStream ;<br /><br /></span
                            ><span class="c63 c4">public</span
                            ><span class="c91 c4">&nbsp;</span
                            ><span class="c63 c4">class</span
                            ><span class="c91 c4">&nbsp;MyClass </span
                            ><span class="c63 c4">implements</span
                            ><span class="c91 c4"
                                >&nbsp;Serializable<br />{<br />
                                &nbsp; &nbsp;</span
                            ><span class="c63 c4">private</span
                            ><span class="c91 c4">&nbsp;</span
                            ><span class="c63 c4">static</span
                            ><span class="c91 c4">&nbsp;</span
                            ><span class="c63 c4">final</span
                            ><span class="c91 c4">&nbsp;</span
                            ><span class="c63 c4">long</span
                            ><span class="c91 c4"
                                >&nbsp;serialVersionUID = </span
                            ><span class="c4 c118">2L</span
                            ><span class="c91 c4"
                                >;<br /><br />
                                &nbsp; &nbsp;</span
                            ><span class="c63 c4">private</span
                            ><span class="c91 c4">&nbsp;</span
                            ><span class="c63 c4">void</span
                            ><span class="c91 c4">&nbsp;writeObject </span
                            ><span class="c152 c4 c146"
                                >( ObjectOutputStream out )</span
                            ><span class="c91 c4"
                                ><br />
                                &nbsp; &nbsp; &nbsp;</span
                            ><span class="c63 c4">throws</span
                            ><span class="c91 c4"
                                >&nbsp;IOException<br />
                                &nbsp; &nbsp;{ </span
                            ><span class="c4 c35">// Custom solution </span
                            ><span class="c91 c4"
                                ><br />
                                &nbsp; &nbsp;} <br /><br />
                                &nbsp; &nbsp;</span
                            ><span class="c63 c4">private</span
                            ><span class="c91 c4">&nbsp;</span
                            ><span class="c4 c63">void</span
                            ><span class="c91 c4">&nbsp;readObject </span
                            ><span class="c4 c146 c152"
                                >( ObjectInputStream in )</span
                            ><span class="c91 c4"
                                >&nbsp;<br />
                                &nbsp; &nbsp; &nbsp;</span
                            ><span class="c63 c4">throws</span
                            ><span class="c91 c4"
                                >&nbsp;IOException , ClassNotFoundException
                                <br />
                                &nbsp; &nbsp;{ </span
                            ><span class="c35 c4">// Custom solution </span
                            ><span class="c91 c4"
                                ><br />
                                &nbsp; &nbsp;} <br />}</span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_v3zgyprcwl7b-0 start">
            <li class="c6 li-bullet-0">
                <span
                    >But that&rsquo;s effort! You want to use a standard because </span
                ><span class="c61"
                    >you&rsquo;re lazy and don&rsquo;t want to define your own
                    format yourself</span
                ><span class="c1"
                    >&nbsp;you&rsquo;d also like to support other programs, and
                    using a well-defined standard makes everything easier.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_v3zgyprcwl7b-0">
            <li class="c6 li-bullet-0">
                <span class="c1">So what should the standard have?</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_v3zgyprcwl7b-1 start">
            <li class="c0 li-bullet-0">
                <span class="c14">Syntax</span
                ><span class="c1"
                    >: What is the structure of the byte stream?</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c14">Semantics</span
                ><span class="c1">: What do the symbols mean?</span>
            </li>
        </ul>
        <h3 class="c5" id="h.f8tn8vze6mvm"><span class="c45">JSON</span></h3>
        <ul class="c2 lst-kix_qvhb326li9t0-0 start">
            <li class="c6 li-bullet-0">
                <span class="c29">JSON (JavaScript Object Notation)</span
                ><span class="c1"
                    >: a language-independent syntax for exchanging structured
                    data</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">There are three main components:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_qvhb326li9t0-1 start">
            <li class="c0 li-bullet-0">
                <span class="c14">Value</span
                ><span class="c1"
                    >: a number, a string, a boolean, an array, an object or
                    null</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c14">Array</span><span>: a list of values </span
                ><span class="c25 c4">[ ]</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c14">Object</span
                ><span
                    >: a mapping from keys (written as strings) to values </span
                ><span class="c25 c4">{ }</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_qvhb326li9t0-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >For example, here is a JSON document expressing an auction
                    structure, containing items with IDs, names and stock:</span
                >
            </li>
        </ul>
        <a id="t.2d6591e741ad830fdf061f0b88c38c07d162ba4c"></a><a id="t.12"></a>
        <table class="c18">
            <tbody>
                <tr class="c33">
                    <td class="c133" colspan="1" rowspan="1">
                        <p class="c52"><span class="c79 c4">{</span></p>
                        <p class="c52">
                            <span class="c79 c4"
                                >&nbsp; &ldquo;auction&rdquo;: &ldquo;Notes
                                Network Auction&rdquo;</span
                            >
                        </p>
                        <p class="c52">
                            <span class="c79 c4"
                                >&nbsp; &ldquo;items&rdquo;: [</span
                            >
                        </p>
                        <p class="c52">
                            <span class="c79 c4">&nbsp; &nbsp; {</span>
                        </p>
                        <p class="c52">
                            <span class="c79 c4"
                                >&nbsp; &nbsp; &nbsp; &ldquo;ID&rdquo;:
                                &ldquo;023469234&rdquo;,</span
                            >
                        </p>
                        <p class="c52">
                            <span class="c79 c4"
                                >&nbsp; &nbsp; &nbsp; &ldquo;name&rdquo;:
                                &ldquo;Red Stone of Aja&rdquo;,</span
                            >
                        </p>
                        <p class="c52">
                            <span class="c4 c79"
                                >&nbsp; &nbsp; &nbsp; &ldquo;stock&rdquo;:
                                1</span
                            >
                        </p>
                        <p class="c52">
                            <span class="c79 c4">&nbsp; &nbsp; },</span>
                        </p>
                        <p class="c52">
                            <span class="c79 c4">&nbsp; &nbsp; {</span>
                        </p>
                        <p class="c52">
                            <span class="c79 c4"
                                >&nbsp; &nbsp; &nbsp; &ldquo;ID&rdquo;:
                                &ldquo;FE40536&rdquo;</span
                            >
                        </p>
                        <p class="c52">
                            <span class="c79 c4"
                                >&nbsp; &nbsp; &nbsp; &ldquo;name&rdquo;:
                                &ldquo;String&rdquo;</span
                            >
                        </p>
                        <p class="c52">
                            <span class="c79 c4"
                                >&nbsp; &nbsp; &nbsp; &ldquo;stock&rdquo;:
                                58</span
                            >
                        </p>
                        <p class="c52">
                            <span class="c79 c4">&nbsp; &nbsp; },</span>
                        </p>
                        <p class="c52">
                            <span class="c79 c4">&nbsp; &nbsp; {</span>
                        </p>
                        <p class="c52">
                            <span class="c79 c4"
                                >&nbsp; &nbsp; &nbsp; &ldquo;ID&rdquo;:
                                &ldquo;296360&rdquo;</span
                            >
                        </p>
                        <p class="c52">
                            <span class="c79 c4"
                                >&nbsp; &nbsp; &nbsp; &ldquo;name&rdquo;:
                                &ldquo;Time Stop Hat&rdquo;</span
                            >
                        </p>
                        <p class="c52">
                            <span class="c79 c4"
                                >&nbsp; &nbsp; &nbsp; &ldquo;stock&rdquo;:
                                3</span
                            >
                        </p>
                        <p class="c52">
                            <span class="c79 c4">&nbsp; &nbsp; },</span>
                        </p>
                        <p class="c52"><span class="c79 c4">&nbsp; ]</span></p>
                        <p class="c52"><span class="c151 c4">}</span></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_pzbx5fu160bf-0 start">
            <li class="c6 li-bullet-0">
                <span
                    >JSON documents should be underpinned by schema (semantics,
                    or set rules) which can be defined by a &ldquo;</span
                ><span class="c4">$schema</span
                ><span>&rdquo; or/and &ldquo;</span><span class="c4">$id</span
                ><span>&rdquo; property.</span>
            </li>
        </ul>
        <h3 class="c5" id="h.k61sn26fwuuq"><span class="c45">GSON</span></h3>
        <ul class="c2 lst-kix_jtfzp5611nz9-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >GSON is a JSON helper API made by Google.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Basically, it lets you use JSON in Java.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It has reflection-based functionality, which allows it to
                    convert Serializable objects into JSON and back again.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>If you wanna check out more, look at the repo: </span
                ><span class="c14 c72"
                    ><a
                        class="c3"
                        href="https://www.google.com/url?q=https://github.com/google/gson&amp;sa=D&amp;source=editors&amp;ust=1623675394727000&amp;usg=AOvVaw3im6c2D5z8m0JR8ycOMaf2"
                        >https://github.com/google/gson</a
                    ></span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.afy10ofgal73-23">
            <span class="c45">Linked Data &amp; Semantics</span>
        </h3>
        <ul class="c2 lst-kix_aps0wbxkraq7-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >There&rsquo;s a method of encoding linked data to JSON
                    called JSON-LD.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It&rsquo;s a W3C recommendation (standard) to use
                    this.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >It uses a common schema with defined relations, most of
                    which can be found here: </span
                ><span class="c14 c72"
                    ><a
                        class="c3"
                        href="https://www.google.com/url?q=https://schema.org/&amp;sa=D&amp;source=editors&amp;ust=1623675394729000&amp;usg=AOvVaw0nlAplUwBpI-W8sAnp7GsI"
                        >https://schema.org/</a
                    ></span
                ><span>&nbsp;(such as </span><span class="c4">sameAs</span
                ><span>, </span><span class="c4">is-a</span><span>, </span
                ><span class="c4">requires</span><span>, </span
                ><span class="c4">attachedTo </span
                ><span class="c1">etc.)</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_aps0wbxkraq7-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >We can also use this to describe policies for distributed
                    systems, not just with access control, but for behaviour
                    control, too.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >The International Labour Organisation reported fatalities
                    in low/middle income countries due to workplace accidents
                    and illnesses. This was because equipment didn&rsquo;t
                    comply with OHS policies.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >So they used W3C SSN Ontology for sensor descriptions and a
                    framework called OWL-POLAR for semantical policy
                    representation, and now it&rsquo;s being used in coal
                    mining.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_aps0wbxkraq7-0">
            <li class="c6 li-bullet-0">
                <span
                    >Also, if we can describe things, rules, policies, we can
                    describe networks, too. That&rsquo;s called software-defined
                    networking, and we&rsquo;ve already seen a bit of that
                    already (with virtual LAN).</span
                >
            </li>
        </ul>
        <h2 class="c44" id="h.rvel6vxyadrc">
            <span class="c9">Loose Coupling</span>
        </h2>
        <h3 class="c5" id="h.rxri3tnvajoi">
            <span class="c45">Space &amp; Time Uncoupling</span>
        </h3>
        <ul class="c2 lst-kix_cm14689fbtlm-0 start">
            <li class="c6 li-bullet-0">
                <span
                    >If senders and recipients don&rsquo;t have to be directly
                    connected to each other, we are </span
                ><span class="c29">decoupling with space</span
                ><span class="c1">.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >If sending and receiving messages can happen at any time
                    anyone is available, we are </span
                ><span class="c29">decoupling with time</span
                ><span class="c1">.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This can make one-to-many communication easier.</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_bp38coys8gay-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">Here are the effects of coupling:</span>
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <a id="t.5b639f3466a02487b0ab8b0362a5d558e005cf07"></a><a id="t.13"></a>
        <table class="c18">
            <tbody>
                <tr class="c33">
                    <td class="c107 c172" colspan="1" rowspan="1">
                        <p class="c16 c40"><span class="c1"></span></p>
                    </td>
                    <td class="c11 c57" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c119 c120 c29">Time coupled</span>
                        </p>
                    </td>
                    <td class="c66 c57" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c119 c120 c29">Time uncoupled</span>
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c107 c62" colspan="1" rowspan="1">
                        <p class="c16"><span class="c8">Space coupled</span></p>
                    </td>
                    <td class="c11" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c55 c62"
                                >Message is directed specifically towards
                                receiver.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c88 c53"
                                >Receiver must be present when the message is
                                sent.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c1"
                                >Example: sockets, remote invocation</span
                            >
                        </p>
                    </td>
                    <td class="c66" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c55 c62"
                                >Message is directed specifically towards
                                receiver.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c55 c62"></span></p>
                        <p class="c16">
                            <span class="c88 c53"
                                >Receiver doesn&rsquo;t have to be present when
                                the message is sent.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c88 c53"></span></p>
                        <p class="c16">
                            <span class="c1"
                                >Example: snail mail (normal mail), email</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c107 c62" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c8">Space uncoupled</span>
                        </p>
                    </td>
                    <td class="c11" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c55 c62"
                                >Sender doesn&rsquo;t know exactly who
                                they&rsquo;re sending to.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c88 c53"
                                >Receiver must be present when the message is
                                sent.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c88 c53"></span></p>
                        <p class="c16">
                            <span class="c1">Example: IP multicast</span>
                        </p>
                    </td>
                    <td class="c66" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c55 c62"
                                >Sender doesn&rsquo;t know exactly who
                                they&rsquo;re sending to.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c88 c53"
                                >Receiver doesn&rsquo;t have to be present when
                                the message is sent.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c88 c53"></span></p>
                        <p class="c16">
                            <span>Example: publish &amp; subscribe </span
                            ><span class="c39 c14">with message queues</span>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c20 c40"><span class="c1"></span></p>
        <h3 class="c5" id="h.yuz929o3622o">
            <span class="c45">Group Communication</span>
        </h3>
        <ul class="c2 lst-kix_hgg9burlcys-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">A sender sends a message to a group</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >All the recipients of that group receive the message</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Participants may leave / join the group</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >A single multicast operation is used for sending the
                    message</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Usually implemented with IP multicast</span>
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 387.36px;
                    height: 309.4px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image130.png"
                    style="
                        width: 387.36px;
                        height: 309.4px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c56">
            <span class="c105"
                >The frowning person won&rsquo;t receive the message as they
                aren&rsquo;t available, hence why this is
                space-uncoupled-time-coupled.</span
            >
        </p>
        <p class="c56 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_hgg9burlcys-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >You can think of this as a space uncoupled time coupled
                    network (assuming there aren&rsquo;t any message
                    queues).</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >You can use this to send information to a large number of
                    clients, or in a collaborative application.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It&rsquo;s also handy for different kinds of groups, such
                    as closed groups (where only members can send messages) or
                    open groups (where any process can send messages).</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_hgg9burlcys-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >There are two kinds of group communication:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_hgg9burlcys-1 start">
            <li class="c0 li-bullet-0">
                <span class="c14">Synchronous group communication</span
                ><span class="c1"
                    >: the messages are sent out in real-time, and bounds must
                    be set on communication delays, process scheduling delays
                    and faulty components.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c14">Asynchronous group communication</span
                ><span class="c1"
                    >: messages are sent via datagram (UDP), so they may get
                    lost, so systems are characterised by communication
                    uncertainty. We should set bounds of timeout delays and
                    assume timely communication most of the time.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_hgg9burlcys-0">
            <li class="c6 li-bullet-0">
                <span class="c1">When implementing, we need to ensure:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_hgg9burlcys-1 start">
            <li class="c0 li-bullet-0">
                <span class="c14">Reliability</span
                ><span class="c1"
                    >: message received is identical to the one sent
                    (integrity), every message is eventually delivered
                    (validity) and if a message is delivered to one member,
                    it&rsquo;s delivered to all (agreement).</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c14">Ordering</span
                ><span class="c1"
                    >: sender order is preserved (FIFO), and can either
                    have:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_hgg9burlcys-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c14">Causal ordering</span
                ><span class="c1"
                    >: just make sure if message m2 is sent in response to m1,
                    m2 is received by all members after m1.</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c14">Total ordering</span
                ><span class="c1"
                    >: all messages are sent in the same order, regardless of
                    causality.</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_hgg9burlcys-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Remember that we also need some kind of management, so we
                    can create/delete groups, add/remove participants, detect
                    failures and notify members of membership changes.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.yuz929o3622o-24">
            <span class="c45">Publish &amp; Subscribe</span>
        </h3>
        <ul class="c2 lst-kix_t73qegmtjtac-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Publish and subscribe is the most widely used form of
                    indirect communication.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Also known as distributed event-based systems</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>Basically, publishers </span
                ><span class="c29">publish </span
                ><span
                    >events to an event service, and subscribers express
                    interest (or </span
                ><span class="c29">subscribe</span
                ><span class="c1">) in particular events.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It&rsquo;s like a special kind of group communication, also
                    making this space-uncoupled-time-coupled (assuming that the
                    system doesn&rsquo;t store any events).</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >These kinds of systems deliver event notifications.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Publishers can also publish messages by topic, and
                    subscribers may want to subscribe to a set of topics.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >If a subscriber is not running, events may be stored and
                    queued until it rejoins.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >When events are queued, the system becomes time-uncoupled
                    since it will store them until a subscriber comes back
                    online</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >You&rsquo;ve seen lots of these before, like:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_t73qegmtjtac-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Subscribing to a channel on YouTube (except you actually
                    get told when they upload)</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Financial information systems (like the stock market)</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Cloud-based workflows</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Cooperative working systems</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_t73qegmtjtac-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >An example of an infrastructure that uses pub &amp; sub is
                    Google Cloud Pub / Sub (creative name).</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>It supports many-to-many communication, and it has </span
                ><span class="c29">heterogeneity</span
                ><span class="c1"
                    >, which means it supports different components written by
                    different developers.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_t73qegmtjtac-0">
            <li class="c6 li-bullet-0">
                <span class="c1">The types of subscription models are:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_t73qegmtjtac-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">Channel-based</span
                ><span class="c1"
                    >: subscribers subscribe to a channel, so they receive all
                    events</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Topic-based</span
                ><span class="c1"
                    >: subscribers subscribe to a set of topics, so they only
                    receive messages sent to those topics</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Content-based</span
                ><span class="c1"
                    >: subscribers filter messages based on queries, and only
                    receive those.</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_t73qegmtjtac-0">
            <li class="c6 li-bullet-0">
                <span class="c1">The types of implementation models are:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_t73qegmtjtac-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">Centralised</span
                ><span class="c1"
                    >: A single publisher sends messages to multiple subscribers
                    via point-to-point messages (it lacks resilience and
                    scalability)</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Distributed</span
                ><span
                    >: A network of publishers work together (also called </span
                ><span class="c29">federated</span><span class="c1">)</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Peer-to-peer</span
                ><span class="c1"
                    >: Some fully peer-to-peer implementations are
                    possible</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.yuz929o3622o-25">
            <span class="c45">Message Queues &amp; IoT</span>
        </h3>
        <ul class="c2 lst-kix_clloeon8mdgz-0 start">
            <li class="c6 li-bullet-0">
                <span>That&rsquo;s great, </span
                ><span
                    >but we still don&rsquo;t have full decoupling (unless we
                    store events); how do we decouple time, too? </span
                ><span class="c1"
                    >Do we need a time-based stand, like Killer Queen or King
                    Crimson?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">No, using message queues are enough.</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_clloeon8mdgz-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Traditionally, message queues are point-to-point
                    services.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Senders (or producers) place messages into queues, and
                    receivers (or consumers) take messages from the
                    queues.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This way, producers and consumers can have different
                    lifetimes, decoupling time. It&rsquo;s also suitable for
                    enterprise applications.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_ze6n9l3offhn-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >What protocol uses message queues like this?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>There&rsquo;s one called </span
                ><span class="c29"
                    >MQTT (Message Queue Telemetry Transport)</span
                ><span
                    >, and it&rsquo;s very light-weight! Perfect for embedded
                    systems, edge computing and Internet of Things.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_ze6n9l3offhn-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Why not just use HTTP? Well, HTTP is better for requesting
                    information. Plus, it&rsquo;s not event-oriented and it can
                    be more bulky than MQTT.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >However, the way MQTT defines its namespaces is similar to
                    HTTP, as it uses a hierarchical system.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The sub-topics are separated with &ldquo;/&rdquo;, and it
                    gets more specific as you specify more topics.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >For example, some device could publish to:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_ze6n9l3offhn-1 start">
            <li class="c0 li-bullet-0">
                <span class="c25 c4"
                    >&lt;town&gt;/&lt;postcode&gt;/&lt;house&gt;/alarm</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c25 c4"
                    >&lt;town&gt;/&lt;postcode&gt;/&lt;house&gt;/temperature</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c25 c4"
                    >&lt;town&gt;/&lt;postcode&gt;/&lt;house&gt;/energyUse</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_ze6n9l3offhn-0">
            <li class="c6 li-bullet-0">
                <span class="c1">... and subscribe to:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_ze6n9l3offhn-1 start">
            <li class="c0 li-bullet-0">
                <span class="c25 c4"
                    >&lt;town&gt;/&lt;postcode&gt;/&lt;house&gt;/thermostat/setTemp</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_ze6n9l3offhn-0">
            <li class="c6 li-bullet-0">
                <span class="c1">Subscribers can also use wildcards:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_ze6n9l3offhn-1 start">
            <li class="c0 li-bullet-0">
                <span class="c14">Single-level wildcards</span
                ><span class="c1"
                    >&nbsp;&ldquo;+&rdquo; selects every topic at that
                    hierarchy</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c14">Multi-level wildcards</span
                ><span class="c1"
                    >&nbsp;&ldquo;#&rdquo; selects every topic path</span
                >
            </li>
            <li class="c0 li-bullet-0"><span class="c1">For example:</span></li>
        </ul>
        <ul class="c2 lst-kix_ze6n9l3offhn-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c4">Southampton/+/+/energyUse</span
                ><span class="c1"
                    >&nbsp;- subscribe to energy use for all homes in
                    Southampton</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c4">Southampton/SO171BJ/#</span
                ><span class="c1"
                    >&nbsp;- subscribe to all queues for all homes in SO17
                    1BJ</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_ze6n9l3offhn-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It&rsquo;s also cheaper to maintain a MQTT connection than
                    a HTTPS connection, as it requires less power:</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 346.67px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image64.png"
                    style="
                        width: 602px;
                        height: 346.67px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_ze6n9l3offhn-0">
            <li class="c6 li-bullet-0">
                <span class="c1">A subscription can either be:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_ze6n9l3offhn-1 start">
            <li class="c0 li-bullet-0">
                <span class="c14">Durable</span
                ><span class="c1"
                    >: messages are stored until next time subscriber
                    connects</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c14">Non-durable</span
                ><span class="c1"
                    >: messages remain as long as subscriber is connected</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_ze6n9l3offhn-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Publishers can also make publications
                    &ldquo;retained&rdquo;.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This means that &ldquo;last known good&rdquo; messages are
                    sent to new subscribers.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_ze6n9l3offhn-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >MQTT is really small; the smallest packet size is 2 bytes!
                    It&rsquo;s compressed into bit-wise headers and variable
                    length fields.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It has asynchronous bidirectional pushing, so no
                    polling.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It supports always-connected and sometimes-connected
                    models</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It&rsquo;s aware of sessions, and usually operates over
                    TCP.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Plus, the sender and receiver can agree on a quality of
                    service (QoS) based on a 2-bit integer:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_ze6n9l3offhn-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">0 - messages are delivered at most once</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >1 - messages are delivered but may be duplicated</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >2 - messages are delivered once and only once</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_ze6n9l3offhn-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Because MQTT is so minimalistic, it&rsquo;s perfect for
                    devices with limited resources, like game controllers or
                    small battery powered devices.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >Implementations of MQTT are available for C and Java, but
                    one of the most popular is one called RabbitMQ.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.yuz929o3622o-26">
            <span class="c45">RabbitMQ</span>
        </h3>
        <ul class="c2 lst-kix_s0ilygng5er4-0 start">
            <li class="c6 li-bullet-0">
                <span class="c29">RabbitMQ </span
                ><span class="c1"
                    >is a multi-protocol implementation that is polyglot
                    (supports multiple languages).</span
                >
            </li>
            <li class="c6 li-bullet-0"><span class="c1">It supports:</span></li>
        </ul>
        <ul class="c2 lst-kix_s0ilygng5er4-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">AMQP (Advanced Message Queuing Protocol)</span
                ><span class="c1"
                    >&nbsp;- message-oriented pub/sub queueing protocol with
                    reliability and security</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">MQTT (Message Queue Telemetry Transport)</span
                ><span class="c1"
                    >&nbsp;- pub/sub based protocol designed to be minimalistic
                    for small code footprints</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29"
                    >STOMP (Simple Text-Oriented Messaging Protocol)</span
                ><span class="c1"
                    >&nbsp;- similar to HTTP and has commands such as CONNECT,
                    SEND, SUBSCRIBE, UNSUBSCRIBE</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_s0ilygng5er4-0">
            <li class="c6 li-bullet-0">
                <span>Since it </span><span>is polyglot</span
                ><span class="c1"
                    >, it supports many languages, for example, you could write
                    the producer in Java and the consumer in Python.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_s0ilygng5er4-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It also supports different communication patterns, such as
                    pub/sub, topic-based routing and RPC (Remote procedure
                    call).</span
                >
            </li>
        </ul>
        <h2 class="c44" id="h.4xf66rx1irjy">
            <span class="c9">Distributed Transactions</span>
        </h2>
        <h3 class="c5" id="h.d2bqyt1cgsd4">
            <span class="c45">Distributed Data</span>
        </h3>
        <ul class="c2 lst-kix_dh6hl4ps63pv-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >When you distribute data, it needs to follow the ACID
                    rules:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_dh6hl4ps63pv-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">Atomicity</span
                ><span class="c1"
                    >: either a transaction happens or not at all</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Consistency</span
                ><span class="c1"
                    >: a transaction takes the system from one consistent state
                    to another</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Isolation</span
                ><span class="c1"
                    >: effects of a transaction are not visible until it&rsquo;s
                    fully complete</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Durability</span
                ><span class="c1"
                    >: effects of a transaction are persistent (resistance to
                    failures)</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_dh6hl4ps63pv-0">
            <li class="c6 li-bullet-0">
                <span class="c1">To put this into context, we need:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_dh6hl4ps63pv-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">objects to be recoverable</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >clients to signal the start/end of a transaction</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >commitment processes to guarantee all operations are
                    permanently recorded</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >the protocol to ensure aborted transactions leave no
                    visible effects</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_dh6hl4ps63pv-0">
            <li class="c6 li-bullet-0">
                <span>We need some kind of </span
                ><span class="c4">Coordinator </span
                ><span class="c1">to uphold these rules...</span>
            </li>
        </ul>
        <h3 class="c5" id="h.d2bqyt1cgsd4-27">
            <span class="c45">Lost Updates &amp; Inconsistent Retrievals</span>
        </h3>
        <ul class="c2 lst-kix_a4ea0cnd0aqo-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Here are two kinds of problems we could face:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_a4ea0cnd0aqo-1 start">
            <li class="c0 li-bullet-0">
                <span class="c21">Lost updates</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_a4ea0cnd0aqo-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >This is where an update is lost by transaction U because
                    transaction T overrides it:</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <a id="t.b016ead5fbd5ee6dfa280956e14ae609253aea70"></a><a id="t.14"></a>
        <table class="c18">
            <tbody>
                <tr class="c33">
                    <td class="c34 c41" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c21">Transaction T</span>
                        </p>
                    </td>
                    <td class="c34 c41" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c21">Transaction U</span>
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c4">bal = a.getBalance(); </span
                            ><span class="c119 c4 c30 c59">$200</span>
                        </p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16 c40"><span class="c25 c4"></span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16 c40"><span class="c25 c4"></span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c4">bal = a.getBalance(); </span
                            ><span class="c119 c4 c30 c59">$200</span>
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16 c40"><span class="c25 c4"></span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c4">a.setBalance(bal * 1.1); </span
                            ><span class="c4 c30 c59 c119">$220</span>
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16 c40"><span class="c25 c4"></span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16"><span class="c25 c4">commit</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c4">a.setBalance(bal - $100); </span
                            ><span class="c119 c4 c30 c59">$100</span>
                        </p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16 c40"><span class="c25 c4"></span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16"><span class="c25 c4">commit</span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16 c40"><span class="c25 c4"></span></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_ny8eszsz4jgv-0 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >As you can see, the final value is supposed to be $120, but
                    because T accessed the value before U changed it, it sets
                    the balance to $100 instead. The update of U was lost!</span
                >
            </li>
        </ul>
        <p class="c20 c40 c167"><span class="c1"></span></p>
        <ul class="c2 lst-kix_a4ea0cnd0aqo-1">
            <li class="c0 li-bullet-0">
                <span class="c21">Inconsistent retrievals</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_a4ea0cnd0aqo-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >This is where a transaction U doesn&rsquo;t get the right
                    value from a retrieval because they&rsquo;re trying to
                    access before transaction T is finished:</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <a id="t.73707d98511ec8af9cf2276f7155f155d71f197e"></a><a id="t.15"></a>
        <table class="c18">
            <tbody>
                <tr class="c33">
                    <td class="c34 c41" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c21">Transaction T</span>
                        </p>
                    </td>
                    <td class="c34 c41" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c21">Transaction U</span>
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c4">a.withdraw($100); </span
                            ><span class="c119 c4 c30 c59">$100</span>
                        </p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16 c40"><span class="c25 c4"></span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16 c40"><span class="c25 c4"></span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c4">total = a.getBalance(); </span
                            ><span class="c119 c4 c30 c59">$100</span>
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16 c40"><span class="c25 c4"></span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c4">total += b.getBalance(); </span
                            ><span class="c119 c4 c30 c59">$400</span>
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c4">b.deposit($100); </span
                            ><span class="c119 c4 c30 c59">$400</span>
                        </p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16 c40"><span class="c25 c4"></span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16"><span class="c25 c4">commit</span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16"><span class="c25 c4">commit</span></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_glcvmvnp7j71-0 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >The problem here is that when U gets the balance of account
                    B, it shouldn&rsquo;t be $400, it should be $500, because T
                    wanted to deposit $100 into B.</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_4lswfkdyp0fi-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">So how do we fix this?</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">Serial equivalence</span
                ><span class="c1">!</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >What is that? That means to ensure serially-equivalent
                    interleaving, as if the transactions happen one after the
                    other.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This prevents lost updates and inconsistent
                    retrievals.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">So how can we serialise them?</span>
            </li>
            <li class="c6 li-bullet-0"><span class="c1">Two ways:</span></li>
        </ul>
        <ul class="c2 lst-kix_4lswfkdyp0fi-1 start">
            <li class="c0 li-bullet-0">
                <span class="c14">Locking</span
                ><span class="c1"
                    >: transaction must acquire a lock on an object before they
                    act on it. Other transactions must wait for the lock, but
                    can share a read lock. This could lead to deadlock.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c14">Optimistic concurrency control</span
                ><span class="c1"
                    >: perform the transaction anyway, and if we have a conflict
                    at the commit stage, then abort. It&rsquo;s similar to CAS
                    (compare-and-set) in PLC.</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_4lswfkdyp0fi-0">
            <li class="c6 li-bullet-0">
                <span
                    >But what if we want to abort transactions? Then we&rsquo;ll
                    have new problems!</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.d2bqyt1cgsd4-28">
            <span class="c45">Dirty Reads &amp; Premature Writes</span>
        </h3>
        <ul class="c2 lst-kix_gfl63c1vp7eh-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Here are two problems we could face with aborting:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_gfl63c1vp7eh-1 start">
            <li class="c0 li-bullet-0"><span class="c21">Dirty reads</span></li>
        </ul>
        <ul class="c2 lst-kix_gfl63c1vp7eh-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >This happens when transaction U happens after transaction
                    T, but then transaction T wants to abort after U has already
                    committed, which makes U&rsquo;s read &ldquo;dirty&rdquo;
                    (because it&rsquo;s not accurate anymore):</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <a id="t.d2a3bd3b0b8abde18ee13937a4a40b8ea02b1da8"></a><a id="t.16"></a>
        <table class="c18">
            <tbody>
                <tr class="c33">
                    <td class="c34 c41" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c21">Transaction T</span>
                        </p>
                    </td>
                    <td class="c34 c41" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c21">Transaction U</span>
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c4">bal = a.getBalance(); </span
                            ><span class="c119 c4 c30 c59">$200</span>
                        </p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16 c40"><span class="c25 c4"></span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c4">a.setBalance(bal * 1.1); </span
                            ><span class="c4 c30 c59">$220</span>
                        </p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16 c40"><span class="c25 c4"></span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16 c40"><span class="c25 c4"></span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c4">bal = a.getBalance(); </span
                            ><span class="c119 c4 c30 c59">$220</span>
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16 c40"><span class="c25 c4"></span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c4">a.setBalance(bal + 20); </span
                            ><span class="c119 c4 c30 c59">$240</span>
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16 c40"><span class="c4 c25"></span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16"><span class="c25 c4">commit</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16"><span class="c4">abort</span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16 c40"><span class="c25 c4"></span></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_q673nfh1qik1-0 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >As you can see, T aborts after U is finished. That means
                    U&rsquo;s read of account A&rsquo;s balance is now
                    dirty.</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >We need recoverability, and to avoid cascading aborts by
                    delaying reads until other transactions commit or
                    abort.</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_gfl63c1vp7eh-1">
            <li class="c0 li-bullet-0">
                <span class="c21">Premature writes</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_gfl63c1vp7eh-2 start">
            <li class="c20 c43 li-bullet-0">
                <span
                    >This happens when a write happens just before a transaction
                    aborts and rolls back a data value:</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <a id="t.4de848d832772114b4036d41b90b76b06057a031"></a><a id="t.17"></a>
        <table class="c18">
            <tbody>
                <tr class="c33">
                    <td class="c34 c41" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c21">Transaction T</span>
                        </p>
                    </td>
                    <td class="c34 c41" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c21">Transaction U</span>
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c119 c4 c30 c59">$200</span>
                        </p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16 c40"><span class="c25 c4"></span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c4">a.setBalance($250); </span
                            ><span class="c4 c30 c59">$250</span>
                        </p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16 c40"><span class="c25 c4"></span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16 c40"><span class="c25 c4"></span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c4">a.setBalance($220); </span
                            ><span class="c119 c4 c30 c59">$220</span>
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16 c40"><span class="c25 c4"></span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16"><span class="c25 c4">commit</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16"><span class="c25 c4">abort</span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16 c40"><span class="c25 c4"></span></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_gfl63c1vp7eh-2">
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >If T is aborting, A&rsquo;s balance should be $220,
                    right?</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >What if the implementation of an abort is to roll back the
                    previous balance?</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c1">Then the result would be $200! Not good!</span>
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >To fix this, we can delay writes until earlier transactions
                    that update the same objects have committed / aborted.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_gfl63c1vp7eh-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Remember that communication is not fully reliable; it can
                    crash, or links may temporarily fail.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Some transactions may be affected by this. What will we do?
                    How will we recover?</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 287.11px;
                    height: 216.5px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image183.png"
                    style="
                        width: 287.11px;
                        height: 216.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c56">
            <span class="c105"
                >You think Bart Simpson from the slides will care if your
                transactions are fully committed? Probably not.</span
            >
        </p>
        <h3 class="c5" id="h.d2bqyt1cgsd4-29">
            <span class="c45">Distributed Commit Protocols</span>
        </h3>
        <ul class="c2 lst-kix_fir2dk3epgsq-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">So we need atomicity - all or nothing</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >We need durability - account for failures</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >We need locks on all data objects involved</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Hmmm... how about a distributed commit approach?</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_fir2dk3epgsq-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Who&rsquo;s going to coordinate? Use a leader election
                    protocol!</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Shall we commit or abort? Use a consensus protocol! (more
                    info in Corina&rsquo;s bit)</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_fir2dk3epgsq-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Basically, a coordinator asks a bunch of participants if
                    they want to commit.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >They all commit if everyone else says they&rsquo;re ready
                    to commit. This is called </span
                ><span class="c29">Single Phase Commit</span
                ><span class="c1">.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The coordinator keeps asking until everyone
                    acknowledges.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >But how long do we wait, and what happens if some
                    participants fail?</span
                >
            </li>
        </ul>
        <p class="c56 c141">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 148.63px;
                    height: 293.5px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image136.png"
                    style="
                        width: 148.63px;
                        height: 293.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <a id="id.qwa9j8wwm1zp"></a>
        <h3 class="c5" id="h.d2bqyt1cgsd4-30">
            <span class="c45">Two-Phase Commit</span>
        </h3>
        <ul class="c2 lst-kix_bsxqhibnvt4l-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Two-phase commit is a voting scheme to reach a consensus on
                    whether to commit or abort.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It preserves atomicity, because if one operation is aborted
                    the entire transaction is aborted.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This scheme requires a reliable message delivery.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The servers can all abort their own operations if the
                    coordinator can detect it.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_bsxqhibnvt4l-0">
            <li class="c6 li-bullet-0">
                <span class="c1">It&rsquo;s split into two phases:</span>
            </li>
        </ul>
        <ol class="c2 lst-kix_3k63y38g7t0-0 start" start="1">
            <li class="c0 li-bullet-0"><span class="c39 c14">Voting</span></li>
        </ol>
        <ul class="c2 lst-kix_g8q7phsg1s2z-0 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >The coordinator sends instructions to all participants and
                    asks them if they can commit.</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span
                    >For all participants, they execute the instructions and if
                    they can commit, they respond with YES and save state to
                    local storage. If they can&rsquo;t commit, they respond with
                    NO and abort local operations and release locks.</span
                >
            </li>
        </ul>
        <ol class="c2 lst-kix_3k63y38g7t0-0" start="2">
            <li class="c0 li-bullet-0">
                <span class="c39 c14">Completion</span>
            </li>
        </ol>
        <ul class="c2 lst-kix_3ylwo4uyivsq-0 start">
            <li class="c20 c43 li-bullet-0">
                <span>The </span><span>coordinator</span
                ><span class="c1"
                    >&nbsp;collects all the votes (including its own).</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >If all the votes are yes, the coordinator sends a doCommit
                    message to all participants, and all participants send back
                    a haveCommitted message.</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span
                    >If even a single vote is no, the coordinator sends a
                    doAbort message to all participants, and everyone
                    aborts.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.d2bqyt1cgsd4-31">
            <span class="c45">2PC Failure Handling</span>
        </h3>
        <ul class="c2 lst-kix_csj25l5m72fd-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >That&rsquo;s great, but how does it handle failure?</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_csj25l5m72fd-0">
            <li class="c6 li-bullet-0">
                <span>If a </span><span class="c30">participant </span
                ><span class="c1"
                    >crashes after voting yes, the participant saves its state
                    to local storage and uses that to reinstate an equivalent
                    participant. Then, it will call getDecision on the
                    coordinator and will use that decision to either commit or
                    abort.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_csj25l5m72fd-0">
            <li class="c6 li-bullet-0">
                <span>If a </span><span class="c30">coordinator</span
                ><span
                    >&nbsp;crashes in phase 2 (completion), 2PC can become a </span
                ><span class="c29">blocking protocol</span
                ><span class="c1">.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Participants can&rsquo;t use getDecision, because the
                    coordinator is gone. What are they going to do?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >They need to elect a new coordinator using a leader
                    election protocol! The new coordinator issues an abort
                    message.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Recovery can take time (obviously).</span>
            </li>
        </ul>
        <h3 class="c5" id="h.d2bqyt1cgsd4-32">
            <span class="c45">Increasing Concurrency &amp; Deadlocks</span>
        </h3>
        <ul class="c2 lst-kix_2h28nfdj6351-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >How do we increase concurrency in our system?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Objects can have multiple locks!</span>
            </li>
            <li class="c6 li-bullet-0">
                <span>This is called </span
                ><span class="c29">Two Version Locking</span
                ><span class="c1">.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >Here&rsquo;s the basic principles: every object has three
                    locks: </span
                ><span class="c14">read</span><span>, </span
                ><span class="c14">write</span><span>&nbsp;and </span
                ><span class="c14">commit</span
                ><span class="c1"
                    >. If you have a respective lock on that object, you can
                    perform that action.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Threads can share locks too, for example multiple threads
                    can share the read lock on an object.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >However, some locks are unobtainable while other locks are
                    already set.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >For example, if the write lock has already been set,
                    another thread needs to wait to also obtain the write
                    lock.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">The full table is here:</span>
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <a id="t.3816933dcb6021137c8dd287fa373af76aae8a47"></a><a id="t.18"></a>
        <table class="c18">
            <tbody>
                <tr class="c46">
                    <td class="c172 c187" colspan="1" rowspan="1">
                        <p class="c16 c40"><span class="c1"></span></p>
                    </td>
                    <td class="c41 c183" colspan="3" rowspan="1">
                        <p class="c24">
                            <span class="c21">Lock requested</span>
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c104" colspan="1" rowspan="1">
                        <p class="c24">
                            <span class="c119 c160 c29 c190"
                                >Lock already set</span
                            >
                        </p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c24">
                            <span class="c119 c125 c30 c29">Read</span>
                        </p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c24">
                            <span class="c119 c125 c30 c29">Write</span>
                        </p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c24">
                            <span class="c119 c125 c30 c29">Commit</span>
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c104" colspan="1" rowspan="1">
                        <p class="c24">
                            <span class="c119 c160 c30 c29">None</span>
                        </p>
                    </td>
                    <td class="c54" colspan="1" rowspan="1">
                        <p class="c24"><span class="c32">OK</span></p>
                    </td>
                    <td class="c54" colspan="1" rowspan="1">
                        <p class="c24"><span class="c32">OK</span></p>
                    </td>
                    <td class="c54" colspan="1" rowspan="1">
                        <p class="c24"><span class="c32">OK</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c104" colspan="1" rowspan="1">
                        <p class="c24">
                            <span class="c119 c30 c29 c160">Read</span>
                        </p>
                    </td>
                    <td class="c54" colspan="1" rowspan="1">
                        <p class="c24"><span class="c32">OK</span></p>
                    </td>
                    <td class="c54" colspan="1" rowspan="1">
                        <p class="c24"><span class="c32">OK</span></p>
                    </td>
                    <td class="c37" colspan="1" rowspan="1">
                        <p class="c24"><span class="c55">WAIT</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c104" colspan="1" rowspan="1">
                        <p class="c24">
                            <span class="c119 c160 c30 c29">Write</span>
                        </p>
                    </td>
                    <td class="c54" colspan="1" rowspan="1">
                        <p class="c24"><span class="c32">OK</span></p>
                    </td>
                    <td class="c37" colspan="1" rowspan="1">
                        <p class="c24"><span class="c55">WAIT</span></p>
                    </td>
                    <td class="c74" colspan="1" rowspan="1">
                        <p class="c24 c40"><span class="c1"></span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c104" colspan="1" rowspan="1">
                        <p class="c24">
                            <span class="c119 c160 c30 c29">Commit</span>
                        </p>
                    </td>
                    <td class="c37" colspan="1" rowspan="1">
                        <p class="c24"><span class="c55">WAIT</span></p>
                    </td>
                    <td class="c37" colspan="1" rowspan="1">
                        <p class="c24"><span class="c55">WAIT</span></p>
                    </td>
                    <td class="c74" colspan="1" rowspan="1">
                        <p class="c24 c40"><span class="c1"></span></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_8iuv71pu6d53-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Following the table, if the &ldquo;read&rdquo; lock is
                    already set, it&rsquo;s alright to share the read lock or
                    take the write lock (if the write lock isn&rsquo;t already
                    taken).</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >If multiple locks are taken, the strongest (bottom-most)
                    lock takes precedence on the table.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >As you can see, while an object is being committed to,
                    no-one can do anything with it until after it is
                    finished.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >However, it is possible to have many readers and a single
                    writer, since setting the write lock doesn&rsquo;t stop
                    threads from reading the object.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_8iuv71pu6d53-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The advantage of this is that read operations are only
                    delayed during commits.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >However, read operations on one transaction can delay
                    commitment on others (since all reading and writing needs to
                    stop during commitment).</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_8iuv71pu6d53-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >There&rsquo;s still one problem though: deadlocks!</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >We still have the overhead of checking and maintaining
                    deadlocks.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>We can break them using timeouts or </span
                ><span class="c14 c72"
                    ><a
                        class="c3"
                        href="https://www.google.com/url?q=https://en.wikipedia.org/wiki/Edge_chasing&amp;sa=D&amp;source=editors&amp;ust=1623675394826000&amp;usg=AOvVaw0Y1I0KG2_kBUDW86jSQWWo"
                        >probes</a
                    ></span
                ><span class="c1">.</span>
            </li>
        </ul>
        <h1 class="c92" id="h.cwwchalzaynp">
            <span class="c135 c125 c166"
                >Distributed Systems Theory (Corina)</span
            >
        </h1>
        <h2 class="c44" id="h.gmp3a3tcs8rs">
            <span class="c9">Time in Distributed Systems</span>
        </h2>
        <h3 class="c5" id="h.fkfq165v97p7">
            <span class="c45">Clock synchronisation</span>
        </h3>
        <ul class="c2 lst-kix_jpv17qn8a40d-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">Distributed systems need to sync up!</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >If they don&rsquo;t, messages could arrive out of order.
                    Sometimes that can be disastrous!</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >In practice, this is mostly used in things like banking or
                    e-commerce.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >There&rsquo;s no way to be fully synchronised, but there
                    are two methods of synchronisation:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_jpv17qn8a40d-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">External </span
                ><span class="c1"
                    >synchronisation: all processes are synced up to some
                    external clock, like UTC</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Internal </span
                ><span class="c1"
                    >synchronisation: processes use some kind of sync protocol
                    to sync up their local clocks with each other. They agree on
                    a common time, but not necessarily a standard (like
                    UTC)</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_jpv17qn8a40d-0">
            <li class="c6 li-bullet-0">
                <span>To achieve </span><span class="c14">internal</span
                ><span
                    >&nbsp;synchronisation between two processes, process A
                    sends its time </span
                ><img src="assets/distributed-systems-and-networks/image3.png" /><span
                    >&nbsp;to process B in a message. Then, B sets its own time
                    to </span
                ><img src="assets/distributed-systems-and-networks/image4.png" /><span class="c1"
                    >, where max is the maximum time needed to transmit a
                    message, and min is the minimum time needed to transmit a
                    message.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Basically, your time is the other process&rsquo; time plus
                    the average time to transmit a message.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >In asynchronous systems, max isn&rsquo;t known!</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_jpv17qn8a40d-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >But what if you wanted to have internal synchronisation
                    with multiple processes?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>You can use the </span
                ><span class="c29">Berkeley algorithm</span
                ><span class="c1">!</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">It works like this:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_jpv17qn8a40d-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">One machine is chosen as the master.</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >The master then periodically polls everyone&rsquo;s clock
                    values.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >The master then estimates local times based on round trip
                    times, and then averages (fault-tolerant average that
                    disregards faulty clocks) out the values (including the
                    master&rsquo;s own time)</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >The master then sends the amount by which processes need to
                    adjust their individual times (not the new clock
                    value!)</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_jpv17qn8a40d-0">
            <li class="c6 li-bullet-0">
                <span>For external synchronisation, you can use </span
                ><span class="c29">Cristian&rsquo;s algorithm</span
                ><span class="c1">.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">The way that works is as follows:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_jpv17qn8a40d-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">There is a process and a time server.</span>
            </li>
            <li class="c0 li-bullet-0">
                <span>The process requests for the time, </span
                ><img src="assets/distributed-systems-and-networks/image5.png" /><span class="c1"
                    >, from the time server.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span
                    >The time server responds to the process with the time, </span
                ><img src="assets/distributed-systems-and-networks/image5.png" /><span class="c1">.</span>
            </li>
            <li class="c0 li-bullet-0">
                <span>The process then sets its own time to </span
                ><img src="assets/distributed-systems-and-networks/image6.png" /><span>, where </span
                ><img src="assets/distributed-systems-and-networks/image7.png" /><span class="c1"
                    >&nbsp;is the time taken by the request and reply.</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 370.5px;
                    height: 101.8px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image142.png"
                    style="
                        width: 370.5px;
                        height: 101.8px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_jpv17qn8a40d-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Why add that bit at the end? Well, by the time the time
                    server responds with T, T is no longer the time anymore,
                    because of the time spent waiting for the message to get to
                    us. That&rsquo;s why we estimate how long that message took,
                    and we add it to the time we receive.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Admittedly, this assumes the time to request and receive
                    are distributed evenly.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_jpv17qn8a40d-0">
            <li class="c6 li-bullet-0">
                <span>There&rsquo;s another synchronisation method called </span
                ><span class="c29">Network Time Protocol (NTP)</span
                ><span class="c1">.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >NTP allows clients to be accurately synchronised to
                    UTC.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">It works in a hierarchy system, with:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_jpv17qn8a40d-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >primary servers (at the top) directly connected to time
                    source (e.g. radio clocks)</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >secondary servers which synchronise with primary ones</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >tertiary servers which synchronise with secondary
                    ones</span
                >
            </li>
            <li class="c0 li-bullet-0"><span class="c1">etc.</span></li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 257.5px;
                    height: 145.51px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image85.png"
                    style="
                        width: 257.5px;
                        height: 145.51px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_jpv17qn8a40d-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The time is synchronised down the hierarchy using
                    multicast, or Cristian&rsquo;s algorithm.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >A client is somewhere in this hierarchy, and the lower they
                    are in the hierarchy, the less accurate the time
                    they&rsquo;re synced with is.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.ewgv7ux5rr8l">
            <span class="c45">Logical clocks</span>
        </h3>
        <ul class="c2 lst-kix_4usvxvpen5kr-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Some distributed algorithms only care about the ordering of
                    events. That&rsquo;s where we use logical clocks.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>Logical clocks use </span
                ><span class="c29">event causality</span
                ><span class="c1"
                    >&nbsp;to obtain partial ordering of events.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_4usvxvpen5kr-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Alright, so how do we get causal ordering with logical
                    clocks?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>First, we define a relation </span
                ><img src="assets/distributed-systems-and-networks/image8.png" /><span>, where </span
                ><img src="assets/distributed-systems-and-networks/image9.png" /><span>&nbsp;and </span
                ><img src="assets/distributed-systems-and-networks/image10.png" /><span class="c1"
                    >&nbsp;are events:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_4usvxvpen5kr-1 start">
            <li class="c0 li-bullet-0">
                <span>If </span><img src="assets/distributed-systems-and-networks/image9.png" /><span
                    >&nbsp;and </span
                ><img src="assets/distributed-systems-and-networks/image10.png" /><span
                    >&nbsp;are events in the </span
                ><span class="c30">same </span
                ><span>process and a occurs before b, then </span
                ><img src="assets/distributed-systems-and-networks/image8.png" />
            </li>
            <li class="c0 li-bullet-0">
                <span>If </span><img src="assets/distributed-systems-and-networks/image9.png" /><span
                    >&nbsp;is the event of sending a message and </span
                ><img src="assets/distributed-systems-and-networks/image10.png" /><span
                    >&nbsp;is the event of receiving the message, then </span
                ><img src="assets/distributed-systems-and-networks/image8.png" />
            </li>
            <li class="c0 li-bullet-0">
                <span>Transitivity rule: if </span
                ><img src="assets/distributed-systems-and-networks/image8.png" /><span>&nbsp;and </span
                ><img src="assets/distributed-systems-and-networks/image11.png" /><span>&nbsp;then </span
                ><img src="assets/distributed-systems-and-networks/image12.png" />
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >This relation is called the &ldquo;happened-before&rdquo;
                    relation (a happened before b)</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_4usvxvpen5kr-0">
            <li class="c6 li-bullet-0">
                <span>We assume that </span
                ><img src="assets/distributed-systems-and-networks/image13.png" /><span class="c1"
                    >&nbsp;holds, even if it doesn&rsquo;t make much sense</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>Messages </span><img src="assets/distributed-systems-and-networks/image9.png" /><span
                    >&nbsp;and </span
                ><img src="assets/distributed-systems-and-networks/image10.png" /><span
                    >&nbsp;are concurrent if neither </span
                ><img src="assets/distributed-systems-and-networks/image8.png" /><span>&nbsp;nor </span
                ><img src="assets/distributed-systems-and-networks/image14.png" /><span
                    >. That&rsquo;s written as </span
                ><img src="assets/distributed-systems-and-networks/image15.png" /><span class="c1">.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Here&rsquo;s an example:</span>
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 425.74px;
                    height: 163.5px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image112.png"
                    style="
                        width: 425.74px;
                        height: 163.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_os9lckqh3t2v-0 start">
            <li class="c6 li-bullet-0">
                <img src="assets/distributed-systems-and-networks/image8.png" /><span
                    >&nbsp;is true because </span
                ><img src="assets/distributed-systems-and-networks/image9.png" /><span>&nbsp;and </span
                ><img src="assets/distributed-systems-and-networks/image10.png" /><span
                    >&nbsp;happen in the same process, and </span
                ><img src="assets/distributed-systems-and-networks/image9.png" /><span
                    >&nbsp;happens before </span
                ><img src="assets/distributed-systems-and-networks/image10.png" /><span class="c1">.</span>
            </li>
            <li class="c6 li-bullet-0">
                <img src="assets/distributed-systems-and-networks/image11.png" /><span
                    >&nbsp;is true because </span
                ><img src="assets/distributed-systems-and-networks/image10.png" /><span
                    >&nbsp;is a send event and </span
                ><img src="assets/distributed-systems-and-networks/image16.png" /><span class="c1"
                    >&nbsp;is that respective receive event.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <img src="assets/distributed-systems-and-networks/image12.png" /><span class="c1"
                    >&nbsp;is true because of the transitivity laws.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <img src="assets/distributed-systems-and-networks/image17.png" /><span
                    >&nbsp;is also true because </span
                ><img src="assets/distributed-systems-and-networks/image18.png" /><span>&nbsp;and </span
                ><img src="assets/distributed-systems-and-networks/image19.png" /><span class="c1"
                    >&nbsp;are both false (you can&rsquo;t derive them).</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>There are other causalities too, like </span
                ><img src="assets/distributed-systems-and-networks/image20.png" /><span>, </span
                ><img src="assets/distributed-systems-and-networks/image21.png" /><span>, </span
                ><img src="assets/distributed-systems-and-networks/image22.png" /><span>&nbsp;and </span
                ><img src="assets/distributed-systems-and-networks/image23.png" /><span class="c1">.</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_os9lckqh3t2v-0">
            <li class="c6 li-bullet-0">
                <span>We can capture this concept numerically, with </span
                ><span class="c29">Lamport&rsquo;s Logical Clocks</span
                ><span class="c1">.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Basically, each process keeps their own logical clock,
                    starting at 0.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >When a process sends or executes an event, it increments
                    its logical clock and timestamps it, so the recipient can
                    see the timestamp.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >When a process receives an event, it checks if the
                    timestamp received is bigger than its own clock. If it is it
                    first sets its own clock to the timestamp and then carries
                    on with the same procedure described above.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This may be a little hard to visualise at first, so
                    let&rsquo;s use an example:</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 422.63px;
                    height: 168.5px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image63.png"
                    style="
                        width: 422.63px;
                        height: 168.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_7hefd4k274tr-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Below, I give an explanation to all the timestamps of the
                    events:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_7hefd4k274tr-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">a</span
                ><span class="c1"
                    >&nbsp;- process 1&rsquo;s first message, so it has a
                    timestamp of 1</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">b</span
                ><span class="c1"
                    >&nbsp;- process 1 has already executed event a, so the
                    clock of process 1 was incremented by 1, to make it 2. When
                    process 1 executes b, it&rsquo;ll be timestamped with 2,
                    because that&rsquo;s process 1&rsquo;s clock value at that
                    moment.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">c</span
                ><span class="c1"
                    >&nbsp;- process 2&rsquo;s clock is 1, but the timestamp of
                    the message is 2. The message&rsquo;s timestamp is bigger,
                    so process 2 will increment and use that one for c.
                    Incrementing 2 gives 3, so the timestamp of c is 3.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">d</span
                ><span class="c1"
                    >&nbsp;- process 2&rsquo;s new clock is now 3, because of
                    event c. The clock will be incremented and used to timestamp
                    d, so d&rsquo;s timestamp will be 4.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">e</span
                ><span class="c1"
                    >&nbsp;- process 3&rsquo;s clock is still 1, and has no
                    events yet. So process 3&rsquo;s first event, e, will have a
                    timestamp of 1.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">f</span
                ><span class="c1"
                    >&nbsp;- process 3&rsquo;s clock is 2 after event e, and the
                    timestamp of the message from d is 4. The message&rsquo;s
                    timestamp is clearly bigger, so that will be incremented to
                    5 and used for the timestamp of f.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_7hefd4k274tr-0">
            <li class="c6 li-bullet-0">
                <span>To refer to the timestamp of an event, use </span
                ><img src="assets/distributed-systems-and-networks/image24.png" /><span class="c1">.</span>
            </li>
            <li class="c6 li-bullet-0">
                <img src="assets/distributed-systems-and-networks/image8.png" /><span>&nbsp;implies </span
                ><img src="assets/distributed-systems-and-networks/image25.png" />
            </li>
            <li class="c6 li-bullet-0">
                <span>... but </span><img src="assets/distributed-systems-and-networks/image25.png" /><span
                    >&nbsp;does not imply </span
                ><img src="assets/distributed-systems-and-networks/image8.png" /><span>, because </span
                ><img src="assets/distributed-systems-and-networks/image9.png" /><span
                    >&nbsp;could be concurrent to </span
                ><img src="assets/distributed-systems-and-networks/image10.png" /><span>&nbsp;(</span
                ><img src="assets/distributed-systems-and-networks/image15.png" /><span class="c1">)</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_7hefd4k274tr-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >In the example, a and e have identical timestamps. How do
                    we differentiate them?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>We use </span><span class="c29">Totally </span
                ><span class="c61">Spies</span><span>&nbsp;</span
                ><span class="c29">Ordered Logical Clocks</span
                ><span class="c1">!</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >All we have to do is add the process ID to the event
                    timestamp.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >So instead of something like 1 for event a (in the example
                    above), it would instead be (1, 1), or (3, 2) for c, or (5,
                    3) for f.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <img src="assets/distributed-systems-and-networks/image26.png" /><span class="c1"
                    >&nbsp;is true if:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_7hefd4k274tr-1 start">
            <li class="c0 li-bullet-0">
                <span>&nbsp;</span><img src="assets/distributed-systems-and-networks/image27.png" />
            </li>
            <li class="c0 li-bullet-0">
                <span>or </span><img src="assets/distributed-systems-and-networks/image28.png" /><span
                    >&nbsp;and </span
                ><img src="assets/distributed-systems-and-networks/image29.png" />
            </li>
        </ul>
        <ul class="c2 lst-kix_7hefd4k274tr-0">
            <li class="c6 li-bullet-0">
                <span
                    >For example, under total order in the above example, a &lt;
                    e because </span
                ><span>(1, 1) &lt; (1, 3).</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_7hefd4k274tr-0">
            <li class="c6 li-bullet-0">
                <span>What if we wanted that </span
                ><img src="assets/distributed-systems-and-networks/image25.png" /><span>&nbsp;implies </span
                ><img src="assets/distributed-systems-and-networks/image8.png" /><span class="c1"
                    >&nbsp;rule to be true?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>With </span><span class="c29">vector clocks</span
                ><span class="c1">, that can be arranged!</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Instead of an integer being stored as a clock, a vector is
                    stored instead.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Instead of incrementing an integer value, the process
                    increments its own field in the vector.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It works almost the same as normal logical clocks, except
                    we&rsquo;re using vectors instead, and each process has
                    their own field in the vectors.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >Upon receiving a message, it updates all the fields of
                    it&rsquo;s own clock with the newly received clock if
                    it&rsquo;s bigger than the one we already have (more
                    formally, </span
                ><img src="assets/distributed-systems-and-networks/image30.png" /><span class="c1"
                    >for all j)</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">When we compare vectors:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_7hefd4k274tr-1 start">
            <li class="c0 li-bullet-0">
                <img src="assets/distributed-systems-and-networks/image31.png" /><span class="c126"
                    >&nbsp;iff </span
                ><img src="assets/distributed-systems-and-networks/image32.png" /><span class="c126"
                    >&nbsp;for all </span
                ><img src="assets/distributed-systems-and-networks/image33.png" />
            </li>
            <li class="c0 li-bullet-0">
                <img src="assets/distributed-systems-and-networks/image34.png" /><span class="c126"
                    >&nbsp;iff </span
                ><img src="assets/distributed-systems-and-networks/image35.png" /><span class="c126"
                    >&nbsp;for all </span
                ><img src="assets/distributed-systems-and-networks/image33.png" />
            </li>
            <li class="c0 li-bullet-0">
                <img src="assets/distributed-systems-and-networks/image36.png" /><span class="c126"
                    >&nbsp;iff </span
                ><img src="assets/distributed-systems-and-networks/image34.png" /><span class="c126"
                    >&nbsp;and </span
                ><img src="assets/distributed-systems-and-networks/image37.png" />
            </li>
        </ul>
        <ul class="c2 lst-kix_7hefd4k274tr-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It&rsquo;ll be easier to show an example again:</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 382.29px;
                    height: 149.5px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image199.png"
                    style="
                        width: 382.29px;
                        height: 149.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_7hefd4k274tr-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Below, I give an explanation to all the timestamps of the
                    events:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_7hefd4k274tr-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">a</span
                ><span class="c1"
                    >&nbsp;- process 1&rsquo;s vector clock is empty, (0, 0, 0),
                    so process 1&rsquo;s slot (the first slot) is incremented to
                    (1, 0, 0) and is used to timestamp a.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">b</span
                ><span class="c1"
                    >&nbsp;- process 1 increments their first slot again to get
                    (2, 0, 0) and uses that to timestamp b.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">c</span
                ><span
                    >&nbsp;- upon receiving the message from b, it updates all
                    the slots in its own local clock with the slots in event
                    b&rsquo;s clock (only if it&rsquo;s bigger than what we
                    already have). Process 2&rsquo;s clock is currently (0, 0,
                    0) and </span
                ><span class="c14 c72"
                    ><a
                        class="c3"
                        href="https://www.google.com/url?q=http://www.event-b.org/&amp;sa=D&amp;source=editors&amp;ust=1623675394858000&amp;usg=AOvVaw0sYTw6hPejrZSaRyG1ogei"
                        >event b</a
                    ></span
                ><span class="c1"
                    >&rsquo;s clock is (2, 0, 0), so the first slot will be
                    updated with &lsquo;2&rsquo; in process 2&rsquo;s local
                    clock. Now, process 2 increments its own slot (the second
                    slot) to (2, 1, 0) to use for event c.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">d</span
                ><span class="c1"
                    >&nbsp;- process 2 increments their own slot again to get
                    (2, 2, 0) and uses it for event d</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">e</span
                ><span class="c1"
                    >&nbsp;- process 3&rsquo;s vector clock is still empty, at
                    (0, 0, 0). It increments its own slot (the third slot) to
                    (0, 0, 1) and uses that for event e.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">f</span
                ><span class="c1"
                    >&nbsp;- process 3 updates its own clock, (0, 0, 1), with
                    the new clock from event d, (2, 2, 0). The first two slots
                    are clearly bigger, so process 3&rsquo;s clock is updated to
                    (2, 2, 1). Process 3 then increments its slot to (2, 2, 2)
                    to use for event f.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_7hefd4k274tr-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >With vector clocks, we can not only see the number of
                    events a process has timestamped, but we can see how many
                    events another process has executed that affected some other
                    process.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>What&rsquo;s also good about vector clocks is that </span
                ><img src="assets/distributed-systems-and-networks/image38.png" /><span>&nbsp;implies </span
                ><img src="assets/distributed-systems-and-networks/image8.png" /><span class="c1">.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span>Why? If </span><img src="assets/distributed-systems-and-networks/image38.png" /><span
                    class="c1"
                    >, that means all the slots in event a&rsquo;s clock is
                    smaller than or equal to every slot in event b&rsquo;s
                    clock, and slots can only go up (they can&rsquo;t be
                    decremented), so a has to have gone before b.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>If </span><img src="assets/distributed-systems-and-networks/image39.png" /><span
                    >, then events a and b are the same events, just different
                    names. We&rsquo;ve already established that </span
                ><img src="assets/distributed-systems-and-networks/image13.png" /><span class="c1"
                    >, so this is trivial.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_7hefd4k274tr-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The disadvantage to using this over Lamport timestamps is
                    that storage and message payload is proportional to N (the
                    number of processes), so it&rsquo;d be inefficient to use
                    this unless we have to.</span
                >
            </li>
        </ul>
        <h2 class="c44" id="h.gmp3a3tcs8rs-33">
            <span class="c9">Distributed Mutual Exclusion</span>
        </h2>
        <h3 class="c5" id="h.smm747l533rg">
            <span class="c45">Failure detectors</span>
        </h3>
        <ul class="c2 lst-kix_isuxwivi6xbw-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Failure detectors detect failure (wowee, now that&rsquo;s
                    what I call info)</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >There are two kinds of failure detectors:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_isuxwivi6xbw-1 start">
            <li class="c0 li-bullet-0">
                <span class="c14">Unreliable</span><span>: returns either </span
                ><span class="c27">unsuspected</span><span>&nbsp;or </span
                ><span class="c60">suspected</span
                ><span class="c1"
                    >&nbsp;hints (can only suspect if a process is no longer
                    alive via an &ldquo;alive&rdquo; message not being received
                    back)</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c14">Reliable</span><span>: returns either </span
                ><span class="c27">unsuspected</span><span>&nbsp;or </span
                ><span class="c60">failure</span
                ><span class="c1"
                    >&nbsp;(if it sends &lsquo;failure&rsquo;, it knows for sure
                    a process is down)</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.odx7bzbz9o32">
            <span class="c45">Distributed Mutual Exclusion</span>
        </h3>
        <ul class="c2 lst-kix_qhraa296qztb-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >You have some distributed critical region, and all the
                    online processes wanna grab it and mess with it at the same
                    time. Big no-no. You want them to take it in turns.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">You want to do it with message passing.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">We need to make some assumptions:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_qhraa296qztb-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">There are N processes</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Network is reliable but asynchronous</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Processes don&rsquo;t fail</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Processes spend finite time in critical section (they
                    don&rsquo;t hang while in critical section)</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_qhraa296qztb-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >There are also some properties of mutual exclusion
                    algorithms/protocols:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_qhraa296qztb-1 start">
            <li class="c0 li-bullet-0">
                <span class="c14">Correctness</span><span class="c1">:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_qhraa296qztb-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >Safety: at most one process is in critical section</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >Liveness: requests to enter / exit eventually succeed</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span
                    >Fairness: access to critical section happens in
                    happened-before </span
                ><span>order</span
                ><span class="c1"
                    >, so if action 1 is requested before action 2, then action
                    1 should go first and then action 2.</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_qhraa296qztb-1">
            <li class="c0 li-bullet-0">
                <span class="c14">Performance</span><span class="c1">:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_qhraa296qztb-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >Minimise number of messages sent in entry / exit
                    operations</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span>Minimise client delay </span
                ><span class="c23">(entering / exiting critical section)</span>
            </li>
            <li class="c20 c43 li-bullet-0">
                <span>Minimise synchronisation delay </span
                ><span class="c23"
                    >(time between one process exiting and another entering
                    critical section)</span
                >
            </li>
        </ul>
        <p class="c20 c22"><span class="c23"></span></p>
        <ul class="c2 lst-kix_qhraa296qztb-0">
            <li class="c6 li-bullet-0">
                <span class="c1">So what kinds of algorithms are there?</span>
            </li>
            <li class="c6 li-bullet-0">
                <span>Firstly, there&rsquo;s the </span
                ><span class="c14">Central Server Algorithm</span
                ><span class="c1">.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It&rsquo;s based on one server and many clients. Simple
                    enough.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The server has a token, and clients can REQUEST for the
                    token or RELEASE the token.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >If a client requests for a token and it&rsquo;s taken,
                    they&rsquo;re added to a queue to wait for the token.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It&rsquo;s basically the whole lock concurrency ordeal, but
                    in a distributed setting.</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 302px;
                    height: 206.16px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image73.png"
                    style="
                        width: 302px;
                        height: 206.16px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_hgcycqlotd8v-0 start">
            <li class="c6 li-bullet-0">
                <span>It has </span><span class="c27">safety</span
                ><span class="c1"
                    >, because if the token belongs to a process, other
                    processes can&rsquo;t have it</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>It has </span><span class="c27">liveness</span
                ><span class="c1"
                    >, because all requests are handled by a server, and all
                    request messages are eventually answered once they&rsquo;re
                    at the front of the queue</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>It does not have </span><span class="c60">fairness</span
                ><span
                    >&nbsp;because there are no timestamps -- it&rsquo;s an
                    asynchronous system. For example, say that </span
                ><span>request #1 </span><img src="assets/distributed-systems-and-networks/image40.png" /><span
                    >&nbsp;request #2</span
                ><span
                    >. Request #2 could come earlier than request #1 and process
                    #2 could get the token, when in reality it should&rsquo;ve
                    been process #1. </span
                ><span class="c14 c72"
                    ><a
                        class="c3"
                        href="https://www.google.com/url?q=https://i.imgur.com/KOxivKv.png&amp;sa=D&amp;source=editors&amp;ust=1623675394869000&amp;usg=AOvVaw00RweT1IWykBDPoQy8X_B-"
                        >See this slide for more detail.</a
                    ></span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This has good performance, but there is a single point of
                    failure and the server acts as a bottleneck. That&rsquo;s
                    bad! But we can find a way around this...</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_hgcycqlotd8v-0">
            <li class="c6 li-bullet-0">
                <span>Next we have the </span
                ><span class="c14">Ring-based Algorithm</span
                ><span class="c1">!</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It&rsquo;s essentially the same as the server based one,
                    except without a server and it&rsquo;s a ring.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Tokens aren&rsquo;t explicitly sent to one process;
                    it&rsquo;s passed around a ring.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >For example, when process 2 is finished with the token,
                    it&rsquo;ll pass it to process 3, who will pass it to
                    process 4 and so on.</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 285.78px;
                    height: 238.5px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image68.png"
                    style="
                        width: 285.78px;
                        height: 238.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_bcgrppc1u281-0 start">
            <li class="c6 li-bullet-0">
                <span>It has </span><span class="c27">safety</span
                ><span class="c1"
                    >, because again, only the process with a token has access
                    to the critical region.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>It has </span><span class="c27">liveness</span
                ><span class="c1"
                    >, because eventually everyone will get the token.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>It does not have </span><span class="c60">fairness</span
                ><span class="c1"
                    >, because the order of processes in the ring topology might
                    not be the order in which we want the processes to act on
                    the shared data.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >We no longer have the bottleneck, but this&rsquo;ll really
                    weigh us down on </span
                ><span>bandwidth</span
                ><span class="c1"
                    >, as the token might have to travel quite far just to get
                    to a process that needs it.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_bcgrppc1u281-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Why not use an algorithm using multicast and logical
                    clocks?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>There&rsquo;s one called </span
                ><span class="c29">Ricart and Agrawala&rsquo;s Algorithm </span
                ><span class="c1"
                    >which uses these in a very interesting way.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >In this algorithm, messages have totally-ordered
                    timestamps. Don&rsquo;t think too hard about it; it just
                    means that processes can tell when messages were sent.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >When a process wants to access a critical region, it sends
                    a REQUEST multicast message to all the participants.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >When a process receives a REQUEST message, it can do one of
                    two things:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_bcgrppc1u281-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >If this process is already in the critical region, or if
                    this process also wants to access the critical region but
                    this process wanted to access it before the sender, then the
                    sender of the request message is put in a queue</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >If the sender wanted to access the critical region before
                    this process, then it will send a simple REPLY message to
                    the sender. That&rsquo;s all; no extra info in the message
                    or anything. It&rsquo;s sort of like a &ldquo;sure, you can
                    use the critical region as far as I care&rdquo;</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_bcgrppc1u281-0">
            <li class="c6 li-bullet-0">
                <span
                    >When a process gets REPLY messages from all other
                    participants, it gets </span
                ><span>access</span
                ><span class="c1">&nbsp;to the critical region.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Confusing? Let me show you an example:</span>
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <a id="t.6ec8a4f3b7b7f3d87e4d2cc6d6ddee25d8af8e37"></a><a id="t.19"></a>
        <table class="c18">
            <tbody>
                <tr class="c33">
                    <td class="c75 c41" colspan="1" rowspan="1">
                        <p class="c16"><span class="c21">Image</span></p>
                    </td>
                    <td class="c49 c41" colspan="1" rowspan="1">
                        <p class="c16"><span class="c21">Explanation</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c75" colspan="1" rowspan="1">
                        <p class="c16">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 202.92px;
                                    height: 223.5px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image84.png"
                                    style="
                                        width: 202.92px;
                                        height: 223.5px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c49" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >We have three processes and the critical
                                region.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c75" colspan="1" rowspan="1">
                        <p class="c16">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 202.92px;
                                    height: 223.63px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image99.png"
                                    style="
                                        width: 202.92px;
                                        height: 223.63px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c49" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >The blue process requests access to the
                                critical region from all other processes.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c75" colspan="1" rowspan="1">
                        <p class="c16">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 202.92px;
                                    height: 223.63px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image133.png"
                                    style="
                                        width: 202.92px;
                                        height: 223.63px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c49" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >Both the green and yellow processes don&rsquo;t
                                care about the critical region, so they both
                                immediately reply to the blue process.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c75" colspan="1" rowspan="1">
                        <p class="c16">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 202.92px;
                                    height: 223.63px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image94.png"
                                    style="
                                        width: 202.92px;
                                        height: 223.63px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c49" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >The blue process, having received replies from
                                all other participants, can now use the critical
                                region.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c75" colspan="1" rowspan="1">
                        <p class="c16">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 202.92px;
                                    height: 223.63px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image206.png"
                                    style="
                                        width: 202.92px;
                                        height: 223.63px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c49" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >Yellow wants to use the critical region now, so
                                they send out requests to everyone.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c75" colspan="1" rowspan="1">
                        <p class="c16">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 202.92px;
                                    height: 182.97px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image221.png"
                                    style="
                                        width: 202.92px;
                                        height: 182.97px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c49" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >Blue adds yellow to their queue, because blue
                                is currently using the critical region.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c1"
                                >Green doesn&rsquo;t care about the critical
                                region, so green replies to yellow.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c75" colspan="1" rowspan="1">
                        <p class="c16">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 202.92px;
                                    height: 182.97px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image152.png"
                                    style="
                                        width: 202.92px;
                                        height: 182.97px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c49" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >Now green also wants to use the critical
                                region. They send out requests to
                                everyone.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c75" colspan="1" rowspan="1">
                        <p class="c16">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 202.92px;
                                    height: 182.97px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image144.png"
                                    style="
                                        width: 202.92px;
                                        height: 182.97px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c49" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >Blue is using the critical region, so green is
                                added to the queue. Yellow came first (it knows
                                because of the totally-ordered timestamps), so
                                yellow adds green to its queue.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c75" colspan="1" rowspan="1">
                        <p class="c16">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 202.92px;
                                    height: 223.63px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image75.png"
                                    style="
                                        width: 202.92px;
                                        height: 223.63px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c49" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >Blue is now done with the critical region and
                                sends a reply to yellow, because yellow was at
                                the head of the queue.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c1"
                                >It will also send a response to green, because
                                they&rsquo;re next on the queue.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c75" colspan="1" rowspan="1">
                        <p class="c16">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 202.92px;
                                    height: 223.63px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image209.png"
                                    style="
                                        width: 202.92px;
                                        height: 223.63px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c49" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >Yellow just got responses from everyone! That
                                means yellow can now use the critical
                                region.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c75" colspan="1" rowspan="1">
                        <p class="c16">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 202.92px;
                                    height: 223.63px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image202.png"
                                    style="
                                        width: 202.92px;
                                        height: 223.63px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c49" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >Yellow is now done with the critical region,
                                and sends a response to green.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c1"
                                >Green now has all the responses, and can now
                                use the critical region.</span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_k52z3erteybe-0 start">
            <li class="c6 li-bullet-0">
                <span>This has </span><span class="c27">safety</span
                ><span class="c1"
                    >&nbsp;because a process doesn&rsquo;t reply if they are in
                    the critical region.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>This has </span><span class="c27">liveness</span
                ><span class="c1"
                    >&nbsp;because the total ordering of the timestamps ensures
                    each request will eventually get all replies, and because
                    each participant spends finite time in critical
                    section.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>This has </span><span class="c27">fairness</span
                ><span class="c1"
                    >&nbsp;because with the timestamps, whoever requests first
                    will go first, and whoever requests after will go second and
                    so on.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The performance is good because the token isn&rsquo;t
                    circulating.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_k52z3erteybe-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Wow, this is, like, the perfect algorithm!</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >But what if I told you that we don&rsquo;t even need all
                    those replies from all those participants?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>We can also use </span
                ><span class="c29">Maekawa&rsquo;s Voting algorithm</span
                ><span class="c1"
                    >! (No, I don&rsquo;t mean Maekawa from iDOLM@STER)</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The whole gimmick of Maekawa is that we use groups instead
                    of individual processes.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >There&rsquo;s one group for each process, and all the
                    groups overlap each other, and each process needs to be in
                    either 2 groups or more (if there are any less, then
                    there&rsquo;s no overlapping)</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >As for the size of these groups, an optimal amount would be </span
                ><img src="assets/distributed-systems-and-networks/image41.png" /><span
                    >(where N is the number of processes). In practice, this
                    makes the groups non-trivial to construct, so we use a
                    simpler method which has group sizes of </span
                ><img src="assets/distributed-systems-and-networks/image42.png" /><span class="c1">:</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Construct groups by first arranging the processes in a
                    matrix, then work out the group for each process by taking
                    the union of the row and column that it&rsquo;s in. For
                    example, these are the groups for A and B respectively in a
                    situation with 9 processes.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    style="
                        overflow: hidden;
                        display: inline-block;
                        margin: 0px 0px;
                        border: 0px solid #000000;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                        width: 92px;
                        height: 68px;
                    "
                    ><img
                        alt=""
                        src="assets/distributed-systems-and-networks/image193.png"
                        style="
                            width: 92px;
                            height: 68px;
                            margin-left: 0px;
                            margin-top: 0px;
                            transform: rotate(0rad) translateZ(0px);
                            -webkit-transform: rotate(0rad) translateZ(0px);
                        "
                        title="" /></span
                ><span>&nbsp; &nbsp; &nbsp;</span
                ><span
                    style="
                        overflow: hidden;
                        display: inline-block;
                        margin: 0px 0px;
                        border: 0px solid #000000;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                        width: 90px;
                        height: 67.5px;
                    "
                    ><img
                        alt=""
                        src="assets/distributed-systems-and-networks/image153.png"
                        style="
                            width: 90px;
                            height: 67.5px;
                            margin-left: 0px;
                            margin-top: 0px;
                            transform: rotate(0rad) translateZ(0px);
                            -webkit-transform: rotate(0rad) translateZ(0px);
                        "
                        title=""
                /></span>
            </li>
            <li class="c6 li-bullet-0">
                <span>This ensures that every pair of groups overlap.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">The algorithm works like this:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_k52z3erteybe-1 start">
            <li class="c0 li-bullet-0">
                <span>For each process </span
                ><img src="assets/distributed-systems-and-networks/image43.png" /><span
                    >&nbsp;there is a group </span
                ><img src="assets/distributed-systems-and-networks/image44.png" />
            </li>
            <li class="c0 li-bullet-0">
                <span>For </span><img src="assets/distributed-systems-and-networks/image43.png" /><span
                    class="c1"
                    >&nbsp;to access the critical region:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_k52z3erteybe-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >It must not already be voting for someone else</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span
                    >It sends REQUEST messages to all processes in its group, </span
                ><img src="assets/distributed-systems-and-networks/image44.png" />
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >It waits for VOTE responses from all processes in its
                    group</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_k52z3erteybe-1">
            <li class="c0 li-bullet-0">
                <span>For </span><img src="assets/distributed-systems-and-networks/image43.png" /><span
                    >&nbsp;receiving a REQUEST from </span
                ><img src="assets/distributed-systems-and-networks/image45.png" /><span class="c1">:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_k52z3erteybe-2 start">
            <li class="c20 c43 li-bullet-0">
                <span>If </span><img src="assets/distributed-systems-and-networks/image43.png" /><span
                    >&nbsp;is already in the critical region, or if
                    they&rsquo;ve already voted for someone else, then put </span
                ><img src="assets/distributed-systems-and-networks/image45.png" /><span class="c1"
                    >&nbsp;in the queue.</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span>Otherwise, send a VOTE message to </span
                ><img src="assets/distributed-systems-and-networks/image45.png" /><span class="c1">.</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_k52z3erteybe-1">
            <li class="c0 li-bullet-0">
                <span>For </span><img src="assets/distributed-systems-and-networks/image43.png" /><span
                    class="c1"
                    >&nbsp;to exit the critical region:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_k52z3erteybe-2 start">
            <li class="c20 c43 li-bullet-0">
                <span
                    >It sends RELEASE messages to all processes in its group, </span
                ><img src="assets/distributed-systems-and-networks/image44.png" />
            </li>
        </ul>
        <ul class="c2 lst-kix_k52z3erteybe-1">
            <li class="c0 li-bullet-0">
                <span>For </span><img src="assets/distributed-systems-and-networks/image43.png" /><span
                    >&nbsp;receiving a RELEASE from </span
                ><img src="assets/distributed-systems-and-networks/image45.png" /><span class="c1">:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_k52z3erteybe-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >If there is a request in the queue, take the first process
                    out of that queue and send them a VOTE.</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >Otherwise, simply remember that we have no votes for
                    anyone.</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_k52z3erteybe-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >What? Still confusing? Let me illustrate it for you:</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <a id="t.369fb7e3b3bb517ca12be35da28b7540e270305d"></a><a id="t.20"></a>
        <table class="c18">
            <tbody>
                <tr class="c33">
                    <td class="c48 c41" colspan="1" rowspan="1">
                        <p class="c16"><span class="c21">Image</span></p>
                    </td>
                    <td class="c78 c41" colspan="1" rowspan="1">
                        <p class="c16"><span class="c21">Explanation</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c48" colspan="1" rowspan="1">
                        <p class="c16">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 228.5px;
                                    height: 161.16px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image147.png"
                                    style="
                                        width: 228.5px;
                                        height: 161.16px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c78" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >We have participants A, B and C. The groups
                                are:</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c1">A&rsquo;s group: A, B</span>
                        </p>
                        <p class="c16">
                            <span class="c1">B&rsquo;s group: B, C</span>
                        </p>
                        <p class="c16">
                            <span class="c1">C&rsquo;s group: C, A</span>
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c48" colspan="1" rowspan="1">
                        <p class="c16">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 228.5px;
                                    height: 203.11px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image213.png"
                                    style="
                                        width: 228.5px;
                                        height: 203.11px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c78" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >A wants the critical region, so it multicasts a
                                REQUEST message to it&rsquo;s group (B).</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c48" colspan="1" rowspan="1">
                        <p class="c16">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 228.5px;
                                    height: 203.11px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image128.png"
                                    style="
                                        width: 228.5px;
                                        height: 203.11px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c78" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >B isn&rsquo;t in the region, and it
                                hasn&rsquo;t voted for anyone else, so
                                it&rsquo;ll vote for A.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c48" colspan="1" rowspan="1">
                        <p class="c16">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 228.5px;
                                    height: 203.11px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image189.png"
                                    style="
                                        width: 228.5px;
                                        height: 203.11px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c78" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >Because A has received all votes from its
                                group, it gets access to the critical
                                region.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c48" colspan="1" rowspan="1">
                        <p class="c16">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 228.5px;
                                    height: 157.83px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image173.png"
                                    style="
                                        width: 228.5px;
                                        height: 157.83px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c78" colspan="1" rowspan="1">
                        <p class="c16">
                            <span
                                >Now C wants to access the critical region! It
                                sends </span
                            ><span>a REQUEST to its group (A).</span>
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c48" colspan="1" rowspan="1">
                        <p class="c16">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 228.5px;
                                    height: 175.46px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image192.png"
                                    style="
                                        width: 228.5px;
                                        height: 175.46px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c78" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >However, A is already using the critical
                                region, so it puts C in the queue.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c48" colspan="1" rowspan="1">
                        <p class="c16">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 228.5px;
                                    height: 198.99px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image107.png"
                                    style="
                                        width: 228.5px;
                                        height: 198.99px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c78" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >A has now finished, and will send a RELEASE
                                message to its group (B).</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c48" colspan="1" rowspan="1">
                        <p class="c16">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 228.5px;
                                    height: 127.19px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image176.png"
                                    style="
                                        width: 228.5px;
                                        height: 127.19px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c78" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >B will now cancel the vote with A.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c1"
                                >A looks at the queue and sees that C tried to
                                access the critical region. A will now vote for
                                C.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c48" colspan="1" rowspan="1">
                        <p class="c16">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 228.5px;
                                    height: 130.95px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image143.png"
                                    style="
                                        width: 228.5px;
                                        height: 130.95px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c78" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >C, now having all the votes in its group, now
                                has access to the critical region.</span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_bx0oz5r1qieg-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">So, how good is this one?</span>
            </li>
            <li class="c6 li-bullet-0">
                <span>This has </span><span class="c27">safety</span
                ><span class="c1"
                    >&nbsp;because a process needs all votes to enter the
                    critical region, and other processes can&rsquo;t vote for
                    someone else if they&rsquo;ve already voted for someone in a
                    critical region.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>This does not have </span><span class="c60">liveness</span
                ><span class="c1">&nbsp;because deadlocks can occur.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span>This does not have </span><span class="c60">fairness</span
                ><span class="c1"
                    >&nbsp;because there are no timestamps; processes
                    can&rsquo;t tell which requests should be served first (only
                    via queue).</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>The </span><span>performance</span
                ><span class="c1"
                    >&nbsp;isn&rsquo;t even that much better than Ricart and
                    Agrawala.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_bx0oz5r1qieg-0">
            <li class="c6 li-bullet-0">
                <span>So why does this </span><span>have deadlock</span
                ><span class="c1">?</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Because we can create a chain of reply waiting!</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >In the example above, if everyone wanted to use the
                    critical region, we could have this as a deadlock:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_bx0oz5r1qieg-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">A is waiting for B&rsquo;s reply</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">B is waiting for C&rsquo;s reply</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">C is waiting for A&rsquo;s reply</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_bx0oz5r1qieg-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >To solve this, we could incorporate timestamps into the
                    requests to give order to the requests.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_bx0oz5r1qieg-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >All of these algorithms are great, but they don&rsquo;t
                    tolerate message loss.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">When processes crash, what happens?</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_bx0oz5r1qieg-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >The ring-based algorithm just stops working
                    altogether</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Some crashes are tolerated by central server and
                    Maekawa</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span
                    >Ricart and Agrawala can be adapted to tolerate process
                    crashes, assuming a reliable failure detector is
                    available</span
                >
            </li>
        </ul>
        <h2 class="c44" id="h.gmp3a3tcs8rs-34">
            <span class="c9">Leader Election</span>
        </h2>
        <ul class="c2 lst-kix_ha9hmnrh7ch-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">Why use election algorithms?</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Sometimes we want to elect a coordinator amongst a bunch of
                    participants.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Everyone has to agree on one, so how do we do it? Election
                    algorithms!</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_ha9hmnrh7ch-0">
            <li class="c6 li-bullet-0">
                <span class="c1">We need some assumptions first though:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_ha9hmnrh7ch-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >There are N processes with unique, totally ordered
                    identifiers</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Process with the largest ID must win election (for these
                    examples, this condition will be different in
                    practice)</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Messages are eventually delivered (no failed packets)</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Each process can call only one election (unless coordinator
                    fails)</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Multiple concurrent elections can be called by different
                    processes</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Participant: process engaged in an election</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span>Each participant </span
                ><img src="assets/distributed-systems-and-networks/image43.png" /><span>has a variable </span
                ><img src="assets/distributed-systems-and-networks/image46.png" /><span class="c1"
                    >&nbsp;initially</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_ha9hmnrh7ch-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Wait! One more thing! How do we determine correctness and
                    performance, like in the distributed mutual exclusion
                    algorithms?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c14">Correctness</span><span class="c1">:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_ha9hmnrh7ch-1 start">
            <li class="c0 li-bullet-0">
                <span class="c30">Safety</span
                ><span
                    >: a participant&rsquo;s elected vote is either nothing </span
                ><img src="assets/distributed-systems-and-networks/image47.png" /><span class="c1"
                    >or P where P is the non-crashed process with the largest
                    identifier</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c30">Liveness</span
                ><span
                    >: all processes participate and eventually set their
                    elected vote to something other than nothing </span
                ><img src="assets/distributed-systems-and-networks/image47.png" /><span class="c1"
                    >&nbsp;or they crash</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_ha9hmnrh7ch-0">
            <li class="c6 li-bullet-0">
                <span class="c14">Performance</span><span class="c1">:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_ha9hmnrh7ch-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">Minimise total number of messages sent</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Minimise turnaround time (number of serialised message
                    transmissions in a single run)</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.1b2gjc345v5k">
            <span class="c45">Asynchronous systems</span>
        </h3>
        <ul class="c2 lst-kix_lrp355on1fw4-0 start">
            <li class="c6 li-bullet-0">
                <span>With asynchronous systems, we use a </span
                ><span class="c14">ring-based</span
                ><span class="c1">&nbsp;algorithm.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >In this, all processes are gathered around in a ring.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >A process sends messages to the process next to it in the
                    ring.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This can only work with no process failures!</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_lrp355on1fw4-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This one&rsquo;s actually quite simple. Here&rsquo;s how it
                    goes:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_lrp355on1fw4-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Initially, every process marks itself as a
                    non-participant.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Any process can call an election by:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_lrp355on1fw4-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1">Marking itself as a participant</span>
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c1">Places its ID in an ELECTION message</span>
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c1">Sends that message to its neighbour</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_lrp355on1fw4-1">
            <li class="c0 li-bullet-0">
                <span class="c1">For receiving an ELECTION message:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_lrp355on1fw4-2 start">
            <li class="c20 c43 li-bullet-0">
                <span
                    >If message ID &gt; our ID, forward the message and mark
                    ourselves as a participant, if we&rsquo;re a
                    non-participant.</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c1">If message ID &lt; our ID:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_lrp355on1fw4-3 start">
            <li class="c20 c98 li-bullet-0">
                <span class="c1"
                    >If non participant, replace ID with our ID, forward
                    message, mark ourselves as participant</span
                >
            </li>
            <li class="c20 c98 li-bullet-0">
                <span class="c1"
                    >If participant, stop forwarding (should only happen when
                    doing multiple elections)</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_lrp355on1fw4-2">
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >If message ID = our ID, then we&rsquo;ve found our
                    coordinator. Set our elected variable to our ID, and send an
                    ELECTED message with our ID to our neighbour. Set ourselves
                    as a non-participant.</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_lrp355on1fw4-1">
            <li class="c0 li-bullet-0">
                <span class="c1">For receiving an ELECTED message:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_lrp355on1fw4-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >If message ID != our ID, set our elected variable to the
                    message ID and pass it along. Set ourselves as a
                    non-participant.</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >If message ID = our ID, stop forwarding (because we know
                    we&rsquo;ve hit full circle).</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_lrp355on1fw4-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >To make this work, lots of processes should instigate
                    elections, but this example will show you just one so you
                    understand the algorithm (it is worst-case):</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <a id="t.72c0010a21bf0e72800050c4182d0942842848d3"></a><a id="t.21"></a>
        <table class="c18">
            <tbody>
                <tr class="c33">
                    <td class="c67 c41" colspan="1" rowspan="1">
                        <p class="c16"><span class="c21">Image</span></p>
                    </td>
                    <td class="c94 c41" colspan="1" rowspan="1">
                        <p class="c16"><span class="c21">Description</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c67" colspan="1" rowspan="1">
                        <p class="c16">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 232px;
                                    height: 170.67px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image105.png"
                                    style="
                                        width: 232px;
                                        height: 170.67px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c94" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >We have processes 2, 6, 7 and 3 in a ring. 3
                                decides to start an election and creates an
                                ELECTION message with 3 in it. It passes it to
                                its neighbour.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c1">Red = non-participating</span>
                        </p>
                        <p class="c16">
                            <span class="c1">Green = participating</span>
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c67" colspan="1" rowspan="1">
                        <p class="c16">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 232px;
                                    height: 168.87px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image186.png"
                                    style="
                                        width: 232px;
                                        height: 168.87px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c94" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >6 receives the message and sees that it&rsquo;s
                                ID is bigger than the one in the message. It
                                puts its ID in there, sets itself as
                                participating, and sends the message to its
                                neighbour.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c67" colspan="1" rowspan="1">
                        <p class="c16">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 232px;
                                    height: 168.87px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image140.png"
                                    style="
                                        width: 232px;
                                        height: 168.87px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c94" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >2 receives the message. 2 is smaller than 6, so
                                it just forwards the message and marks itself as
                                a participant.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c67" colspan="1" rowspan="1">
                        <p class="c16">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 232px;
                                    height: 170.76px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image119.png"
                                    style="
                                        width: 232px;
                                        height: 170.76px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c94" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >7 receives the message. 7 is bigger than 6, so
                                it replaces the ID, forwards it and marks itself
                                as a participant.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c67" colspan="1" rowspan="1">
                        <p class="c16">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 232px;
                                    height: 168.87px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image137.png"
                                    style="
                                        width: 232px;
                                        height: 168.87px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c94" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >3 receives the message. Since 3 is already a
                                participant, and 3 is smaller than 7,
                                it&rsquo;ll just forward on the message.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c1"
                                >In fact, 6 and 2 will just forward on the
                                message too. It&rsquo;ll only differ when 7
                                receives the message, so we&rsquo;ll skip 2 and
                                6 for now.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c67" colspan="1" rowspan="1">
                        <p class="c16">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 232px;
                                    height: 184.62px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image115.png"
                                    style="
                                        width: 232px;
                                        height: 184.62px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c94" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >7 receives the message. Since it&rsquo;s
                                already participating, and the message ID is
                                equal to 7&rsquo;s ID, it realises that they are
                                the new coordinator.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c1"
                                >It creates an ELECTED message with it&rsquo;s
                                ID in it, sets itself as 7&rsquo;s elected
                                process, and sends the ELECTED message to its
                                neighbour. 7 will also mark itself as a
                                non-participant.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c67" colspan="1" rowspan="1">
                        <p class="c16">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 232px;
                                    height: 168.87px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image177.png"
                                    style="
                                        width: 232px;
                                        height: 168.87px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c94" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >3 receives the ELECTED message. 3 is not 7, so
                                it sets 3&rsquo;s elected process as 7 and
                                forwards the message. 3 will also mark itself as
                                a non-participant.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c1"
                                >6 and 2 will do the same thing, so again, the
                                algorithm only differs when the message goes to
                                7.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c67" colspan="1" rowspan="1">
                        <p class="c16">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 232px;
                                    height: 184.34px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image155.png"
                                    style="
                                        width: 232px;
                                        height: 184.34px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c94" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >7 receives the message. The ELECTED message ID
                                is equal to 7&rsquo;s ID, so 7 stops forwarding
                                the message and the message is
                                &ldquo;deleted&rdquo;. A new coordinator has
                                been elected with all participants!</span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_xl1ho8ta6cxm-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">So how good is the ring-based algorithm?</span>
            </li>
            <li class="c6 li-bullet-0">
                <span>It has </span><span class="c27">safety</span
                ><span class="c1"
                    >, because only the process with the largest ID can start an
                    ELECTED message</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>It has </span><span class="c27">liveness</span
                ><span class="c1"
                    >, because eventually every process becomes a participant
                    and receives ELECTED messages</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <a id="t.73871144525693b4a0e14cab5edd392059f8781c"></a><a id="t.22"></a>
        <table class="c18">
            <tbody>
                <tr class="c33">
                    <td class="c87 c89" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c131 c119 c29">Best case</span>
                        </p>
                    </td>
                    <td class="c101 c142" colspan="1" rowspan="1">
                        <p class="c16"><span class="c8">Worst case</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c87 c77" colspan="1" rowspan="1">
                        <p class="c20">
                            <span class="c32"
                                >The initiating process has the highest
                                identifier.</span
                            >
                        </p>
                        <p class="c20 c40"><span class="c32"></span></p>
                        <p class="c20">
                            <span class="c32"
                                >There are N ELECTION messages...</span
                            >
                        </p>
                        <p class="c20 c40"><span class="c32"></span></p>
                        <p class="c20">
                            <span class="c32"
                                >... and N ELECTED messages...</span
                            >
                        </p>
                        <p class="c20 c40"><span class="c32"></span></p>
                        <p class="c20">
                            <span class="c32"
                                >...resulting in 2N turnaround messages
                                (messages sent in total)</span
                            >
                        </p>
                    </td>
                    <td class="c101 c62" colspan="1" rowspan="1">
                        <p class="c20">
                            <span class="c55"
                                >The anti-clockwise (last) neighbour has highest
                                identifier.</span
                            >
                        </p>
                        <p class="c20 c40"><span class="c55"></span></p>
                        <p class="c20">
                            <span class="c55"
                                >There are 2N - 1 ELECTION messages...</span
                            >
                        </p>
                        <p class="c20 c40"><span class="c55"></span></p>
                        <p class="c20">
                            <span class="c55"
                                >...and N ELECTED messages...</span
                            >
                        </p>
                        <p class="c20 c40"><span class="c55"></span></p>
                        <p class="c20">
                            <span class="c55"
                                >...resulting in 3N - 1 turnaround messages
                                (messages sent in total).</span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_xl1ho8ta6cxm-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This works best if more than one process starts an
                    election, because you&rsquo;re more likely to get that best
                    case!</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_xl1ho8ta6cxm-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >However, this algorithm does not tolerate failures.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Can we modify the ring-based algorithm to support
                    failures?</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_xl1ho8ta6cxm-0">
            <li class="c6 li-bullet-0">
                <span>Introducing the </span
                ><span class="c14">modified ring-based</span
                ><span class="c1">&nbsp;election algorithm!</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Broken links are detected by the message sender and the
                    ring is repaired (by making the next node your neighbour or
                    something)</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Basically, the messages now carries a list of processes
                    that have forwarded this message.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >An ELECTION message is started by the initiator and goes
                    full circle once, tracking IDs. After it goes full circle, a
                    new coordinator is selected from the list of processes and
                    an ELECTED message is pushed around, just like the normal
                    ring-based algorithm (except we&rsquo;re still tracking
                    IDs).</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >When the ELECTED message reaches the initiator of the
                    election, it checks if the coordinator appears in the ID
                    list.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >If it does, then the election was successful.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >If not, then another election is started.</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <a id="t.47d86507dd31c6424374e2de06c36d7aad9fd943"></a><a id="t.23"></a>
        <table class="c18">
            <tbody>
                <tr class="c33">
                    <td class="c34 c41" colspan="1" rowspan="1">
                        <p class="c24">
                            <span class="c21"
                                >Ring-based algorithm message</span
                            >
                        </p>
                    </td>
                    <td class="c34 c41" colspan="1" rowspan="1">
                        <p class="c24">
                            <span class="c14 c29">Modified</span
                            ><span class="c21"
                                >&nbsp;ring-based algorithm message</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c24">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 174.5px;
                                    height: 101.54px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image163.png"
                                    style="
                                        width: 174.5px;
                                        height: 101.54px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c24">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 174.5px;
                                    height: 101.18px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image196.png"
                                    style="
                                        width: 174.5px;
                                        height: 101.18px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_qmkz33avcmo-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">Well? What&rsquo;s good about this one?</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >For starters, it requires fewer messages (2N at most) and
                    it tolerates failures.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">However, the messages are larger.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >If two processes initiate concurrently, then we can discard
                    the message sent by the lower ID initiator (we could change
                    it so that the message could remember who initiated the
                    election).</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >If an initiator fails, the successor to the initiator can
                    notice when the message went all the way around by spotting
                    its own ID in the list of IDs in the message. Then it can
                    act as the new initiator.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_qmkz33avcmo-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Can we have a totally correct election algorithm for fully
                    asynchronous systems?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >We actually can&rsquo;t, because election algorithms can
                    solve consensus, and as you&rsquo;ll see later, </span
                ><span class="c29"
                    >there exists no consensus algorithm for any asynchronous
                    system</span
                ><span class="c1">.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >If that&rsquo;s so, then the modified ring algorithm
                    shouldn&rsquo;t work. What&rsquo;s wrong with it?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It&rsquo;s good in theory, but in a real asynchronous
                    system, you can&rsquo;t truly detect leader failures or
                    repair the ring (how do you know who will replace your
                    neighbour?).</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.1b2gjc345v5k-35">
            <span class="c45">Synchronous systems</span>
        </h3>
        <ul class="c2 lst-kix_suockow4q78c-0 start">
            <li class="c6 li-bullet-0">
                <span>With synchronous systems, we use a </span
                ><span class="c14">bully election</span
                ><span class="c1">&nbsp;algorithm.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The bully algorithm has a few assumptions:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_suockow4q78c-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">Processes can crash and restart</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Message delivery is reliable</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >It&rsquo;s a synchronous system, so we can use
                    timeouts</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Each process knows all other processes and can communicate
                    with all</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Each process knows which processes have higher IDs</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_suockow4q78c-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The whole point of the bully algorithm is to select a new
                    non-failing coordinator.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_suockow4q78c-0">
            <li class="c6 li-bullet-0">
                <span class="c1">The algorithm goes like this:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_suockow4q78c-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >If process P recovers from failure, or detects that the
                    current coordinator has failed:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_suockow4q78c-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >If P has the highest ID, it sends a COORDINATOR message to
                    all other processes</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >Otherwise, P sends an ELECTION message to all processes
                    with a higher ID than itself</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_suockow4q78c-1">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >If P receives no ANSWER message after sending an ELECTION
                    message, it declares itself the new coordinator and sends
                    COORDINATOR messages to all processes.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >If P receives an ANSWER message after sending an ELECTION
                    message, it waits for a COORDINATOR message from some
                    process with a higher ID (if timeout, it restarts the
                    process)</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >If P receives an ELECTION message from a process with a
                    lower ID, it sends an ANSWER message back and sends ELECTION
                    messages to all processes with higher IDs.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >If P receives a COORDINATOR message, it treats the sender
                    as the coordinator.</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_suockow4q78c-0">
            <li class="c6 li-bullet-0">
                <span>Source: </span
                ><span class="c14 c72"
                    ><a
                        class="c3"
                        href="https://www.google.com/url?q=https://en.wikipedia.org/wiki/Bully_algorithm&amp;sa=D&amp;source=editors&amp;ust=1623675394944000&amp;usg=AOvVaw2gsmgW5Vp0fmov3r3AosIU"
                        >https://en.wikipedia.org/wiki/Bully_algorithm</a
                    ></span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_suockow4q78c-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Here is an example (it is worst-case, and only 1 notices 4
                    dies, when in practice everyone should notice):</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <a id="t.863f2064db1eca54388be4cc2af2586805537027"></a><a id="t.24"></a>
        <table class="c18">
            <tbody>
                <tr class="c33">
                    <td class="c34 c41" colspan="1" rowspan="1">
                        <p class="c16"><span class="c21">Image</span></p>
                    </td>
                    <td class="c34 c41" colspan="1" rowspan="1">
                        <p class="c16"><span class="c21">Explanation</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 41.33px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image156.png"
                                    style="
                                        width: 286px;
                                        height: 41.33px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >Process 4 is the coordinator, as indicated by
                                the yellow colour.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 123.46px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image194.png"
                                    style="
                                        width: 286px;
                                        height: 123.46px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >Process 4 fails and 1 reacts by sending
                                ELECTION messages to all processes with a higher
                                ID.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 143.85px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image210.png"
                                    style="
                                        width: 286px;
                                        height: 143.85px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >Process 2 and 3 answer process 1&rsquo;s
                                ELECTION message.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 163.1px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image191.png"
                                    style="
                                        width: 286px;
                                        height: 163.1px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >Since processes 2 and 3 received ELECTION
                                messages, they themselves start elections
                                too.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c1"
                                >3 answers 2, so 2 waits for a COORDINATOR
                                message from someone higher up.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c1"
                                >3 doesn&rsquo;t get anything back from process
                                4 because it&rsquo;s failed. 3 is about to hit
                                the timeout and declare itself the coordinator,
                                until...</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 103.64px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image158.png"
                                    style="
                                        width: 286px;
                                        height: 103.64px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >Uh oh! A rat is going to nibble on 3&rsquo;s
                                cabling and shut it down! 3, look out!
                                He&rsquo;s got air pods on, he can&rsquo;t hear
                                me! Oh god oh fuck I&rsquo;m literally crying
                                and shaking right now</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 41.91px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image96.png"
                                    style="
                                        width: 286px;
                                        height: 41.91px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >Oh no! Process 3 goes down before it can
                                declare itself as the coordinator!</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 79.29px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image87.png"
                                    style="
                                        width: 286px;
                                        height: 79.29px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >Now 2 is waiting for a COORDINATOR message, but
                                it&rsquo;s not going to get one.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c1"
                                >2 reaches the timeout and declares itself as
                                the coordinator! It sends the COORDINATOR
                                message to all participants below itself.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 41.91px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image197.png"
                                    style="
                                        width: 286px;
                                        height: 41.91px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >1 receives the COORDINATOR message and declares
                                2 the coordinator.</span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_udfydhrc5tiw-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >So, what&rsquo;s good about this algorithm?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>It doesn&rsquo;t exactly have </span
                ><span class="c60">safety</span
                ><span class="c1"
                    >&nbsp;because even though lower process IDs yield to higher
                    ID ones, if a failed process revives itself while some lower
                    process ID is declaring itself the coordinator, you&rsquo;re
                    going to get two different coordinator messages flying
                    around! Who are you going to believe?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>It has </span><span class="c27">liveness</span
                ><span class="c1"
                    >&nbsp;because all processes participate and know the
                    coordinator at the end.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_udfydhrc5tiw-0">
            <li class="c6 li-bullet-0">
                <span class="c1">So what&rsquo;s the performance like?</span>
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <a id="t.66b8832e8235e97a925e9a14a6b3eb50cf0fc0d9"></a><a id="t.25"></a>
        <table class="c18">
            <tbody>
                <tr class="c33">
                    <td class="c87 c89" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c131 c119 c29">Best case</span>
                        </p>
                    </td>
                    <td class="c101 c142" colspan="1" rowspan="1">
                        <p class="c16"><span class="c8">Worst case</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c77 c87" colspan="1" rowspan="1">
                        <p class="c20">
                            <span class="c32"
                                >When the coordinator is process N, and N fails,
                                and N - 1 detects that failure and elects itself
                                using COORDINATOR messages.</span
                            >
                        </p>
                        <p class="c20 c40"><span class="c32"></span></p>
                        <p class="c20">
                            <span class="c32"
                                >There&rsquo;s only an overhead of N - 2
                                coordinator messages and a delay of 1 message
                                (because there&rsquo;s no ELECTION/ANSWER
                                messages, only the COORDINATOR messages being
                                passed to everyone)</span
                            >
                        </p>
                    </td>
                    <td class="c62 c101" colspan="1" rowspan="1">
                        <p class="c20">
                            <span class="c55"
                                >When the least identifier process detects
                                coordinator failure.</span
                            >
                        </p>
                        <p class="c20 c40"><span class="c55"></span></p>
                        <p class="c20">
                            <span class="c171"
                                >There&rsquo;s a total overhead of (N + 1)(N -
                                2) messages. Basically, that&rsquo;s an
                                O(N</span
                            ><span class="c117 c171">2</span
                            ><span class="c55">) complexity.</span>
                        </p>
                        <p class="c20 c40"><span class="c55"></span></p>
                        <p class="c20">
                            <span class="c55"
                                >Plus, there&rsquo;s a huge delay of all the
                                election and answer messages swarming
                                around.</span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c20 c40"><span class="c1"></span></p>
        <h2 class="c44" id="h.bn20hjtezqu8">
            <span class="c9">Reliable and Ordered Multicast</span>
        </h2>
        <ul class="c2 lst-kix_zc3hxrl0upi7-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Multicast is used for group communication</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >You spread one message amongst a group of
                    participants</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >However, how do you ensure reliability (every process gets
                    the message) or order (multicasts sent before should come
                    first)?</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_zc3hxrl0upi7-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >We&rsquo;ll come back to those in a second, but first,
                    let&rsquo;s set some ground rules.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Here are some basic operations:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_zc3hxrl0upi7-1 start">
            <li class="c0 li-bullet-0">
                <span class="c4">multicast(g, m)</span><span>&nbsp;</span
                ><span class="c23"
                    >sends message m to all members of group g</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c4">deliver(m)</span><span>&nbsp;</span
                ><span class="c23"
                    >delivers the message m (think of it like an acknowledgement
                    of receiving the message, or a callback. Basically we run
                    this as a confirmation of &ldquo;yes, we&rsquo;ve got the
                    message&rdquo;)</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_zc3hxrl0upi7-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Message m contains information about the sender and the
                    destination group.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">Closed</span><span>&nbsp;vs </span
                ><span class="c29">open</span
                ><span
                    >&nbsp;groups: only group members can multicast to a </span
                ><span class="c29">closed group</span
                ><span>, whereas non-members can multicast to an </span
                ><span class="c29">open group.</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_zc3hxrl0upi7-0">
            <li class="c6 li-bullet-0">
                <span>If you still don&rsquo;t understand how </span
                ><span class="c4">deliver(m)</span
                ><span class="c1"
                    >&nbsp;works, think of it like this: when a node receives a
                    message m, it won&#39;t actually &quot;get&quot; it until it
                    runs deliver(m). Say if a node receives m1 and m2, but it
                    receives m2 before m1, but it should&#39;ve received them in
                    order m1, and then m2. Some systems allow the node to wait
                    until m1, and then run deliver(m1) and then deliver(m2). So
                    you see, deliver is mainly used to order messages that were
                    received in the wrong order.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.pchf0yzbsx7h">
            <span class="c45">Basic multicast</span>
        </h3>
        <ul class="c2 lst-kix_sd33i286lwm8-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This is just your normal multicast. It doesn&rsquo;t
                    guarantee reliability or order.</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_sd33i286lwm8-0">
            <li class="c6 li-bullet-0">
                <span class="c1">It works like this:</span>
            </li>
            <li class="c6 li-bullet-0">
                <span>When we do multicast, we send the message </span
                ><span class="c4">m</span><span>&nbsp;to each process </span
                ><span class="c4">p</span><span>&nbsp;in the group </span
                ><span class="c4">g</span><span class="c1">.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span>When a process </span><span class="c4">p</span
                ><span>&nbsp;receives message </span><span class="c4">m</span
                ><span>, it delivers message </span><span class="c4">m</span
                ><span>&nbsp;to </span><span class="c4">p</span
                ><span class="c1">&nbsp;(acknowledges it)</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_sd33i286lwm8-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It really is basic; it&rsquo;s just sending the same
                    message to all the processes in the group, which is what
                    multicast is, really.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Also works for open groups!</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Only thing is, like I said, it doesn&rsquo;t guarantee
                    reliability (i.e. it can&rsquo;t handle process or omission
                    failure) or order.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.pchf0yzbsx7h-36">
            <span class="c45">Reliable multicast</span>
        </h3>
        <ul class="c2 lst-kix_48t78j8snhd3-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This version of multicast tolerates process crashes, so it
                    guarantees reliability.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">It assumes the following:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_48t78j8snhd3-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Group membership is known (it knows about everyone in the
                    group)</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Reliable communication</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Processes only fail by crashing</span>
            </li>
            <li class="c0 li-bullet-0"><span class="c1">Closed Group</span></li>
        </ul>
        <ul class="c2 lst-kix_48t78j8snhd3-0">
            <li class="c6 li-bullet-0">
                <span class="c1">It works like this:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_48t78j8snhd3-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Process p basic-multicasts to all members of a group g
                    (including itself)</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >When a process receives a message, it performs
                    basic-multicast again (unless we&rsquo;re the original
                    sender) and delivers (acknowledges) the message for
                    itself.</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_48t78j8snhd3-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >So basically, when we receive a multicast message, we
                    multicast the same message too.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Duplicate messages are identified and not delivered.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >When receiving a duplicate message, processes do not
                    deliver (acknowledge) the message twice.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_48t78j8snhd3-0">
            <li class="c6 li-bullet-0">
                <span class="c1">Reliable multicast guarantees:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_48t78j8snhd3-1 start">
            <li class="c0 li-bullet-0">
                <span class="c30">Integrity</span
                ><span class="c1"
                    >: a process delivers a message at most once and only group
                    members receive it</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c30">Validity</span
                ><span class="c1"
                    >: processes deliver (acknowledge) their own multicast
                    messages</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c30">Agreement</span
                ><span class="c1"
                    >: if a process delivers (acknowledges) a multicasted
                    message, then all other processes should too (all or
                    none)</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_48t78j8snhd3-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This algorithm is good, but it&rsquo;s inefficient and does
                    not ensure order.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.pchf0yzbsx7h-37">
            <span class="c45">Ordered multicast</span>
        </h3>
        <ul class="c2 lst-kix_df3o40xk1140-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Ordered multicast ensures order (obviously).</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >However, there are different kinds of order:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_df3o40xk1140-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">FIFO order</span
                ><span class="c1"
                    >: if a single process multicasts message #1, and then
                    message #2, then all receiving processes must deliver
                    (acknowledge) #1, and then #2. Messages sent by different
                    processes can come in any order, since they&rsquo;re not
                    related.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Causal order</span
                ><span
                    >: like FIFO, except it incorporates things like response
                    messages and the </span
                ><img src="assets/distributed-systems-and-networks/image40.png" /><span
                    >&nbsp;relation, so if </span
                ><img src="assets/distributed-systems-and-networks/image48.png" /><span>, then m</span
                ><span class="c12">1</span
                ><span>&nbsp;will be delivered first and then m</span
                ><span class="c12">2</span><span class="c1">.</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Total order</span
                ><span>: all processes receive messages in the same order </span
                ><span class="c23"
                    >(it doesn&rsquo;t have to be the order in which
                    they&rsquo;re sent, just that all processes receive the same
                    order of messages)</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_df3o40xk1140-0">
            <li class="c6 li-bullet-0">
                <span
                    >Causal order implies FIFO order, but total order does </span
                ><span class="c29 c71">not</span
                ><span class="c1"
                    >&nbsp;imply FIFO / causal order (because total order says
                    nothing about when the messages were actually sent)!</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Here&rsquo;s a visual example:</span>
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <a id="t.2f3c2b639a3b19e27961808a0fbc618d3ed6fb64"></a><a id="t.26"></a>
        <table class="c18">
            <tbody>
                <tr class="c33">
                    <td class="c64 c41" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c21">Type of order</span>
                        </p>
                    </td>
                    <td class="c177 c41" colspan="1" rowspan="1">
                        <p class="c16"><span class="c21">Image</span></p>
                    </td>
                    <td class="c158 c41" colspan="1" rowspan="1">
                        <p class="c16"><span class="c21">Explanation</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c64" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">FIFO</span></p>
                    </td>
                    <td class="c177" colspan="1" rowspan="1">
                        <p class="c16">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 308.5px;
                                    height: 96.07px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image151.png"
                                    style="
                                        width: 308.5px;
                                        height: 96.07px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c158" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >In the diagram, messages are being sent between
                                three processes. The blocks are the
                                &ldquo;receiving&rdquo; events, and the small
                                black circle dots are the &ldquo;sending&rdquo;
                                events.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span>The F</span><span class="c12">1</span
                            ><span
                                >&nbsp;message (beige blocks) is sent before the
                                F</span
                            ><span class="c12">2</span
                            ><span class="c1"
                                >&nbsp;message (black blocks) in the same
                                process, hence why you&rsquo;ll always see, in
                                all processes, beige blocks before the black
                                blocks.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span>The F</span><span class="c12">3</span
                            ><span
                                >&nbsp;message (orangey brown blocks) is
                                independent of the other messages, so the
                                orangey brown blocks can go anywhere </span
                            ><span>between</span
                            ><span class="c1">&nbsp;the other blocks.</span>
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c64" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">Causal</span></p>
                    </td>
                    <td class="c177" colspan="1" rowspan="1">
                        <p class="c16">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 308.5px;
                                    height: 112.62px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image141.png"
                                    style="
                                        width: 308.5px;
                                        height: 112.62px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c158" colspan="1" rowspan="1">
                        <p class="c16">
                            <span>It&rsquo;s clear that </span
                            ><img src="assets/distributed-systems-and-networks/image49.png" /><span
                                >because C</span
                            ><span class="c12">1</span
                            ><span>&nbsp;was sent before C</span
                            ><span class="c12">2</span
                            ><span class="c1"
                                >&nbsp;in the same process, so the beige blocks
                                will always go before the black blocks.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span>In this example, let&rsquo;s say that C</span
                            ><span class="c12">3</span
                            ><span>&nbsp;is sent in response to C</span
                            ><span class="c12">1</span
                            ><span>&nbsp;(the beige block), so </span
                            ><img src="assets/distributed-systems-and-networks/image50.png" /><span class="c1"
                                >&nbsp;is true and the orangey brown blocks will
                                always go after the beige blocks.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span>However, C</span><span class="c12">2</span
                            ><span>&nbsp;and C</span><span class="c12">3</span
                            ><span class="c1"
                                >&nbsp;are independent of each other
                                (concurrent), so black blocks and orangey brown
                                blocks can go before or after each other.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c64" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">Total</span></p>
                    </td>
                    <td class="c177" colspan="1" rowspan="1">
                        <p class="c16">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 308.5px;
                                    height: 59.64px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image205.png"
                                    style="
                                        width: 308.5px;
                                        height: 59.64px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c158" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >It doesn&rsquo;t matter when the messages were
                                sent, each process has the same order of
                                receiving messages: beige, then black.</span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_c1qmcggfg96l-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >So now we know the different flavours of ordered
                    multicasting; what do they actually do?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It&rsquo;s not important to know the details, just a rough
                    idea is enough.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_c1qmcggfg96l-0">
            <li class="c6 li-bullet-0">
                <span>With </span><span class="c14">Ordered Multicast: </span
                ><span class="c14 c147 c30">FIFO Ordering</span
                ><span class="c1">, sequence numbers are used.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >All processes keep a counter of how many multicast messages
                    they&rsquo;ve sent.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >They also package their messages with this counter
                    too.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The counter is incremented when a message is sent.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Processes remember the latest sequence number of the latest
                    message that they received from each process from their
                    group (by default, they probably start at 0)</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Messages sent out of order will be queued until the
                    previous messages have been delivered (this is done using
                    the counter in the message).</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>For example, if process P</span><span class="c12">2</span
                ><span>&nbsp;collects message #2 from P</span
                ><span class="c12">1</span
                ><span class="c1"
                    >&nbsp;before it receives message #1, it&rsquo;ll know to
                    wait for #1 first before delivering #2.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This works with basic / reliable multicast.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_c1qmcggfg96l-0">
            <li class="c6 li-bullet-0">
                <span>With </span><span class="c14">Ordered Multicast: </span
                ><span class="c14 c147 c30">Causal</span
                ><span class="c14 c147 c30">&nbsp;Ordering</span
                ><span>, we assume that groups are </span
                ><span class="c29">closed</span><span>&nbsp;and </span
                ><span class="c29">non-overlapping</span
                ><span class="c1">.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >We need to use vector timestamps. Don&rsquo;t be afraid!
                    It&rsquo;s pretty much the same use as in the &ldquo;Time in
                    Distributed Systems&rdquo; topic.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Each process has their own vector clock, starting at (0, 0,
                    0 .. ).</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >When a process sends a message, they increment their slot
                    (e.g. P</span
                ><span class="c12">1</span
                ><span class="c1"
                    >&nbsp;may increment to (1, 0, 0 ...)) and include their
                    vector clock in the message.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >When a process receives a message, it does one of two
                    things:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_c1qmcggfg96l-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >If we haven&rsquo;t got the messages that causally precede
                    this message, put it in a queue.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >If we have the messages that causally precede this message,
                    then deliver (acknowledge) it and check the queue for
                    messages that come after this one (and deliver those,
                    too).</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_c1qmcggfg96l-0">
            <li class="c6 li-bullet-0">
                <span
                    >Don&rsquo;t think about how the vector clocks work too
                    hard; just keep in mind that, with the vector clocks, you
                    can tell if a message </span
                ><span>causally</span
                ><span class="c1">&nbsp;precedes another message.</span>
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_c1qmcggfg96l-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >If you&rsquo;re still confused, take a look at this example
                    diagram which should clear things up:</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 544.5px;
                    height: 309.59px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image69.png"
                    style="
                        width: 544.5px;
                        height: 309.59px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_c1qmcggfg96l-0">
            <li class="c6 li-bullet-0">
                <span>With </span><span class="c14">Ordered Multicast: </span
                ><span class="c14 c30 c147">Total Ordering</span
                ><span class="c1"
                    >, we use group-specific sequence numbers.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This is like FIFO, but instead of the counters being
                    specific to each process, it&rsquo;s specific to the whole
                    group.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>For example, when process P</span
                ><span class="c12">2</span
                ><span>&nbsp;collects message #2 from P</span
                ><span class="c12">1</span
                ><span
                    >, that&rsquo;s not 2 as in &ldquo;the second message that
                    P</span
                ><span class="c12">1</span
                ><span class="c1"
                    >&nbsp;sent&rdquo;, that&rsquo;s 2 as in &ldquo;the second
                    message that everyone in the group has sent&rdquo;.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >However, to manage something like this, you&rsquo;d need
                    either a:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_c1qmcggfg96l-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >sequencer process to assign sequence numbers (then
                    you&rsquo;d need an election)</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >distributed agreement on the assignment of sequence
                    numbers</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_c1qmcggfg96l-0">
            <li class="c6 li-bullet-0">
                <span>It&rsquo;s actually </span
                ><span class="c29 c71">impossible</span
                ><span>&nbsp;to implement total ordering multicast in an </span
                ><span class="c29 c71">asynchronous </span
                ><span class="c1"
                    >system, because doing so would mean we can have complete
                    consensus in an asynchronous system, which is
                    impossible.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Think of consensus as being reducible to total ordering
                    multicast (you know, like with Turing machines).</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >More info on that in the Consensus topic (hype)!</span
                >
            </li>
        </ul>
        <h2 class="c44" id="h.bn20hjtezqu8-38">
            <span class="c9">Consensus</span>
        </h2>
        <ul class="c2 lst-kix_3uu8lcvzurpw-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">What is consensus?</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Consensus is simply a network collectively picking an
                    option over a set of options, after one process proposes a
                    value.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Let&rsquo;s look at an example:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_3uu8lcvzurpw-1 start">
            <li class="c0 li-bullet-0">
                <span>Kris, Ralsei and Susie need to agree on either </span
                ><span class="c30">defeating King</span><span>&nbsp;or </span
                ><span class="c30">not</span
                ><span class="c1"
                    >&nbsp;(to spare Lancer&rsquo;s feelings, you see), but can
                    only talk to one person at a time.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >However, there is a twist! Toby Fox changed the plot, and
                    now Ralsei is a secret agent working against our Lightner
                    heroes! He&rsquo;s planning to mess up our arrangements by
                    giving us false information!</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Is there some protocol they can use to decide, despite our
                    traitorous friend?</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_3uu8lcvzurpw-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >To solve this means to solve our consensus problem.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_3uu8lcvzurpw-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The consensus problem can be applied to more than just
                    Deltarune fan-fictions:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_3uu8lcvzurpw-1 start">
            <li class="c0 li-bullet-0">
                <span class="c30">Banking</span
                ><span class="c1">: should we commit or abort transaction?</span
                ><span
                    style="
                        overflow: hidden;
                        display: inline-block;
                        margin: 0px 0px;
                        border: 0px solid #000000;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                        width: 221.02px;
                        height: 228.95px;
                    "
                    ><img
                        alt=""
                        src="assets/distributed-systems-and-networks/image150.png"
                        style="
                            width: 221.02px;
                            height: 228.95px;
                            margin-left: 0px;
                            margin-top: 0px;
                            transform: rotate(0rad) translateZ(0px);
                            -webkit-transform: rotate(0rad) translateZ(0px);
                        "
                        title=""
                /></span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c30">Replicated </span
                ><span class="c1"
                    >data: should we commit or abort updates?</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span>Agree on message delivery order in</span
                ><span class="c30">&nbsp;total order multicast </span
                ><span class="c1">(more on their relationship later)</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_3uu8lcvzurpw-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >We also need to reach a verdict despite arbitrary process
                    failures!</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_3uu8lcvzurpw-0">
            <li class="c6 li-bullet-0">
                <span class="c1">First of all, we need some assumptions:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_3uu8lcvzurpw-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">There are N processes</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >We have a reliable connection (messages are always
                    received)</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Must tolerate both crash failures (someone drops out) or
                    Byzantine failures (someone lies, like our prince
                    Ralsei)</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_3uu8lcvzurpw-0">
            <li class="c6 li-bullet-0">
                <span
                    >So how do we actually reach consensus? What&rsquo;s the </span
                ><span class="c14">algorithm</span
                ><span class="c1">&nbsp;for it?</span>
            </li>
            <li class="c6 li-bullet-0"><span class="c1">First:</span></li>
        </ul>
        <ul class="c2 lst-kix_3uu8lcvzurpw-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">Processes are all in an undecided state</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Each proposes an initial value drawn from the set of
                    options</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_3uu8lcvzurpw-0">
            <li class="c6 li-bullet-0"><span class="c1">Then:</span></li>
        </ul>
        <ul class="c2 lst-kix_3uu8lcvzurpw-1 start">
            <li class="c0 li-bullet-0">
                <span>Everyone exchanges values with each other </span
                ><span>(using reliable multicast)</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Each process decides on a value and enters a decided
                    state</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_3uu8lcvzurpw-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Basically, if you&rsquo;ve done the second coursework for
                    this module, you&rsquo;ve implemented this already.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >You may be thinking &ldquo;So what&rsquo;s the problem?
                    This looks fine to me.&rdquo;</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The problem is, does this still work when people start
                    lying, or crashing?</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_3uu8lcvzurpw-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Here are some properties of consensus that we want to
                    achieve:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_3uu8lcvzurpw-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">Termination</span
                ><span class="c1"
                    >: eventually, each process comes to a conclusion</span
                ><span
                    style="
                        overflow: hidden;
                        display: inline-block;
                        margin: 0px 0px;
                        border: 0px solid #000000;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                        width: 112.78px;
                        height: 237.5px;
                    "
                    ><img
                        alt=""
                        src="assets/distributed-systems-and-networks/image170.png"
                        style="
                            width: 112.78px;
                            height: 237.5px;
                            margin-left: 0px;
                            margin-top: 0px;
                            transform: rotate(0rad) translateZ(0px);
                            -webkit-transform: rotate(0rad) translateZ(0px);
                        "
                        title=""
                /></span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Agreement</span
                ><span class="c1"
                    >: all processes agree on the same option</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Integrity</span
                ><span class="c1"
                    >: if all processes propose the same value, then all
                    processes must agree on that value at the end too
                    (basically, no changing your mind!)</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_3uu8lcvzurpw-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >So if the algorithm has no failures, how does it
                    fare?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>It has </span><span class="c27">termination</span
                ><span>&nbsp;and </span><span class="c27">integrity</span
                ><span class="c1"
                    >&nbsp;because it uses reliable multicast</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>Because it&rsquo;s a majority vote, we have </span
                ><span class="c32 c77">agreement</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >But with failures, it doesn&rsquo;t work so well
                    anymore!</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_3uu8lcvzurpw-1 start">
            <li class="c0 li-bullet-0">
                <span>With </span><span class="c156 c138">crash failures</span
                ><span class="c1"
                    >, asynchronous systems can&rsquo;t detect that
                    (doesn&rsquo;t know if they&rsquo;ve crashed or if
                    they&rsquo;re just really slow)</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span>With </span><span class="c60">Byzantine failures</span
                ><span class="c1"
                    >&nbsp;(lying), you need a certain number of truthful
                    participants (this is even hard for synchronous systems, let
                    alone asynchronous)</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_3uu8lcvzurpw-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Now just before we jump right in to how synchronous and
                    asynchronous differ, let me tell you what&rsquo;s so special
                    about consensus and RTO (reliable total order
                    multicast).</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This is assuming that only crash failures are
                    allowed!</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It can be said that if we solve the consensus problem, we
                    can solve the RTO multicast problem.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >If you&rsquo;d like, you can think of it like consensus is
                    reducible to RTO multicast, except it works both ways.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_3uu8lcvzurpw-0">
            <li class="c6 li-bullet-0">
                <span class="c14"
                    >Implementing consensus using RTO-multicast</span
                ><span class="c1">:</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Processes pick their options</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Everyone uses RTO-multicast to multicast their options to
                    everyone</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Everyone picks an agreed option based on message order
                    (last option, first option, whatever. It&rsquo;s usually the
                    first option)</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Boom; you&rsquo;ve got a consensus.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This works because to do RTO-multicast, the participants
                    have to have a consensus on the order of messages, so we can
                    just use that to our advantage.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_3uu8lcvzurpw-0">
            <li class="c6 li-bullet-0">
                <span class="c14"
                    >Implementing RTO-multicast using consensus</span
                ><span class="c1">:</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >For each value to be delivered, run a consensus algorithm
                    to distribute it to everyone.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Because the consensus algorithm picks one option out of
                    many, for each run you do, the outcome of that consensus
                    defines the order of the RTO-multicast.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >For example, if the first run they decide on A, then the
                    second run they decide on C, then the third run they decide
                    on B, the consensus algorithm has pretty much mapped out a
                    global order for us: A, C, B!</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.sszbqib2n286">
            <span class="c45">Synchronous</span>
        </h3>
        <ul class="c2 lst-kix_n4q5e43obbde-0 start">
            <li class="c6 li-bullet-0">
                <span>If </span><img src="assets/distributed-systems-and-networks/image51.png" /><span
                    >&nbsp;processes crash, then we need </span
                ><img src="assets/distributed-systems-and-networks/image52.png" /><span class="c1"
                    >&nbsp;rounds to make the algorithm work.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >In all these rounds, participants send new votes to each
                    other.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This works because even if a process crashes, as long as it
                    sends its vote to one other participant, that participant
                    will send that new vote to other participants, and soon
                    everyone will know that vote, long after that participant is
                    dead!</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >At the end of it all, everyone should have the same votes
                    (because the rounds can only end if there are no more new
                    votes to send)</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Hence, everyone can decide on a vote.</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_n4q5e43obbde-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >If there&rsquo;s no failures, we can just use 2PC
                    (Two-phase commit). That works fine.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >In fact, 2PC is literally just consensus, except the
                    participants don&rsquo;t share votes.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It&rsquo;s like a non-failure-safe consensus!</span
                >
            </li>
        </ul>
        <p class="c20 c141">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 309.3px;
                    height: 223.03px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image121.png"
                    style="
                        width: 309.3px;
                        height: 223.03px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_n4q5e43obbde-0">
            <li class="c6 li-bullet-0">
                <span class="c1">What about arbitrary failures?</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Ah, now here&rsquo;s where it gets interesting.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>Let&rsquo;s say you have </span
                ><img src="assets/distributed-systems-and-networks/image53.png" /><span
                    >&nbsp;processes , and </span
                ><img src="assets/distributed-systems-and-networks/image51.png" /><span class="c1"
                    >&nbsp;of them are liars.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >Did you know that it&rsquo;s impossible to get a consensus
                    if </span
                ><img src="assets/distributed-systems-and-networks/image54.png" /><span class="c1">?</span>
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >In other words, if a third of your participants are liars,
                    there&rsquo;s no way you can get a consensus. This is called
                    the </span
                ><span class="c14">Byzantine generals problem</span
                ><span class="c1">.</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_n4q5e43obbde-0">
            <li class="c6 li-bullet-0">
                <span class="c1">Where did this rule come from?</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Let&rsquo;s go back to our example above:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_n4q5e43obbde-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Kris decides that they should defeat King.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Susie wants to hear everyone&rsquo;s opinions. Kris says
                    &ldquo;Let&rsquo;s defeat King&rdquo;. Ralsei says
                    &ldquo;Kris doesn&rsquo;t want to defeat King&rdquo;.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >What? They contradict each other! Who should Susie believe?
                    Kris or Ralsei?</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >If only there was some other truth-teller that could be the
                    tie-breaker in this dilemma...</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_n4q5e43obbde-0">
            <li class="c6 li-bullet-0">
                <span>In this example, </span
                ><img src="assets/distributed-systems-and-networks/image55.png" /><span>&nbsp;and </span
                ><img src="assets/distributed-systems-and-networks/image56.png" /><span>. </span
                ><img src="assets/distributed-systems-and-networks/image57.png" /><span class="c1"
                    >, which is true, so no consensus can be made. If only we
                    had one extra truth-teller, then we could reach a
                    consensus.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.cbc4pjxcbh2r">
            <span class="c45">Asynchronous</span
            ><span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 160.48px;
                    height: 248.43px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image100.png"
                    style="
                        width: 160.48px;
                        height: 248.43px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </h3>
        <ul class="c2 lst-kix_695ul9cd8smc-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This is a bit of a depressing one (like the Halting
                    problem)</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Asynchronous systems don&rsquo;t have timeouts, so we
                    can&rsquo;t tell the difference between a crashed process
                    and a process that&rsquo;s just taking its sweet time.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>So there is actually </span><span class="c29 c71">no</span
                ><span class="c1"
                    >&nbsp;consensus algorithm for asynchronous systems.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >If there is no consensus algorithm, that means it&rsquo;s
                    also impossible to solve RTO-multicast.</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_695ul9cd8smc-0">
            <li class="c6 li-bullet-0">
                <span
                    >However, not all hope is lost. We can&rsquo;t have a </span
                ><span class="c30 c189">perfect</span
                ><span class="c1"
                    >&nbsp;consensus algorithm, but we can have an almost
                    perfect algorithm using imperfect, close-to-reliable failure
                    detectors.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >In practice, this is usually good enough.</span
                >
            </li>
        </ul>
        <h2 class="c44" id="h.wa0sn8qs8aus">
            <span class="c9">Consistency models</span>
        </h2>
        <ul class="c2 lst-kix_1jn1b7jewj0z-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Don&rsquo;t worry; SEC / CRDTs are not examinable, so these
                    notes will cover standard models only. That means less
                    reading for you!</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_oz14wqgwzcwp-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">So what is a consistency model?</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Basically, it&rsquo;s a network model that copies
                    information between nodes.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Why do we want that?</span
                ><span
                    style="
                        overflow: hidden;
                        display: inline-block;
                        margin: 0px 0px;
                        border: 0px solid #000000;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                        width: 174.73px;
                        height: 130.17px;
                    "
                    ><img
                        alt=""
                        src="assets/distributed-systems-and-networks/image223.png"
                        style="
                            width: 174.73px;
                            height: 130.17px;
                            margin-left: 0px;
                            margin-top: 0px;
                            transform: rotate(0rad) translateZ(0px);
                            -webkit-transform: rotate(0rad) translateZ(0px);
                        "
                        title=""
                /></span>
            </li>
        </ul>
        <ul class="c2 lst-kix_oz14wqgwzcwp-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">Better performance</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Better scalability</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Better availability</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Better fault tolerance</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_oz14wqgwzcwp-0">
            <li class="c6 li-bullet-0">
                <span
                    >We go into more detail in Leonardo&rsquo;s bit, but
                    basically there&rsquo;s this </span
                ><span class="c29">CAP theorem</span><span class="c1">.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">We can only have two of either:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_oz14wqgwzcwp-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">Consistency</span
                ><span class="c1"
                    >: All nodes are updated with the right information</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Availability</span
                ><span class="c1"
                    >: Requests are served as long as one server is
                    available</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Partition Tolerance</span
                ><span class="c1"
                    >: Stuff still works, even if we partition servers</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_oz14wqgwzcwp-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >There&rsquo;s two main strategies we can apply:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_oz14wqgwzcwp-1 start">
            <li class="c0 li-bullet-0">
                <span>Prioritise consistency </span
                ><span class="c27 c29">(CP)</span
                ><span class="c1">: high cost, no conflicts</span>
            </li>
            <li class="c0 li-bullet-0">
                <span>Prioritise availability </span
                ><span class="c60 c29">(AP)</span
                ><span class="c1">: low cost, possible conflicts</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_oz14wqgwzcwp-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >We say there&rsquo;s two strategies, but in reality
                    there&rsquo;s a range of models we can use.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>At the top of the range, we have </span
                ><span class="c27">strong consistency models</span
                ><span class="c1">.</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_oz14wqgwzcwp-1 start">
            <li class="c0 li-bullet-0"><span class="c1">They use CP.</span></li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >When updates are committed, replicas need a consensus on
                    the ordering of the updates.</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_oz14wqgwzcwp-0">
            <li class="c6 li-bullet-0">
                <span>At the bottom of the range, we have </span
                ><span class="c60">weak consistency models</span
                ><span class="c1">.</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_oz14wqgwzcwp-1 start">
            <li class="c0 li-bullet-0"><span class="c1">They use AP.</span></li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >No global ordering; guarantees on consistency are
                    relaxed</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_oz14wqgwzcwp-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >So what are the kinds of models we can use?</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_oz14wqgwzcwp-1 start">
            <li class="c0 li-bullet-0">
                <span class="c27">Strong consistency</span
                ><span class="c1">&nbsp;(e.g. Google&rsquo;s BigTable)</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Sequential consistency</span>
            </li>
            <li class="c0 li-bullet-0"><span class="c1">...</span></li>
            <li class="c0 li-bullet-0">
                <span>Causal</span><span class="c1">&nbsp;consistency</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c60">Eventual consistency</span
                ><span class="c1">&nbsp;(e.g. Amazon&rsquo;s Dynamo)</span>
            </li>
        </ul>
        <p class="c20 c22"><span class="c1"></span></p>
        <ul class="c2 lst-kix_oz14wqgwzcwp-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >You need to learn all four of these, so let&rsquo;s get
                    started!</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.kxmsopkcyoq5">
            <span class="c45">Strong consistency</span>
        </h3>
        <ul class="c2 lst-kix_ic0vza3yc2rq-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">Messages have global timestamps</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The order of messages must respect these timestamps</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Once a write is complete, all later reads return the value
                    of that write or a later write.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Once a read is complete, all later reads return the value
                    of that read or a later write.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >So, for example, if process A writes something to a
                    variable, and then process B writes another thing to that
                    variable, the only thing people are ever going to read is
                    that write that B did, because it overwrote A.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >That&rsquo;s it! It&rsquo;s as you expect. Achieving this
                    is expensive, and sometimes not necessary.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.d927d7g1v3jk">
            <span class="c45">Sequential consistency</span>
        </h3>
        <ul class="c2 lst-kix_7gjikb33xfui-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This one is a little weird. It may seem counterintuitive at
                    first, but bear with me!</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Sequential consistency takes the operations performed by
                    all the nodes, merges them into a sequence, and operates
                    that sequence.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Think of it like a card shuffle, but instead of cards,
                    it&rsquo;s operations.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >I also have an example if it&rsquo;s not clear:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_7gjikb33xfui-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">We have nodes 1, 2, 3 and 4.</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >They each perform operations on a variable x, like
                    so:</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 455.5px;
                    height: 172.33px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image101.png"
                    style="
                        width: 455.5px;
                        height: 172.33px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_b05iz5h4psh-0 start">
            <li class="c0 li-bullet-0">
                <span>What sequential </span><span>consistency </span
                ><span class="c1">does is, it takes all those operations:</span>
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 455.5px;
                    height: 100.36px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image188.png"
                    style="
                        width: 455.5px;
                        height: 100.36px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_nkashj291yeo-0 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >... and in each &ldquo;iteration&rdquo;, the arrow points
                    to a node (it could be random, but it depends on the
                    system), and it executes the operation on that &ldquo;node
                    queue&rdquo;.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >For example, let&rsquo;s run the first iteration...</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 455.5px;
                    height: 100.36px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image97.png"
                    style="
                        width: 455.5px;
                        height: 100.36px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_u5uix9up5yns-0 start">
            <li class="c0 li-bullet-0">
                <span
                    >Look at that! The arrow picked node 2! So now the system
                    executes </span
                ><span class="c4">write(x, 2)</span
                ><span class="c1"
                    >&nbsp;and writes x as 2 in the central data store...</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 455.5px;
                    height: 100.36px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image160.png"
                    style="
                        width: 455.5px;
                        height: 100.36px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_y2ym4h3ue2p-0 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >The arrow has now picked node 3, node 3 will read value
                    &lsquo;x&rsquo;. It reads it as &lsquo;2&rsquo;.</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 455.5px;
                    height: 100.36px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image76.png"
                    style="
                        width: 455.5px;
                        height: 100.36px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_vd2tj5a9856h-0 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >The arrow has now picked node 4, so now node 4 will read
                    &lsquo;x&rsquo; as 2.</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 455.5px;
                    height: 100.36px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image110.png"
                    style="
                        width: 455.5px;
                        height: 100.36px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_7oa74vhi2zam-0 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >The arrow has picked node 1, so now x will be overwritten
                    as 1.</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_dxfy4ntaqj6g-0 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >... and then the arrow will pick node 3 to read, and then
                    node 4 to read and then that&rsquo;ll be that.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_qxzz6tond1mi-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >So, when you think about it, the arrow picked the
                    operations in such a way that:</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 455.5px;
                    height: 180.44px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image219.png"
                    style="
                        width: 455.5px;
                        height: 180.44px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_6ry4btq210zh-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >What? How can those reads at the end return 1, when just
                    before read returned 2? How can reading something change the
                    value?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It&rsquo;s not that read changed the value of x. It&rsquo;s
                    that the write operation of setting x to 1 (from node 1)
                    didn&rsquo;t take effect until after nodes 3 and 4 read x
                    for the first time.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Think of it like threads: let&rsquo;s say node 1 was just
                    really slow for some reason, and took ages to write 1 to x.
                    By the time node 1 has a chance to do anything, node 2 has
                    already written 2 to x, and nodes 3 and 4 have already read
                    x as 2. But before 3 and 4 reads x again, node 1 changes x
                    to 1, so when 3 and 4 reads x again, it&rsquo;s 1.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_6ry4btq210zh-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The arrow in the example picks an order of operations, and
                    those operations become global in the sense that all
                    replicas will perform the operations in that order.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This is usually implemented using a totally-ordered
                    multicast algorithm.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>Shout out to </span
                ><span class="c14 c72"
                    ><a
                        class="c3"
                        href="https://www.google.com/url?q=https://homes.cs.washington.edu/~bornholt/post/memory-models.html&amp;sa=D&amp;source=editors&amp;ust=1623675395047000&amp;usg=AOvVaw2blheO8P0Oj4aW2Aydm8Mw"
                        >James Bornholt</a
                    ></span
                ><span class="c1"
                    >&nbsp;for the analogy of using a &ldquo;switch&rdquo; to
                    visualise sequential consistency in action!</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.yv14cna76lld">
            <span class="c45">Causal consistency</span>
        </h3>
        <ul class="c2 lst-kix_2ol0ytlk290l-0 start">
            <li class="c6 li-bullet-0">
                <span
                    >Causal consistency is a little stronger than eventual
                    consistency, as it uses the event causality relation (if you
                    forgot, it&rsquo;s the </span
                ><img src="assets/distributed-systems-and-networks/image8.png" /><span class="c1"
                    >&nbsp;a happened before b thing)</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >If it uses event causality, then yes, you guessed it, this
                    uses vector clocks.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Again, don&rsquo;t think about it too hard. Just keep in
                    mind that, because of vector clocks, we can tell if an
                    operation should go before another operation.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Because we use vector clocks, causal consistency has better
                    performance than sequential consistency.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_2ol0ytlk290l-0">
            <li class="c6 li-bullet-0">
                <span>Basically, causal consistency makes sure that if </span
                ><img src="assets/distributed-systems-and-networks/image8.png" /><span class="c1"
                    >, it&rsquo;ll be sure to execute operation a before
                    b.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >If we have two concurrent actions, then we don&rsquo;t
                    really care; either way will do.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_2ol0ytlk290l-0">
            <li class="c6 li-bullet-0">
                <span class="c1">Let&rsquo;s have a short example:</span>
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 455.5px;
                    height: 129.08px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image106.png"
                    style="
                        width: 455.5px;
                        height: 129.08px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_gxhgdar8vv21-0 start">
            <li class="c6 li-bullet-0">
                <span>Now, if node 3&rsquo;s first </span
                ><span class="c4">read(x)</span
                ><span>&nbsp;is a response to node 1&rsquo;s </span
                ><span class="c4">write(x, 1)</span
                ><span
                    >, then when the replicas receive the operations to perform
                    on their data, they&rsquo;ll make sure to execute node
                    1&rsquo;s </span
                ><span class="c4">write(x, 1)</span
                ><span>&nbsp;and then node 3&rsquo;s </span
                ><span class="c4">read(x)</span><span class="c1">.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Assuming that all other operations are concurrent,
                    it&rsquo;ll do them in any order. Because they&rsquo;ll do
                    them in any order, causal consistency does not have a global
                    order, making it less consistent than sequential or strong
                    consistency.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.1tv0hbr3nq8o">
            <span class="c45">Eventual consistency</span>
        </h3>
        <ul class="c2 lst-kix_1wgm33q6d52t-0 start">
            <li class="c6 li-bullet-0">
                <span>Eventual consistency is </span
                ><span class="c29">lazy</span><span>; it&rsquo;ll </span
                ><span class="c14">eventually</span
                ><span class="c1">&nbsp;update the replicas.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >But the implementation is easy; all you need to do is
                    guarantee that updates actually reach the replicas!</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >However, we can have conflicts. If we do have conflicts, we
                    can either:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_1wgm33q6d52t-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >use a consensus algorithm to decide, say, which write came
                    first</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">roll back to previous configuration</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >delegate the problem to the application (let them handle
                    it)</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_1wgm33q6d52t-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Amazon&rsquo;s Dynamo uses the delegation solution to
                    conflicts.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_1wgm33q6d52t-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The main things about eventual consistency is that replicas
                    eventually reach equivalent states, and that reads may not
                    be up-to-date straight away.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The good thing is that the reads and writes are fast,
                    because they happen in the background (they&rsquo;re not
                    such a huge priority), and this can work even if the network
                    is partitioned.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The bad thing is that consistency is very weak and we still
                    need consensus anyway for conflicts.</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 234.5px;
                    height: 190.14px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image198.gif"
                    style="
                        width: 234.5px;
                        height: 190.14px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c56">
            <span class="c146 c29">Garfield</span
            ><span class="c146">: Eventual consistency in cat form</span>
        </p>
        <h3 class="c5" id="h.ev2pz7bfifpv">
            <span class="c45">Strong eventual consistency</span>
        </h3>
        <ul class="c2 lst-kix_gcicxr448x7o-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >I know you don&rsquo;t have to learn this, but it&rsquo;s
                    just one sentence.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >There&rsquo;s a good compromise between all of these
                    models; it&rsquo;s called </span
                ><span class="c29">strong eventual consistency</span
                ><span class="c1">.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >That&rsquo;s all. Have fun with Leonardo&rsquo;s
                    section!</span
                >
            </li>
        </ul>
        <h1 class="c92" id="h.zgix7alqil4t">
            <span class="c135 c125 c166">Other stuff (Leonardo)</span>
        </h1>
        <h2 class="c44" id="h.irftd5msdrwn">
            <span class="c9">Data Replication and Scalability</span>
        </h2>
        <h3 class="c5" id="h.s9gtawjj2i23">
            <span class="c45">Data Replication</span>
        </h3>
        <ul class="c2 lst-kix_a06lgyf7t94r-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >We can replicate data on multiple servers.</span
                >
            </li>
            <li class="c6 li-bullet-0"><span class="c1">Why do that?</span></li>
        </ul>
        <ul class="c2 lst-kix_a06lgyf7t94r-1 start">
            <li class="c0 li-bullet-0">
                <span class="c30">Fault tolerance</span
                ><span class="c1"
                    >: if one server crashes, the other one can still serve
                    requests</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c30">Load balancing</span
                ><span class="c1"
                    >: we can distribute the pressure of requests</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c30">Location</span
                ><span class="c1"
                    >: we can place servers near users and increase
                    performance</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_a06lgyf7t94r-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >However, if we repeat data, how do we keep all the data on
                    all the servers the same?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>How do we achieve </span
                ><span class="c14">consistency</span><span class="c1">?</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Also, we want our service to be available if there is at
                    least one server that&rsquo;s up.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>How do we achieve </span
                ><span class="c14">availability</span><span>?</span>
            </li>
        </ul>
        <h4 class="c80" id="h.auc8kcl9eb5r">
            <span class="c110 c59">Primary-backup</span>
        </h4>
        <ul class="c2 lst-kix_9ek2lpscf4r4-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This is one design choice that allows consistency and
                    availability.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >There is one primary server and multiple backup servers
                    (linked through a master-slave pattern)</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">It works like this:</span>
            </li>
        </ul>
        <ol class="c2 lst-kix_qq9u27dk79ww-0 start" start="1">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >A client sends a request to the primary server.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >If the primary server has already executed this request
                    before, we go to step 5.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Primary server executes request and stores response</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >If it&rsquo;s a write request, primary server updates and
                    notifies all the backup (slave) servers and waits for ACKs
                    (acknowledgements).</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Primary server sends response to client.</span>
            </li>
        </ol>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 310.5px;
                    height: 266.92px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image92.png"
                    style="
                        width: 310.5px;
                        height: 266.92px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_pqrqgldurbfq-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >So basically, we have a main server receiving all the
                    requests, and backup servers that are just updated with new
                    information on the fly.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_pqrqgldurbfq-0">
            <li class="c6 li-bullet-0">
                <span class="c39 c14"
                    >What happens when a backup server fails?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Easy; if a backup fails, it&rsquo;ll eventually be restored
                    / replaced, and then it&rsquo;ll update its state from one
                    of the other backups (if there is one), so we don&rsquo;t
                    overload the primary.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_pqrqgldurbfq-0">
            <li class="c6 li-bullet-0">
                <span class="c39 c14">When the primary fails...</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_pqrqgldurbfq-1 start">
            <li class="c0 li-bullet-0">
                <span class="c39 c14">... how do we pick a new primary?</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >We can use an election algorithm to pick someone as a
                    primary.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span
                    >Since we need elections, and elections solve consensus, and
                    it&rsquo;s impossible to have a consensus algorithm in an </span
                ><span>asynchronous</span
                ><span class="c1"
                    >&nbsp;system, we know that primary-backup networks need to
                    be synchronous! I just thought I&rsquo;d tell you
                    that.</span
                >
            </li>
        </ul>
        <p class="c20 c22"><span class="c1"></span></p>
        <ul class="c2 lst-kix_pqrqgldurbfq-1">
            <li class="c0 li-bullet-0">
                <span class="c39 c14"
                    >... how do clients know who the new primary is?</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >The primary can register itself as the primary with a name
                    service that clients consult.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Basically, there&rsquo;s some service that the client asks
                    &ldquo;who&rsquo;s the primary?&rdquo; and the service goes
                    &ldquo;that guy&rdquo;. The new primary can tell that
                    service &ldquo;hey, I&rsquo;m the new primary
                    now&rdquo;.</span
                >
            </li>
        </ul>
        <p class="c20 c22"><span class="c1"></span></p>
        <ul class="c2 lst-kix_pqrqgldurbfq-1">
            <li class="c0 li-bullet-0">
                <span class="c39 c14"
                    >... what happens to pending requests?</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Clients resend the requests after a certain timeout, if
                    they don&rsquo;t get their response.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >If the previous primary already executed and propagated
                    that request, then we&rsquo;ll just go to step 2 and
                    respond.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >If not, then we just execute the request as normal with the
                    new primary.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_pqrqgldurbfq-0">
            <li class="c6 li-bullet-0">
                <span class="c39 c14"
                    >How many server failures can be tolerated?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >With N servers, up to N - 1 server failures can be
                    tolerated (because we always need at least 1 server
                    up)</span
                >
            </li>
        </ul>
        <a id="id.768etqqqnn0v"></a>
        <h4 class="c80" id="h.xniylo12j7c7">
            <span class="c59 c110">CAP theorem</span>
        </h4>
        <ul class="c2 lst-kix_n77enfzgivbn-0 start">
            <li class="c6 li-bullet-0">
                <span
                    >If you&rsquo;ve read the previous sections, you already
                    know what the </span
                ><span class="c29">CAP theorem</span
                ><span class="c1"
                    >&nbsp;is, but I&rsquo;ll go into a bit more detail
                    here:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_n77enfzgivbn-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">C</span><span>onsistency</span
                ><span class="c1">:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_n77enfzgivbn-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >All replicas are synchronised to have the same state</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span
                    >There must exist a total order of operations that is
                    applied to all replicas </span
                ><span class="c23"
                    >(e.g. one guy can&rsquo;t do operations in the order A B C
                    and another do A C B, everyone has to do it in the same
                    order)</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span
                    >If a read operation happens after a write, that read
                    operation has to return the value in that write </span
                ><span class="c23"
                    >(which may seem trivial, but if you remember from
                    consistency models, this isn&rsquo;t always the case)</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 403.42px;
                    height: 238.01px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image175.png"
                    style="
                        width: 403.42px;
                        height: 238.01px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_n77enfzgivbn-1">
            <li class="c0 li-bullet-0">
                <span class="c29">A</span><span>vailability</span
                ><span class="c1">:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_n77enfzgivbn-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >Requests are served as long as at least 1 server is
                    up</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >Every request received by a non-failing node must result in
                    a response</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 371.5px;
                    height: 197.8px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image139.png"
                    style="
                        width: 371.5px;
                        height: 197.8px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_n77enfzgivbn-1">
            <li class="c0 li-bullet-0">
                <span class="c29">P</span><span>artition</span
                ><span class="c29">&nbsp;</span><span>tolerance</span
                ><span class="c1">:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_n77enfzgivbn-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >The data store keeps working if the servers are
                    partitioned</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >In other words, the system needs to keep functioning even
                    if two nodes lose communications with each other</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c1"
                    >Let&rsquo;s say we got nodes A and B. They&rsquo;re synced
                    with each other and everything&rsquo;s dandy. But, oh no!
                    Here comes Gennaro with his rifle, and he accidentally
                    shoots the communication cable between A and B while aiming
                    for a fly! If we have partition tolerance, our system can
                    still work and execute requests, even with A and B being
                    independent from each other.</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 371.5px;
                    height: 204.27px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image124.png"
                    style="
                        width: 371.5px;
                        height: 204.27px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_n77enfzgivbn-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It&rsquo;s impossible to have all 3, we can only have at
                    most 2.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Why? Here is a short proof by contradiction.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_n77enfzgivbn-0">
            <li class="c6 li-bullet-0">
                <span class="c39 c14">Proof why CAP theorem is true</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Let&rsquo;s say all three are true; we have consistency,
                    availability and partition tolerance.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Plus, we have nodes A and B, and a data value x = 0
                    initially.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >We&rsquo;ve got one client who can write to x and read
                    x.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >A and B are independent, and our system still works because
                    we have partition tolerance.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Now, our client will write x = 2 to our node A (and A will
                    acknowledge):</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 170.31px;
                    height: 178.7px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image74.png"
                    style="
                        width: 170.31px;
                        height: 178.7px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_be7qbljrngti-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >A can&rsquo;t tell B about this write, because
                    they&rsquo;re independent.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Now the client will read x from node B:</span>
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 170.31px;
                    height: 213.33px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image70.png"
                    style="
                        width: 170.31px;
                        height: 213.33px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_uyfcmkv43jcc-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Uh oh! The client has read &lsquo;0&rsquo; instead of
                    &lsquo;2&rsquo;.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This breaks our rule of consistency, because as we&rsquo;ve
                    said before, if a read occurs after a write, that read has
                    to return the value of that write.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >As you can see, if we have all three rules, we&rsquo;ve got
                    problems.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >However, we can have two out of three. Let&rsquo;s have a
                    look at those:</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_uyfcmkv43jcc-0">
            <li class="c6 li-bullet-0">
                <span class="c39 c14"
                    >AP (availability, partition tolerance) systems</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >We give up consistency to always be available and to
                    partition our system.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >So, basically, it&rsquo;s exactly like our proof
                    above.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Is there anything close to consistency that AP can
                    provide?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Well, there is partially synchronous networks, where
                    we&rsquo;re synchronous in &ldquo;periods&rdquo;, and
                    asynchronous every other time.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >So our nodes will eventually become consistent.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Eventual consistency is a good example of this.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_uyfcmkv43jcc-0">
            <li class="c6 li-bullet-0">
                <span class="c39 c14"
                    >CP (consistency, partition tolerance) systems</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >We give up availability to have consistency and partition
                    tolerance.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >When our nodes lose connection with each other, we respond
                    to requests with a &ldquo;FAIL&rdquo; message until
                    they&rsquo;re back together.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >So in that proof above, instead of writing 2 to x, or
                    returning a &lsquo;0&rsquo; when asking for the data value
                    x, A and B would&rsquo;ve just said
                    &ldquo;FAIL&rdquo;.</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 219.5px;
                    height: 216.92px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image82.png"
                    style="
                        width: 219.5px;
                        height: 216.92px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_p6ykzooxzkzz-0 start">
            <li class="c6 li-bullet-0">
                <span class="c39 c14"
                    >CA (consistency, availability) systems</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This one&rsquo;s a weird one, because here, we don&rsquo;t
                    have partition tolerance.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This means we don&rsquo;t &ldquo;support&rdquo; partition
                    tolerance.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It doesn&rsquo;t mean we continue working when nodes are
                    separated, or we fail when nodes are separated. It means our
                    system is built such that the concept of &ldquo;separating
                    nodes&rdquo; doesn&rsquo;t exist.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This is only applicable to single-site systems (like
                    datacenters) which are not likely to experience network
                    partitions.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >But if we have a single-site system, that defeats the
                    purpose of thinking about data replication!</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >In a distributed system, you cannot give up partition
                    tolerance: </span
                ><span class="c14 c72"
                    ><a
                        class="c3"
                        href="https://www.google.com/url?q=https://codahale.com/you-cant-sacrifice-partition-tolerance/&amp;sa=D&amp;source=editors&amp;ust=1623675395073000&amp;usg=AOvVaw1XN9fQRPq9Pj2RUlfNWvMJ"
                        >https://codahale.com/you-cant-sacrifice-partition-tolerance/</a
                    ></span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >So CA isn&rsquo;t really an option. We mainly care about
                    choosing either consistency (CP) or availability (AP).</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.3os44en96vs">
            <span class="c45">Scalability</span>
        </h3>
        <ul class="c2 lst-kix_yayx7cv9zt2m-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">What is scalability?</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">Scalability</span
                ><span class="c1"
                    >: the ability to handle increased workload without adding
                    resources to a system, or to handle increased workload by
                    repeatedly applying a cost-effective strategy for extending
                    a system&rsquo;s capacity.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Basically, it means your system can handle lots of work at
                    one time.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_yayx7cv9zt2m-0">
            <li class="c6 li-bullet-0">
                <span class="c1">How do we assess scalability?</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">There are three steps:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_yayx7cv9zt2m-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">Scale parameters</span
                ><span class="c1"
                    >: the external parameters that change over time, the things
                    that affect scalability (number of clients, workload, number
                    of data objects etc.)</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Scalability metrics</span
                ><span class="c1"
                    >: stats and measurements of system properties based on
                    parameters</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_yayx7cv9zt2m-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c29">Latency</span
                ><span class="c1"
                    >: how long it takes to complete requests from POV of
                    clients</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c29">Throughput</span
                ><span class="c1"
                    >: how many requests per second are processed</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c29">Availability</span
                ><span class="c1"
                    >: probability that a system will work currently during a
                    certain period</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_yayx7cv9zt2m-1">
            <li class="c0 li-bullet-0">
                <span class="c29">Scalability criteria</span
                ><span class="c1"
                    >: expected scalability metric values (where your metrics
                    should be at. You wanna hit as many of these as you
                    can)</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_yayx7cv9zt2m-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1">Worst latency observed by 1% of requests</span>
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c29">Four nines availability</span
                ><span class="c1">: be available 99.99% of the time</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_yayx7cv9zt2m-3 start">
            <li class="c20 c98 li-bullet-0">
                <span>Sounds amazing but it&rsquo;s still around </span
                ><span class="c14 c72"
                    ><a
                        class="c3"
                        href="https://www.google.com/url?q=https://en.wikipedia.org/wiki/High_availability%23%2522Nines%2522&amp;sa=D&amp;source=editors&amp;ust=1623675395078000&amp;usg=AOvVaw2NHGeiCP_GzKCb-3ntPp87"
                        >53 minutes downtime per year</a
                    ></span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_yayx7cv9zt2m-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It&rsquo;s always cool to add stuff to your system to make
                    it more scalable, but...</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >... there&rsquo;s a point at which adding stuff
                    doesn&rsquo;t give you enough benefit to make it
                    worthwhile.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This is called the law of diminishing returns.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The more servers you add, the more scalable your network
                    is, right?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >But what if you had 9,357,572 servers, and you added one to
                    make it 9,357,573? Would that make much of a
                    difference?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Probably not. You need to strategize your scalability
                    tactics to be more effective!</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_yayx7cv9zt2m-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >One good scalability tactic is to identify bottlenecks and
                    mitigate them.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >For example, in the primary-backup model, there are two
                    bottlenecks:</span
                >
            </li>
        </ul>
        <ol class="c2 lst-kix_biawoybltzy5-0 start" start="1">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >The primary server, as it&rsquo;s the one handling all the
                    requests</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >The backup servers, as the primary needs to wait for all
                    the ACK signals</span
                >
            </li>
        </ol>
        <ul class="c2 lst-kix_kvcuh8g0vb8-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Here&rsquo;s what we can do to mitigate them:</span
                >
            </li>
        </ul>
        <ol class="c2 lst-kix_x3gbggeomq90-0 start" start="1">
            <li class="c0 li-bullet-0">
                <span>Share data on more than one </span><span>primary</span
                ><span class="c1">&nbsp;server</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Primary server only waits for majority of ACK signals</span
                >
            </li>
        </ol>
        <ul class="c2 lst-kix_ceglc1b305qb-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">But here&rsquo;s the drawbacks:</span>
            </li>
        </ul>
        <ol class="c2 lst-kix_mli8xly7focc-0 start" start="1">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >If there are data dependencies, we&rsquo;ll need
                    coordination amongst primary servers</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Not all backup servers might be up to date, and if the
                    primary fails and a backup server is elected that
                    isn&rsquo;t up to date yet, we&rsquo;ll have problems</span
                >
            </li>
        </ol>
        <ul class="c2 lst-kix_zbz28ryy0cxp-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Is it worth the risk? I don&rsquo;t know. I just write the
                    notes.</span
                >
            </li>
        </ul>
        <h2 class="c44" id="h.buvfd2innnt">
            <span class="c9"
                >Highly Available Distributed Data Stores (Amazon Dynamo)</span
            ><span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 162.5px;
                    height: 91.9px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image161.png"
                    style="
                        width: 162.5px;
                        height: 91.9px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </h2>
        <ul class="c2 lst-kix_ksqm60ngbedu-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">What is Amazon Dynamo?</span>
            </li>
            <li class="c6 li-bullet-0">
                <span>How does Amazon Dynamo work? </span
                ><span class="c88 c170">it just works</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It&rsquo;s a distributed key-value storage service run by
                    Amazon.</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_ksqm60ngbedu-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Key-value store means that data are stored such that each
                    value is mapped to a key, like how a map data structure
                    works</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_ksqm60ngbedu-0">
            <li class="c6 li-bullet-0">
                <span class="c1">It&rsquo;s used for things like:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_ksqm60ngbedu-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">Shopping carts</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Best seller list</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Customer preferences</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Product catalogue</span>
            </li>
        </ul>
        <p class="c20 c22"><span class="c1"></span></p>
        <ul class="c2 lst-kix_ksqm60ngbedu-0">
            <li class="c6 li-bullet-0">
                <span>Now, </span><span class="c14 c30">before you begin</span
                ><span class="c1"
                    >, keep this in mind: in the exam, it&rsquo;s not important
                    to know the intricate details! So if you don&rsquo;t exactly
                    understand how something works, don&rsquo;t worry too much.
                    You&rsquo;ll probably be asked things like &ldquo;How well
                    does Dynamo scale?&rdquo; or &ldquo;How is Dynamo an AP
                    system?&rdquo;, not something like &ldquo;When you have a
                    ring in Dynamo and you get some data and nodes A, B and C
                    are down and N = 10 and W = 5 and R = 4 and
                    lalalalalalalalalalathequestiongoesonforever&rdquo; so be
                    sure you understand the concepts of Dynamo, and don&rsquo;t
                    sweat it if you don&rsquo;t understand the underlying
                    mechanics too much.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This applies to every other system in Distributed Systems
                    &amp; Networks.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.cjb77gubwgnp">
            <span class="c45">Replication</span>
        </h3>
        <ul class="c2 lst-kix_g0r136gg8wjn-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Amazon Dynamo has the following interface:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_g0r136gg8wjn-1 start">
            <li class="c0 li-bullet-0"><span class="c25 c4">get(key)</span></li>
            <li class="c0 li-bullet-0">
                <span class="c25 c4">put(key, context, object)</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_g0r136gg8wjn-0">
            <li class="c6 li-bullet-0">
                <span
                    >It seems like something you&rsquo;d expect for a key-value
                    structure, except the </span
                ><span class="c4">context</span
                ><span class="c1">&nbsp;object.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >We&rsquo;ll go over that more in detail later, but
                    it&rsquo;s basically for specifying the version of the
                    object to update.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_g0r136gg8wjn-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >So what kind of structure is Amazon Dynamo?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It uses a Distributed Hash Table (DHT), but with a slight
                    adjustment.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Basically, we have a ring of nodes:</span>
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 245px;
                    height: 215.3px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image157.png"
                    style="
                        width: 245px;
                        height: 215.3px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_g0r136gg8wjn-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >When we put a key-value pairing (e.g. K -&gt; O), we hash
                    the key and it gets a respective position on the ring for
                    that key (think of it like the wheel of fortune; the key
                    points to a &ldquo;random&rdquo; (it&rsquo;s based on hash)
                    spot on the ring):</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 245px;
                    height: 237.74px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image218.png"
                    style="
                        width: 245px;
                        height: 237.74px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_7ntekpls01ue-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Now, that data object (key-value mapping) is replicated on
                    at least N nodes, from that position, clockwise (say that N
                    = 3, but we decide to replicate 5):</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 335px;
                    height: 242.29px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image111.png"
                    style="
                        width: 335px;
                        height: 242.29px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_ig9ra89lni5x-0 start">
            <li class="c6 li-bullet-0">
                <span>Those 5 nodes make up K&rsquo;s </span
                ><span class="c29">preference list</span
                ><span class="c1"
                    >, which is a list of nodes that is responsible for a
                    certain key.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>Each node is responsible for the keys </span
                ><span>between</span><span>&nbsp;itself and its N</span
                ><span class="c117">th</span
                ><span
                    >&nbsp;predecessor (e.g. D is responsible for keys whose
                    position lie between itself, D, and it&rsquo;s N</span
                ><span class="c117">th</span
                ><span class="c1"
                    >&nbsp;predecessor, A, because any keys that fall in that
                    range will be added to node D)</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >The reason why we pick more than N nodes is to account for
                    node failure, so if one of the first N nodes dies (B, C or
                    D), we can use the other nodes (E or F).</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.1huc5jhpws3v">
            <span class="c45">Consistency</span>
        </h3>
        <ul class="c2 lst-kix_ohboacu3n0f0-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Dynamo sacrifices consistency for availability, but it can
                    have conflicts.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It ensures consistency by allowing changes to propagate to
                    other nodes in the background over time, making Dynamo a lot
                    like eventual consistency.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_ohboacu3n0f0-0">
            <li class="c6 li-bullet-0">
                <span class="c39 c14">How does Dynamo resolve conflicts?</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It resolves them at read time, so when you try to read
                    data, that&rsquo;s when the conflict is resolved.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >First, Dynamo tries to do it by itself using distinct data
                    versions (using vector clocks), but if it has trouble,
                    it&rsquo;ll send the client the list of versions.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_ohboacu3n0f0-0">
            <li class="c6 li-bullet-0">
                <span class="c39 c14"
                    >How does Dynamo&rsquo;s get / put requests work?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >First, Dynamo finds the first node in the preference list
                    for that key, which becomes the </span
                ><span class="c29">request coordinator</span
                ><span class="c1">.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >A request invokes the get / put operation on the first N
                    healthy nodes in the preference list (including the request
                    coordinator).</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Now here is where it gets complicated:</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Two numbers are picked, W and R.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >W is the minimum number of nodes that must perform the put
                    request</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >R is the minimum number of nodes that must perform the get
                    request</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">When doing a put request:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_ohboacu3n0f0-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Request coordinator performs put locally, then sends the
                    new version to the other N - 1 nodes.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Once the request coordinator gets W - 1 responses, then the
                    write is successful</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_ohboacu3n0f0-0">
            <li class="c6 li-bullet-0">
                <span class="c1">When doing a get request:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_ohboacu3n0f0-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Request coordinator asks all other N - 1 nodes.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Once the request coordinator gets R - 1 responses, then the
                    read is successful. If different versions are found, we
                    return all those that are causally unrelated (concurrent)
                    (basically, a byproduct of syntactic reconciliation).</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_ohboacu3n0f0-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >So, basically, when we write, W out of N nodes are updated,
                    and when we read we consider R out of N nodes&rsquo; read
                    operations.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Which nodes out of N are picked? The ones that respond
                    first, usually.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_ohboacu3n0f0-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >There are several combinations we can get out of
                    this:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_ohboacu3n0f0-1 start">
            <li class="c0 li-bullet-0">
                <img src="assets/distributed-systems-and-networks/image58.png" /><span class="c1"
                    >&nbsp;- can return stale versions of the object</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <a id="t.a7f1b1f227144cedb4f84add81fc344c4fe9bf8c"></a><a id="t.27"></a>
        <table class="c18">
            <tbody>
                <tr class="c33">
                    <td class="c34 c41" colspan="1" rowspan="1">
                        <p class="c16"><span class="c21">Image</span></p>
                    </td>
                    <td class="c34 c41" colspan="1" rowspan="1">
                        <p class="c16"><span class="c21">Explanation</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c56">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 226.17px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image216.png"
                                    style="
                                        width: 286px;
                                        height: 226.17px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >Here, we&rsquo;re putting K = 2 into their
                                respective nodes. Since W = 2, we&rsquo;ll only
                                accept 2 node responses. The green nodes are the
                                nodes that have sent write responses first,
                                filling up our W window.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c1"
                                >For some reason, the request does not reach D,
                                E and F.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c56">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 226.17px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image211.png"
                                    style="
                                        width: 286px;
                                        height: 226.17px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >Here, we&rsquo;re trying to get K. However,
                                node D responds because B and C are down. Now
                                we&rsquo;ve got a stale version of K!</span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_ohboacu3n0f0-1">
            <li class="c0 li-bullet-0">
                <img src="assets/distributed-systems-and-networks/image59.png" /><span class="c1"
                    >&nbsp;- when we read, we can get multiple versions, leading
                    to a quorum-like system</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <a id="t.f752160e46061eff78588862867e2187f00c728a"></a><a id="t.28"></a>
        <table class="c18">
            <tbody>
                <tr class="c33">
                    <td class="c34 c41" colspan="1" rowspan="1">
                        <p class="c16"><span class="c21">Image</span></p>
                    </td>
                    <td class="c34 c41" colspan="1" rowspan="1">
                        <p class="c16"><span class="c21">Explanation</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c56">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 226.17px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image190.png"
                                    style="
                                        width: 286px;
                                        height: 226.17px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >Like last time, we&rsquo;re putting K = 2 into
                                their respective nodes. Since W = 2, we&rsquo;ll
                                only write to the 2 most available nodes. The
                                green nodes are the nodes that have written the
                                update.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c56">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 226.17px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image67.png"
                                    style="
                                        width: 286px;
                                        height: 226.17px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >Here, we&rsquo;re trying to get K. B goes down,
                                and R = 2, so we&rsquo;ll fetch the values C and
                                D have. They&rsquo;re two different versions:
                                one is old and one is new!</span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_ohboacu3n0f0-1">
            <li class="c6 li-bullet-0">
                <img src="assets/distributed-systems-and-networks/image60.png" /><span class="c1"
                    >&nbsp;- optimise reading (because only one node is doing
                    it)</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <img src="assets/distributed-systems-and-networks/image61.png" /><span class="c1"
                    >&nbsp;- optimise writing (because only one node is doing
                    it)</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_ohboacu3n0f0-1">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >When R = 1 or W = 1, it&rsquo;s quicker, but we have less
                    consistency.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >For better latency, R and W are usually configured to be
                    less than N.</span
                >
            </li>
        </ul>
        <p class="c20 c22"><span class="c1"></span></p>
        <ul class="c2 lst-kix_ohboacu3n0f0-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >There&rsquo;s a problem with this, though!</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >A put operation may return before all the nodes are
                    updated, so get operations may return outdated
                    objects.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_ohboacu3n0f0-0">
            <li class="c6 li-bullet-0">
                <span class="c1">How do we fix this?</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">We use versioning!</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Basically, if we try to update an object that hasn&rsquo;t
                    finished updating yet, we create a branch, similar to
                    Git.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >We need to diverge the branches; we don&rsquo;t want to
                    deal with lots of branches!</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">There&rsquo;s two ways to diverge them:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_ohboacu3n0f0-1 start">
            <li class="c0 li-bullet-0">
                <span class="c39 c14">Syntactic reconciliation</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >If the new version subsumes the previous version, then
                    reconciliation is easy.</span
                >
            </li>
        </ul>
        <p class="c20 c22"><span class="c1"></span></p>
        <ul class="c2 lst-kix_ohboacu3n0f0-1">
            <li class="c0 li-bullet-0">
                <span class="c39 c14">Semantic reconciliation</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >If there&rsquo;s a bigger conflict, then we will send the
                    branches to the client and the client will take care of
                    it.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >For example, with a shopping cart, we would union the
                    carts; the data from adding to a cart is never lost but
                    deleted cart items may resurface</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >With each version of the object, a vector clock is
                    attached.
                </span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >The vector clock slots consist of a pair, containing the
                    node ID and the update count.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >The context object we talked about before contains vector
                    clock information.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >When we send branches to the client, we also send their
                    vector clock information.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_ohboacu3n0f0-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Can we see this in action? Of course we can!</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <a id="t.25b7a7da596ef05aba47676840e89963889e2ddb"></a><a id="t.29"></a>
        <table class="c18">
            <tbody>
                <tr class="c33">
                    <td class="c34 c41" colspan="1" rowspan="1">
                        <p class="c16"><span class="c21">Image</span></p>
                    </td>
                    <td class="c34 c41" colspan="1" rowspan="1">
                        <p class="c16"><span class="c21">Description</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c56">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 150px;
                                    height: 72px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image214.png"
                                    style="
                                        width: 150px;
                                        height: 72px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >Here, we write Object #1, written as O1, by
                                node Sx. This is the first time Sx has written
                                anything, so it gets the value of
                                &lsquo;1&rsquo; in its vector clock spot.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c56">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 150px;
                                    height: 198px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image122.png"
                                    style="
                                        width: 150px;
                                        height: 198px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >Here, we overwrite the object with #2, also
                                done by node Sx. As a result, the update count
                                for Sx is now 2.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c56">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 150px;
                                    height: 192px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image71.png"
                                    style="
                                        width: 150px;
                                        height: 192px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >We write yet again, to object #3. This time,
                                node Sy does it, so Sx&rsquo;s counter stays at
                                2, and Sy&rsquo;s counter becomes 1.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c56">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 189.5px;
                                    height: 169.29px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image220.png"
                                    style="
                                        width: 189.5px;
                                        height: 169.29px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >Here&rsquo;s where things get interesting
                                though: Sy&rsquo;s writes are taking a long
                                time. Maybe there&rsquo;s lag. Anyway, the
                                client overwrites with #4 and Sz, a new node,
                                writes that.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c1"
                                >Now, a new branch has been formed, because
                                there were two changes to the same version,
                                #2.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c56">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 189.5px;
                                    height: 236.08px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image113.png"
                                    style="
                                        width: 189.5px;
                                        height: 236.08px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >Now we&rsquo;re doing a new read. The client
                                finds out that there&rsquo;s a conflict and
                                there&rsquo;s branches to join together.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c1"
                                >The client fixes the conflict and pushes object
                                #5. The vector clock still takes into account
                                who has updated the object in all
                                branches.</span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c20 c40"><span class="c1"></span></p>
        <h3 class="c5" id="h.1huc5jhpws3v-39">
            <span class="c45">Fault tolerance</span>
        </h3>
        <ul class="c2 lst-kix_x1bvprafg42-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">How does Dynamo handle faults?</span>
            </li>
            <li class="c6 li-bullet-0">
                <span>It uses something called </span
                ><span class="c29">sloppy quorum</span
                ><span class="c1"
                    >.( &#865;&deg; &#860;&#662; &#865;&deg;)</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_x1bvprafg42-0">
            <li class="c6 li-bullet-0">
                <span
                    >Basically, if A temporarily goes down, and we want to do
                    some put request, we&rsquo;ll send the update to </span
                ><span>D, and D</span
                ><span class="c1">&nbsp;will do the put request instead.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span>The reason why we don&rsquo;t send it to B or C is </span
                ><span
                    >because B becomes the new coordinator, hence B and C would
                    know of the operation.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Then, when A is back online, D will tell A about the
                    update.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The update has a hint in its metadata that suggests which
                    node was the intended recipient, so D is able to know to
                    inform A of the update.</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 246px;
                    height: 276.84px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image182.png"
                    style="
                        width: 246px;
                        height: 276.84px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_4e81scouql7u-0 start">
            <li class="c6 li-bullet-0">
                <span>This is called </span
                ><span class="c29">hinted handoff</span
                ><span class="c1">.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >This way, Dynamo ensures that get/put requests do not fail
                    due to node/network failures.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Additionally, we can achieve the highest level of
                    availability if we set W to 1, since we only need one node
                    to be available to write anything.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_4e81scouql7u-0">
            <li class="c6 li-bullet-0">
                <span>Dynamo also has something called </span
                ><span class="c29">replica synchronisation</span
                ><span class="c1"
                    >, where a periodic protocol runs in the background and
                    ensures data is synchronised between nodes.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">It&rsquo;s based on Merkle trees.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It solves the problem of node D failing before it can
                    update node A in hinted handoff.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.1huc5jhpws3v-40">
            <span class="c45">Why is Amazon Dynamo AP?</span>
        </h3>
        <ul class="c2 lst-kix_4h6qsihbh6n-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Sloppy quorum allows Dynamo to serve even when nodes go
                    offline</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Additionally, there are consistency conflicts, so
                    it&rsquo;s definitely not CP.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">They&rsquo;re resolved through:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_4h6qsihbh6n-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">Syntactic / semantic reconciliation</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Replica synchronisation</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_4h6qsihbh6n-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >So eventually all replicas will converge, which means it
                    follows eventual consistency.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.1huc5jhpws3v-41">
            <span class="c45">Scalability</span>
        </h3>
        <ul class="c2 lst-kix_x5llqmz0mf3z-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Since the keys are dotted around the ring when hashed, data
                    is distributed amongst the nodes pretty well.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It&rsquo;s also really easy to add nodes to the ring!</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Let&rsquo;s show an example:</span>
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 245px;
                    height: 215.3px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image157.png"
                    style="
                        width: 245px;
                        height: 215.3px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_8b6035di3tyd-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">Remember our first example?</span>
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >N is 3, so B is in charge of keys landing anywhere between
                    F and B.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>C</span
                ><span class="c1"
                    >&nbsp;is in charge of keys between G and C.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>D is in charge of keys between A and D.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">What if we add a node X between A and B?</span>
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 245px;
                    height: 240.23px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image72.png"
                    style="
                        width: 245px;
                        height: 240.23px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_uwwlwzouizpt-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >B isn&rsquo;t in charge of F to B keys anymore; it&rsquo;s
                    in charge of G to B, because X has distanced B away from
                    F!</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">C is now in charge of A to C</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">D is now in charge of X to D</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Since B is no longer in charge of any keys between F to G,
                    B can send all those keys to X, because X is now in charge
                    of them.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Additionally, C will send all keys from G to A to
                    X...</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >... and D will send all keys from A to X to X.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_uwwlwzouizpt-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >That&rsquo;s it! Now everything is stable again.
                </span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Dynamo is scalable; the more nodes you add, the less keys
                    each node has to remember.</span
                >
            </li>
        </ul>
        <h2 class="c44" id="h.2cnf1wgypqs">
            <span class="c9"
                >Consistent Distributed Data Stores (Google BigTable)</span
            >
        </h2>
        <ul class="c2 lst-kix_xcn3efsnpflv-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >BigTable, like Amazon Dynamo, is a service that Google
                    provides that stores data.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Google uses it themselves, for things like Google Earth and
                    Google Finance.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.rdazez63q4xf">
            <span class="c45">Data model</span>
        </h3>
        <ul class="c2 lst-kix_2cjles77xh5v-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">BigTable fulfils five properties:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_2cjles77xh5v-1 start">
            <li class="c0 li-bullet-0">
                <span class="c30">Sparse</span
                ><span class="c1"
                    >: NULL values aren&rsquo;t stored, to save space</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c30">Distributed</span
                ><span class="c1">: data is distributed amongst nodes</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c30">Persistent</span
                ><span class="c1">: data is saved on stable storage</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c30">Multi-dimensional</span
                ><span class="c1"
                    >: data is indexed by row, column and timestamp</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c30">Sorted</span
                ><span class="c1"
                    >: data is stored on disk in some defined order</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_2cjles77xh5v-0">
            <li class="c6 li-bullet-0">
                <span class="c1">So how does BigTable actually work?</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Well, you know tables, right? I hope you know what a table
                    is.</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <a id="t.4bb383744cf54bbb636aee7c80d6a7c43540d5b4"></a><a id="t.30"></a>
        <table class="c18">
            <tbody>
                <tr class="c33">
                    <td class="c41 c99" colspan="1" rowspan="1">
                        <p class="c16"><span class="c21">ID</span></p>
                    </td>
                    <td class="c36" colspan="1" rowspan="1">
                        <p class="c16"><span class="c21">Name</span></p>
                    </td>
                    <td class="c149 c41" colspan="1" rowspan="1">
                        <p class="c16"><span class="c21">Part</span></p>
                    </td>
                    <td class="c116 c41" colspan="1" rowspan="1">
                        <p class="c16"><span class="c21">Stand</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c99" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">1</span></p>
                    </td>
                    <td class="c136" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">Jotaro Kujo</span></p>
                    </td>
                    <td class="c149" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">3</span></p>
                    </td>
                    <td class="c116" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">Star Platinum</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c99" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">2</span></p>
                    </td>
                    <td class="c136" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1">Josuke Higashikata</span>
                        </p>
                    </td>
                    <td class="c149" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">4</span></p>
                    </td>
                    <td class="c116" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">Crazy Diamond</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c99" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">3</span></p>
                    </td>
                    <td class="c136" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1">Giorno Giovanna</span>
                        </p>
                    </td>
                    <td class="c149" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">5</span></p>
                    </td>
                    <td class="c116" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1">Gold Experience</span>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_a435gmxjqcjs-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Well, in BigTable, categories are clumped together, so
                    instead of accessing a row with all its columns, you can
                    specify a row with a column family, containing columns that
                    are often requested together.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >For example, let&rsquo;s say Name and Part are clumped
                    together in a family.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >We could specify any row, and the family, and we would get
                    back data sets like:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_a435gmxjqcjs-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">1 : &ldquo;Jotaro Kujo&rdquo;, 3</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">2 : &ldquo;Josuke Higashikata&rdquo;, 4</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">3 : &ldquo;Giorno Giovanna&rdquo;, 5</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_a435gmxjqcjs-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Each cell can be timestamped, so if cells change, different
                    versions are created and timestamped.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >There&rsquo;s also a garbage collection scheme to either
                    keep only N versions available, or to delete versions past a
                    certain date.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_a435gmxjqcjs-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >There&rsquo;s also an implementation of BigTable called
                    WebTable, which Google uses to handle webpages.</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_a435gmxjqcjs-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">The row (ID) is the URL of the webpage.</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >The columns are the properties of the pages (content,
                    links, language etc.)</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >The cells are timestamped when the information is
                    retrieved</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_a435gmxjqcjs-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >There&rsquo;s also an anchor column family, which stores
                    references to the page (think Google PageRank).</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.rdazez63q4xf-42">
            <span class="c45">Architecture</span>
        </h3>
        <ul class="c2 lst-kix_6099q5wxnld0-0 start">
            <li class="c6 li-bullet-0">
                <span>Rows of column families are stored in </span
                ><span class="c29">tablets</span><span>, sorted by key.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >A tablet is like a storage unit that contains some
                    rows.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>A bunch of tablets are stored by a </span
                ><span class="c29">tablet server</span><span class="c1">.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span>All the tablet servers are managed by a </span
                ><span class="c29">master server</span><span class="c1">.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Clients directly talk to the tablet servers and the master
                    server.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Clients ask the master server what tablets to talk to in
                    which server, and the client reads/writes data through the
                    tablets in the tablet servers.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_6099q5wxnld0-0">
            <li class="c6 li-bullet-0">
                <span class="c14">Caution</span><span>: </span
                ><span>The data isn&rsquo;t actually stored in the </span
                ><span>tablet</span
                ><span class="c1"
                    >! It points to the SSTables (files, see below), with the
                    corresponding data, within the GFS chunkservers (also see
                    below).</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >The data is only stored in the tablet from a logical
                    perspective, but the chunkservers of GFS are where the data </span
                ><span class="c30">really </span
                ><span class="c1">resides.</span>
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 436.09px;
                    height: 240.09px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image149.png"
                    style="
                        width: 436.09px;
                        height: 240.09px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_jnv9ickvrh71-0 start">
            <li class="c6 li-bullet-0">
                <span>BigTable has a file system, called </span
                ><span class="c29">GFS (Google File System)</span
                ><span class="c1">.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span>Files are divided into fixed-size </span
                ><span class="c29">chunks </span
                ><span class="c1"
                    >(of around 64MB), kind of like sectors on a disc.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>Chunks are replicated on multiple </span
                ><span class="c29">chunkservers </span
                ><span class="c1">(around 3).</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The master from before manages all the chunkservers, and
                    stores things like:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_jnv9ickvrh71-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Namespace (to help navigate the chunkservers)</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Access control information</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Mapping from files -&gt; chunks</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Mapping from chunks -&gt; chunkservers</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_jnv9ickvrh71-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Clients ask the master what chunkserver it should talk to,
                    and then the client talks to them (the client being
                    BigTable; actual clients don&rsquo;t talk to the GFS
                    system)</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The master can also cache queries by the client.</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 554.5px;
                    height: 329.94px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image179.png"
                    style="
                        width: 554.5px;
                        height: 329.94px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_mkm5x6qcdidw-0 start">
            <li class="c6 li-bullet-0">
                <span>There is one more unit called </span
                ><span class="c29">chubby</span
                ><span class="c1">. It&rsquo;s highly available.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Chubby is like a configuration server that stores all the
                    useful tidbits and parameters that BigTable requires to
                    function, such as:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_mkm5x6qcdidw-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Persistent concurrency locks for files and
                    directories</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Handle tablet server lifetimes</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Store schema information</span>
            </li>
            <li class="c0 li-bullet-0">
                <span>Ensures that there is at most one active master</span
                ><span class="c1">&nbsp;at any time</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_mkm5x6qcdidw-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It contains a small namespace with files and directories,
                    and reads/writes to files are atomic.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_mkm5x6qcdidw-0">
            <li class="c6 li-bullet-0">
                <span class="c1">The entire architecture looks like this:</span>
            </li>
        </ul>
        <p class="c20">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 552.1px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image80.png"
                    style="
                        width: 602px;
                        height: 552.1px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_mkm5x6qcdidw-0">
            <li class="c6 li-bullet-0">
                <span class="c1">What about scalability?</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c39 c14"
                    >What happens when there are more client requests?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Tablet servers receive more traffic, because clients
                    directly talk to them. With more traffic to tablet servers,
                    tablet servers are requesting the chuckservers more, so the
                    traffic of tablet servers are proportional to the traffic of
                    chunkservers.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >The master server only has as much traffic as there are
                    clients who need to know what tablet servers to talk to;
                    they&rsquo;re not as often spoken to as other servers, like
                    tablet servers or chunkservers, so they experience less
                    traffic.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_mkm5x6qcdidw-0">
            <li class="c6 li-bullet-0">
                <span class="c39 c14">What is the bottleneck?</span>
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >Tablet servers and GFS chunkservers, because they&rsquo;re
                    the ones that all the clients are requesting writes / reads
                    from.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_mkm5x6qcdidw-0">
            <li class="c6 li-bullet-0">
                <span class="c39 c14"
                    >What can be done to mitigate the bottleneck?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >You can add more tablet servers / chunkservers, so the data
                    is distributed more and there is less stress on individual
                    servers.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >However, the more tablet / chunk servers you have, the
                    closer their strain gets to the master&rsquo;s strain.
                    Sooner or later, the master&rsquo;s strain will be higher
                    than the tablet / chunk servers&rsquo; strain. If that
                    happens, the master itself will become the bottleneck! Plus,
                    it doesn&rsquo;t help that there are more servers to request
                    about from the master.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.rdazez63q4xf-43">
            <span class="c45">Tablets</span>
        </h3>
        <ul class="c2 lst-kix_pf793oly63zb-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">There are multiple levels of tablets:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_pf793oly63zb-1 start">
            <li class="c0 li-bullet-0">
                <span class="c30">First level</span
                ><span class="c1">: Chubby points to root tablet</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c30">Second level</span
                ><span class="c1"
                    >: Root tablet points to METADATA tablets</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c30">Third level</span
                ><span class="c1"
                    >: METADATA tablets point to user data tablets</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_pf793oly63zb-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The client library caches tablet locations and also
                    prefetches locations of tablets the user might want to use
                    next.</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 475.74px;
                    height: 397.5px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image89.png"
                    style="
                        width: 475.74px;
                        height: 397.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_7okt5qwi3vuc-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">The master server can keep track of:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_7okt5qwi3vuc-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">Mapping from tablets to tablet servers</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Unassigned tablets</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_7okt5qwi3vuc-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The master has a unique &ldquo;master lock&rdquo; in
                    chubby.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >If the chubby session expires, the master kills
                    itself.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >If the master dies, a new one is promptly started.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >When there is no master, client requests cannot be
                    served.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_7okt5qwi3vuc-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >When a tablet server starts, it acquires a lock in chubby,
                    in the form of a file in some server directory.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The master monitors this server directory to discover new
                    tablet servers.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The master detects if a tablet server isn&rsquo;t working
                    by:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_7okt5qwi3vuc-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">Asking the tablet server about its lock</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >If there is a problem, the master tries to get the
                    server&rsquo;s lock itself</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >If the master can get the lock, that means the chubby is
                    OK, it&rsquo;s the tablet server that&rsquo;s the
                    problem</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >When the tablet server has a problem, the master deletes
                    all the chubby files associated with it and moves the
                    associated tablets to the unassigned tablets.</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_7okt5qwi3vuc-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >If a tablet server loses its lock, it stops serving
                    requests. It&rsquo;ll try to acquire its lock again as long
                    as the file exists, but if the file does not exist, the
                    server will kill itself.</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 466.87px;
                    height: 239.5px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image174.png"
                    style="
                        width: 466.87px;
                        height: 239.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <h3 class="c5" id="h.rdazez63q4xf-44">
            <span class="c45">SSTables</span>
        </h3>
        <ul class="c2 lst-kix_m0nm34555uk1-0 start">
            <li class="c6 li-bullet-0">
                <span>An </span
                ><span class="c29">SSTable (Sorted Strings Table)</span
                ><span class="c1"
                    >&nbsp;is a file format used by BigTable to store
                    information.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It is a persistent, immutable ordered map from keys to
                    values.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Remember, it&rsquo;s immutable, so we write once and we
                    only read from it afterwards.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >We can either look up a single key or iterate over multiple
                    key-value pairs in a key range.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It&rsquo;s also split up into blocks, and we can use a
                    block index (which is at the end of an SSTable) to search
                    for blocks and load them in memory.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_m0nm34555uk1-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >So what happens when we write to a tablet?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>The </span><span class="c14">write operation</span
                ><span class="c1"
                    >&nbsp;goes into a buffer called
                    &ldquo;memtable&rdquo;.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >As we request more write operations, more goes into the
                    &ldquo;memtable&rdquo; buffer.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Older updates are stored in the SSTables.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The writes are also logged into a commit log.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>The </span><span class="c14">read operation</span
                ><span class="c1"
                    >&nbsp;is done by merging the memtable and all the SSTables
                    together to get a single value.</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 444.5px;
                    height: 231.11px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image134.png"
                    style="
                        width: 444.5px;
                        height: 231.11px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 449.5px;
                    height: 282.69px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image127.png"
                    style="
                        width: 449.5px;
                        height: 282.69px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_vdqwmmjsxcqd-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >So what happens to the operations in the memtable? How do
                    we create new SSTables?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>We have something called </span
                ><span class="c14">minor compaction</span
                ><span class="c1"
                    >, where we empty out the memtable into a new SSTable.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>We also have something called </span
                ><span class="c14">major compaction</span
                ><span class="c1"
                    >, where we compress all the SSTables and the memtable into
                    one big SSTable (like merging layers in Photoshop), so that
                    we don&rsquo;t end up with thousands of SSTables.</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 444.5px;
                    height: 147.47px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image168.png"
                    style="
                        width: 444.5px;
                        height: 147.47px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 444.5px;
                    height: 245.5px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image132.png"
                    style="
                        width: 444.5px;
                        height: 245.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <h3 class="c5" id="h.rdazez63q4xf-45">
            <span class="c45">Why is Google BigTable CP?</span>
        </h3>
        <ul class="c2 lst-kix_7rr0vdsoaawr-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Availability is given up in the following situations:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_7rr0vdsoaawr-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >If the master dies, no requests can be attended to</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >When a tablet server dies, the tablets that were handled by
                    that server cannot be used until they are reassigned</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >If chubby fails, no synchronisation or client
                    requests</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >If GFS fails, SSTables and commit logs cannot be
                    accessed</span
                >
            </li>
        </ul>
        <p class="c20 c22"><span class="c1"></span></p>
        <ul class="c2 lst-kix_7rr0vdsoaawr-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Consistency exists in the following situations:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_7rr0vdsoaawr-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Each row is managed by a single tablet server (requests are
                    serialised)</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Writes for a specific tablet to GFS are done by one tablet
                    (reads and writes are serialised)</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Writes to GFS are always appends (copy-on-write), so
                    concurrently there are no race conditions (because data is
                    immutable, for more info check PLC notes)</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >SSTables are write once and then read, so there&rsquo;s no
                    interleaving between reads and writes</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Commit logs are only read upon compactions and recoveries;
                    reads are not interleaved with writes</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_7rr0vdsoaawr-0">
            <li class="c6 li-bullet-0">
                <span class="c1">Therefore we have strong consistency.</span>
            </li>
        </ul>
        <h2 class="c44" id="h.2cnf1wgypqs-46">
            <span class="c9">Online Distributed Processing</span>
        </h2>
        <ul class="c2 lst-kix_9ct0tpeuc1ck-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >How do we process streams of data / event-based data
                    online?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Our process can&rsquo;t quit, because data streams are
                    continuous.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >There exists services to help us process data like
                    that!</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.8izg2egv9zen">
            <span class="c45">Use cases</span>
        </h3>
        <ul class="c2 lst-kix_ek74uzo0qfry-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It&rsquo;s used by Twitter to look at trends coming and
                    fading. That can be interpreted as a data stream, and trends
                    are happening all the time, so the system has to always be
                    on, running and parsing data.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It can also be used by Google Trends for search
                    queries.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It&rsquo;s also used for user profiling, bus routing,
                    sentiment analysis in tweet streams and fraud
                    monitoring.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.fwvlmvrufgx1">
            <span class="c45">Requirements</span>
        </h3>
        <ul class="c2 lst-kix_erk4eg646od1-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">So what do we actually need?</span>
            </li>
            <li class="c6 li-bullet-0"><span class="c1">We need:</span></li>
        </ul>
        <ul class="c2 lst-kix_erk4eg646od1-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">Real-time computing</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Low computation latency (do stuff fast)</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Correlation with fresh data (don&rsquo;t use old
                    stuff)</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Input loads can vary (be scalable)</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Hardware / software failures may occur (be fault
                    tolerant)</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.fsh8k5pbinat">
            <span class="c45">Apache Storm</span>
        </h3>
        <ul class="c2 lst-kix_wnmtzczhhsli-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Apache Storm is an implementation of this.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >It has an abstraction that can work with event-based data,
                    it can sustain high input streams and can parallelise
                    computation.</span
                >
            </li>
        </ul>
        <h4 class="c80" id="h.uosg4ci26v6u">
            <span class="c110 c59">Data model</span>
        </h4>
        <ul class="c2 lst-kix_wnmtzczhhsli-0">
            <li class="c6 li-bullet-0">
                <span class="c1">So how does it actually work?</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">It works like this:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_wnmtzczhhsli-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">Spout</span
                ><span class="c1"
                    >: outputs the raw data that we want to work on</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Bolt</span
                ><span class="c1"
                    >: modifies the data in some way and either passes it on to
                    another bolt, or stores it</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_wnmtzczhhsli-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The topology usually looks something like this:</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 443.5px;
                    height: 200.39px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image129.png"
                    style="
                        width: 443.5px;
                        height: 200.39px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_sns38ss3su07-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >For example, if we wanted to implement some word counting
                    example, we could have:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_sns38ss3su07-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">One spout for the raw data string</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">A bolt to split the string into words</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Another bolt to count the words</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_sns38ss3su07-0">
            <li class="c6 li-bullet-0">
                <span class="c1">So we have something like:</span>
            </li>
        </ul>
        <p class="c20">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 414.31px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image78.png"
                    style="
                        width: 602px;
                        height: 414.31px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <h4 class="c80" id="h.a89kwbu6xoxw">
            <span class="c110 c59">Architecture</span>
        </h4>
        <ul class="c2 lst-kix_m806wh6xhnk1-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >So that&rsquo;s the high-level stuff, what about the
                    low-level stuff?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >A storm cluster (one of the things we have above) consists
                    of one </span
                ><span class="c29">master </span><span>node and several </span
                ><span class="c29">worker </span><span class="c1">nodes.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The master node runs the Nimbus process, which manages all
                    the workers.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The worker nodes run Supervisor processes, as well as a
                    number of worker processes.</span
                >
            </li>
        </ul>
        <p class="c20">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 302.67px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image117.png"
                    style="
                        width: 602px;
                        height: 302.67px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_9j2txatgl29l-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The topology is submitted to the master, and the master
                    allocates a component for each Worker node using a
                    scheduler.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Each component can have multiple instances, and each
                    instance is mapped to an executor (a thread).</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Workers (processes) are run when the Worker node must run
                    executors for the given topology.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Each Worker node handles their own local input / output,
                    and the supervisor makes sure everything is running
                    alright.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The Nimbus handles potential failures and resource
                    usage.</span
                >
            </li>
        </ul>
        <h4 class="c80" id="h.8chkgu5o106j">
            <span class="c110 c59">Replication</span>
        </h4>
        <ul class="c2 lst-kix_tzrz1s7w9qfl-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Let&rsquo;s say you have a stream of integers and you
                    wanted to use this architecture to perform some operations
                    on it:</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 87.45px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image169.png"
                    style="
                        width: 602px;
                        height: 87.45px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_fe2i1kuyt9j2-0 start">
            <li class="c6 li-bullet-0">
                <span>The </span><span class="c145 c188">yellow</span
                ><span class="c1"
                    >&nbsp;operation is stateful, because it requires a state to
                    run (it needs to remember the previously highest
                    score)</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>The </span><span class="c60">red</span
                ><span class="c71">&nbsp;</span><span>and </span
                ><span class="c156 c138">orange</span
                ><span class="c1"
                    >&nbsp;operations are stateless; they are pure functions and
                    do not rely on some kind of memory or state.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Therefore, we can split the data we receive and replicate
                    these stateless functions to create a pipeline:</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 295.66px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image102.png"
                    style="
                        width: 602px;
                        height: 295.66px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_l1y4edl5s7tc-0 start">
            <li class="c6 li-bullet-0">
                <span
                    >We can replicate the same list of stateless operations as
                    many times as we want (within reason). The number of times
                    we do this is called the </span
                ><span class="c29">replication factor</span
                ><span class="c1">.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >We can apply this practice to Apache Storm, with spouts and
                    bolts:</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 496.5px;
                    height: 241.24px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image195.png"
                    style="
                        width: 496.5px;
                        height: 241.24px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_vhr61qtddx2m-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >When we have multiple spouts (like that Spout x8), nodes
                    won&rsquo;t be so clogged with input data; it&rsquo;ll be
                    distributed, so even if we receive an influx of data, our
                    system won&rsquo;t crash.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >When we have multiple bolts (like the Bolt x3, or the Bolt
                    x5), we are doing the same thing as the example above;
                    we&rsquo;re pipelining stateless operations to split up the
                    workload amongst multiple nodes.</span
                >
            </li>
        </ul>
        <h4 class="c80" id="h.3fincyjxzqgh">
            <span class="c110 c59">Stream grouping</span>
        </h4>
        <ul class="c2 lst-kix_n9g7jxb1fcyc-0 start">
            <li class="c6 li-bullet-0">
                <span
                    >But how do we split up the data to distribute? In the
                    example above, we just chopped the data in half and fed each
                    pipeline half the data. In practice, that may not be the
                    most efficient approach; we may be able to optimise our
                    splitting by choosing the right </span
                ><span class="c29">grouping strategy</span
                ><span class="c1">!</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Types of grouping strategies:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_n9g7jxb1fcyc-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">Shuffle</span
                ><span class="c1"
                    >: data is randomly distributed between pipelines</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Fields</span
                ><span class="c1"
                    >: pipes data based on some predicate on their fields</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">All</span
                ><span>: all data is distributed on all pipelines </span
                ><span class="c23"
                    >(may be useful if randomness is involved)</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">None</span><span>: you don&rsquo;t care </span
                ><span class="c23"
                    >(by default, this is the same as shuffle, but in the future
                    Apache Storm will change this)</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Direct</span
                ><span class="c1"
                    >: the producer of the data directly picks a pipeline
                    programmatically</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Local or shuffle</span
                ><span class="c1"
                    >: will shuffle and pipe data only to the target nodes that
                    are running on the same Worker node as the data source. If
                    there are none that fit that description, then it just works
                    like normal shuffle.</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_n9g7jxb1fcyc-0">
            <li class="c6 li-bullet-0">
                <span>Sources: </span
                ><span class="c14 c72"
                    ><a
                        class="c3"
                        href="https://www.google.com/url?q=http://storm.apache.org/releases/current/Concepts.html&amp;sa=D&amp;source=editors&amp;ust=1623675395210000&amp;usg=AOvVaw0BhTvez1BdrHPJ7imGnV8g"
                        >1</a
                    ></span
                ><span>&nbsp;</span
                ><span class="c14 c72"
                    ><a
                        class="c3"
                        href="https://www.google.com/url?q=http://www.corejavaguru.com/bigdata/storm/stream-groupings&amp;sa=D&amp;source=editors&amp;ust=1623675395211000&amp;usg=AOvVaw0IcDepbEGVvQL60Cxej4ID"
                        >2</a
                    ></span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_n9g7jxb1fcyc-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >These are Leo&rsquo;s slides, so you know what we&rsquo;ve
                    got to do...</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">How does Apache Storm scale?</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c39 c14"
                    >What happens when workload increases?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Computational stress increases for some spouts /
                    bolts</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_n9g7jxb1fcyc-0">
            <li class="c6 li-bullet-0">
                <span class="c39 c14">What is the bottleneck?</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The CPU or memory for overloaded spout / bolt
                    instances</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_n9g7jxb1fcyc-0">
            <li class="c6 li-bullet-0">
                <span class="c39 c14"
                    >What can be done to mitigate the bottleneck?</span
                >
            </li>
            <li class="c6 li-bullet-0"><span class="c1">Two things:</span></li>
        </ul>
        <ol class="c2 lst-kix_5dftc7pa0acg-0 start" start="1">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Increase the replication factor of overloaded spouts/bolts,
                    so we distribute the workload</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span
                    >Add more Worker nodes so more systems can run more
                    instances of the spouts/bolts, thereby distributing the
                    workload</span
                >
            </li>
        </ol>
        <h4 class="c80" id="h.3fincyjxzqgh-47">
            <span class="c110 c59">Fault tolerance</span>
        </h4>
        <ul class="c2 lst-kix_j8l9terlls9-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >A tuple can spark the production of multiple tuples in the
                    topology.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >When we say tuple, we just mean some input data (it&rsquo;s
                    mainly to account for multiple data elements residing within
                    one data unit)</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >What this means is that one piece of data going into the
                    topology can result in a whole tree of resulting data
                    units.</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 383.5px;
                    height: 406.49px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image90.png"
                    style="
                        width: 383.5px;
                        height: 406.49px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_z02ylm1og7bn-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >That looks like a mathematical structure...</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>That&rsquo;s a </span
                ><span class="c29">DAG (directed acyclic graph)</span
                ><span class="c1">!</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_z02ylm1og7bn-0">
            <li class="c6 li-bullet-0">
                <span>We have a component called an </span
                ><span class="c29">acker </span
                ><span class="c1"
                    >that monitors the DAG of each input tuple.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Each bolt sends an &ldquo;ack&rdquo; signal to the acker
                    when they correctly process each input tuple.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >When the acker receives this, it prunes the DAG at that
                    bolt&rsquo;s respective position.</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 427.5px;
                    height: 417.48px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image200.png"
                    style="
                        width: 427.5px;
                        height: 417.48px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_z02ylm1og7bn-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The acker goes along the bolts, from the finish to the
                    start, receiving acks and pruning the DAG, until
                    there&rsquo;s nothing left of the DAG.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >When the DAG is empty, the acker knows that the input tuple
                    was processed correctly. In that case, the acker notifies
                    the original spout of that input tuple for garbage
                    collection.</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 427.5px;
                    height: 166.48px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image120.png"
                    style="
                        width: 427.5px;
                        height: 166.48px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_z02ylm1og7bn-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >However, if there is a timeout and the DAG isn&rsquo;t
                    empty yet, the acker notifies the original spout about the
                    failure and the spout will replay the failed tuple.</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 427.5px;
                    height: 337.02px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image178.png"
                    style="
                        width: 427.5px;
                        height: 337.02px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_qevhjl5st9ru-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">What about when spouts/bolts fail?</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >If a worker dies, the supervisor restarts it (unless it
                    fails at boot time; then the Nimbus will reassign the work
                    to a different machine).</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >If a machine fails, the assigned instances will timeout and
                    the Nimbus will reassign them.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >If the Nimbus/Supervisors die, they are restarted</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_qevhjl5st9ru-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >They behave like a fail-fast process (better to die quickly
                    than to waste time in a half-working state)</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">They are stateless in practice</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_qevhjl5st9ru-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >There is no explicit state management for components in
                    Storm.</span
                >
            </li>
        </ul>
        <h2 class="c44" id="h.bqd7ou4iogdi">
            <span class="c9">Batch Distributed Processing</span>
        </h2>
        <ul class="c2 lst-kix_du4oxvrb7o2v-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >With online distributed processing, it&rsquo;s highly
                    complex and hard to maintain.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >With batch distributed processing, incoming data is stored;
                    not processed straight away.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">It&rsquo;s done in batches over time.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Therefore you can have a high input rate because it&rsquo;s
                    only being stored; it&rsquo;s computationally less expensive
                    than actually processing stuff.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >However, because everything is stored, batch might not be
                    suitable for real-time applications.</span
                >
            </li>
        </ul>
        <h3 class="c5" id="h.2jac3prkoa3z">
            <span class="c45">Implementation #1: Google MapReduce</span>
        </h3>
        <ul class="c2 lst-kix_kul5tepk2cua-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Logically, computation is split into two phases:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_kul5tepk2cua-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">Map</span><span>: </span
                ><span class="c4">(k, v) -&gt; list of (k</span
                ><span class="c4 c12">i</span><span class="c4">, v</span
                ><span class="c4 c12">i</span><span class="c25 c4">)</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Reduce</span><span>: </span
                ><span class="c4">(k, list of v</span
                ><span class="c4 c12">i</span
                ><span class="c25 c4">) -&gt; (k, v)</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_kul5tepk2cua-0">
            <li class="c6 li-bullet-0">
                <span class="c1">By doing this, we can simplify:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_kul5tepk2cua-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">Parallelisation</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Handling of machine failures</span>
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_jepknz440sqm-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >For example let&rsquo;s do a word count example</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Input: &ldquo;Deer Bear River Car Car River Deer Car
                    Bear&rdquo;</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Output: [(Bear, 2), (Car, 3), (Deer, 2), (River, 2)]</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">How do we do this with map and reduce?</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">It&rsquo;s actually 4 steps:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_jepknz440sqm-1 start">
            <li class="c0 li-bullet-0">
                <span class="c14">Splitting</span
                ><span class="c1"
                    >: split input text into paragraphs (e.g. 3 words
                    each)</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c14">Map</span
                ><span class="c1">: just map a word to the number 1</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c14">Shuffling</span
                ><span class="c1"
                    >: order the key-value mappings into groups of equal
                    keys</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c14">Reduce</span
                ><span class="c1"
                    >: count the number of mappings and reduce to one key mapped
                    to the count</span
                >
            </li>
        </ul>
        <p class="c20">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 252px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image95.png"
                    style="
                        width: 602px;
                        height: 252px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <h3 class="c5" id="h.fvi3vevreh0b">
            <span class="c45">Implementation #2: Apache Hadoop</span>
        </h3>
        <ul class="c2 lst-kix_z67qphanyfhm-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">Hadoop also does map and reduce</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >However it has a job tracker, which delegates jobs to task
                    trackers, which delegates tasks to task processes</span
                >
            </li>
        </ul>
        <p class="c20">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 484px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image65.png"
                    style="
                        width: 602px;
                        height: 484px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_6alzzcef511t-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Task trackers have a limited number of tasks</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >If full, tasks go into a queue and wait for other tasks to
                    finish</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c14">Bottleneck</span
                ><span class="c1"
                    >: if there&#39;re too many tasks and the task tracker
                    can&rsquo;t take them all, there will be too many tasks in
                    the queue.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Solution: add more task trackers (seems simple
                    enough)</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >If there&rsquo;s too many task trackers, job tracker will
                    become the bottleneck (unfortunately there&rsquo;s no
                    mitigation for that)</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_6alzzcef511t-0">
            <li class="c6 li-bullet-0">
                <span class="c39 c14"
                    >Hadoop Distributed File System (HDFS)</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Remember GFS with BigTable? This is kind of like
                    that.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>D</span
                ><span class="c1"
                    >ata is organised into files and directories.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">It&rsquo;s designed for:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_6alzzcef511t-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">Single writer</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Multiple readers</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_6alzzcef511t-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Data is replicated for optimisation, minimising data loss
                    and improving availability.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_6alzzcef511t-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Data is divided into chunks, usually of max size 64MB
                    (getting deja vu?)</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Each chunk is replicated over DataNodes (chunkserver
                    equivalent in BigTable)</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The replication factor of DataNodes is a configuration
                    parameter</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >The NameNode decides which chunk is stored in which
                    DataNode.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>When we </span><span class="c14">write</span
                ><span class="c1"
                    >, access the NameNode first, and then write to the
                    DataNote.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>When we </span><span class="c14">read</span
                ><span class="c1"
                    >, the NameNode picks out the closest DataNode for us.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_6alzzcef511t-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >What about splitting and shuffling that Google MapReduce
                    had?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Yes, Hadoop does that too.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Each mapper keeps its own output partitioned by key and
                    notifies the JobTracker about what keys it has.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Each reducer is informed by the JobTracker on what keys to
                    process and collects the corresponding data from
                    TaskTrackers.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_6alzzcef511t-0">
            <li class="c6 li-bullet-0">
                <span>Apache Hadoop has something called </span
                ><span class="c14">locality awareness</span
                ><span class="c1">.</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >In typical development, each TaskTracker is placed in a
                    machine with its own DataNode.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Mappers get their data from DataNodes. Wouldn&rsquo;t it be
                    a pain if the mappers had to fetch data from nodes all over
                    the network every time they wanted data?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >That&rsquo;s why the JobTracker assigns mappers to
                    TaskTrackers with DataNodes storing data that the respective
                    mapper needs.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >When that happens, the mapper doesn&rsquo;t need to fetch
                    their data from across the network; they can just do it
                    locally, saving lots of time and minimising data
                    movement.</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_6alzzcef511t-0">
            <li class="c6 li-bullet-0">
                <span class="c1">What happens when stuff fails?</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">If a task fails:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_6alzzcef511t-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">The JobTracker detects it</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Task is assigned to another TaskTracker</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >If a task fails more than a certain number of times, the
                    whole job fails</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >If a TaskTracker has too many failed tasks, it is
                    blacklisted</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_6alzzcef511t-0">
            <li class="c6 li-bullet-0">
                <span class="c1">If a TaskTracker fails:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_6alzzcef511t-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">It&rsquo;s blacklisted (obviously)</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >All the tasks for that TaskTracker are reassigned to
                    another TaskTracker</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_6alzzcef511t-0">
            <li class="c6 li-bullet-0">
                <span class="c1">If a JobTracker fails:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_6alzzcef511t-1 start">
            <li class="c0 li-bullet-0">
                <span>It&rsquo;s a single point of failure! </span
                ><span class="c88 c170">(basically, you&rsquo;re fucked)</span>
            </li>
        </ul>
        <h1 class="c92" id="h.yk8ehfw2m1oo">
            <span class="c135 c125 c166">TL;DR</span>
        </h1>
        <ul class="c2 lst-kix_fwv66lcebgf4-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Look! It&rsquo;s the reference guide of Computer
                    Science!</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Well, more specifically, Software Engineering MEng...</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">How are you doing today? Good?</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Studying hard?</span>
            </li>
            <li class="c6 li-bullet-0"><span class="c1">What? No?</span></li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >What&rsquo;s that, you say? The slides are crap and make
                    you want to commit not continue your lifespan any longer?
                    You&rsquo;re also too lazy to read the above notes because
                    you&rsquo;ve left revision to the last minute because you
                    have no self-control and regret your life choices?</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Scroll down. Don&rsquo;t worry, I gotchu.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >However, if you do have time, please read all of the above
                    notes at least once before you move on to this reference
                    section.</span
                >
            </li>
        </ul>
        <h2 class="c44" id="h.9zkkgt202lav">
            <span class="c9">Kirk&rsquo;s stuff</span>
        </h2>
        <a id="t.5a54635642b90c4634977adac98510fff93a2346"></a><a id="t.31"></a>
        <table class="c18">
            <tbody>
                <tr class="c33">
                    <td class="c76" colspan="1" rowspan="1">
                        <p class="c16"><span class="c21">OSI model</span></p>
                    </td>
                    <td class="c76" colspan="1" rowspan="1">
                        <p class="c16"><span class="c21">TCP/IP model</span></p>
                    </td>
                    <td class="c76" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c21">Tanenbaum&rsquo;s book</span>
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c76 c62" colspan="1" rowspan="1">
                        <p class="c16"><span class="c55">Application</span></p>
                    </td>
                    <td class="c57 c76" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c88 c168">Application</span>
                        </p>
                    </td>
                    <td class="c76 c77" colspan="1" rowspan="1">
                        <p class="c16"><span class="c32">Application</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c76 c142" colspan="1" rowspan="1">
                        <p class="c16"><span class="c55">Presentation</span></p>
                    </td>
                    <td class="c76 c174" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c88 c168">Transport</span>
                        </p>
                    </td>
                    <td class="c76 c89" colspan="1" rowspan="1">
                        <p class="c16"><span class="c32">Transport</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c76 c175" colspan="1" rowspan="1">
                        <p class="c16"><span class="c55">Session</span></p>
                    </td>
                    <td class="c76 c85" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c88 c168">Internet</span>
                        </p>
                    </td>
                    <td class="c76 c148" colspan="1" rowspan="1">
                        <p class="c16"><span class="c32">Network</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c76 c185" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c88 c153">Transport</span>
                        </p>
                    </td>
                    <td class="c76 c176" colspan="1" rowspan="1">
                        <p class="c16"><span class="c88 c140">Link</span></p>
                    </td>
                    <td class="c76 c150" colspan="1" rowspan="1">
                        <p class="c16"><span class="c58">Link</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c76 c83" colspan="1" rowspan="1">
                        <p class="c16"><span class="c88 c153">Network</span></p>
                    </td>
                    <td class="c76 c96" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c88 c140">Hardware</span>
                        </p>
                    </td>
                    <td class="c76 c129" colspan="1" rowspan="1">
                        <p class="c16"><span class="c58">Physical</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c76 c103" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c88 c153">Data Link</span>
                        </p>
                    </td>
                    <td class="c50" colspan="1" rowspan="1">
                        <p class="c16 c40"><span class="c1"></span></p>
                    </td>
                    <td class="c113" colspan="1" rowspan="1">
                        <p class="c16 c40"><span class="c1"></span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c76 c169" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c88 c153">Physical</span>
                        </p>
                    </td>
                    <td class="c84" colspan="1" rowspan="1">
                        <p class="c16 c40"><span class="c1"></span></p>
                    </td>
                    <td class="c127" colspan="1" rowspan="1">
                        <p class="c16 c40"><span class="c1"></span></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_v0m2mkqjdcby-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">Types of medium:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_v0m2mkqjdcby-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">Coaxial cable</span>
            </li>
            <li class="c0 li-bullet-0"><span class="c1">Twisted pair</span></li>
            <li class="c0 li-bullet-0"><span class="c1">Power line</span></li>
            <li class="c0 li-bullet-0"><span class="c1">Fibre optic</span></li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Wireless (laser, sound, ultrasonic, pulses, radar)</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_v0m2mkqjdcby-0">
            <li class="c6 li-bullet-0">
                <span class="c29">Packet</span
                ><span class="c1"
                    >: a unit of data in the Network layer (our payload)</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">Frame</span
                ><span class="c1"
                    >: a unit of data in the Link layer (what the link layer
                    actually sends)</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_v0m2mkqjdcby-0">
            <li class="c6 li-bullet-0">
                <span class="c29">Hop by hop transmission</span
                ><span class="c1"
                    >: where data is transported through intermediate nodes to
                    its destination.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">Packet-switched network</span
                ><span class="c1"
                    >: A network where packets dynamically find their own way to
                    a destination without a set path</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_v0m2mkqjdcby-0">
            <li class="c6 li-bullet-0">
                <span class="c1">Link layer models:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_v0m2mkqjdcby-1 start">
            <li class="c0 li-bullet-0">
                <span class="c21">Connectionless, no acknowledgements</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c21">Acknowledged, connectionless service</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29"
                    >Acknowledged, connection-oriented service</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_v0m2mkqjdcby-0">
            <li class="c6 li-bullet-0">
                <span class="c29">ARQ (automatic repeat-request)</span
                ><span class="c1"
                    >: error-control mechanism that uses ACKs and timeouts to
                    ensure reliable communications with unreliable
                    recipient</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_v0m2mkqjdcby-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">Three kinds of ARQ protocols:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_v0m2mkqjdcby-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c1">Stop-and-wait</span>
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c1">Go-back-N</span>
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c1">Selective-repeat</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_v0m2mkqjdcby-0">
            <li class="c6 li-bullet-0">
                <span>Detect errors using</span
                ><span class="c29">&nbsp;parity bit </span><span>or </span
                ><span class="c29">CRC (cyclic redundancy check)</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_v0m2mkqjdcby-0">
            <li class="c6 li-bullet-0">
                <span class="c29">Ethernet</span
                ><span class="c1">: de facto link layer standard</span>
            </li>
            <li class="c6 li-bullet-0">
                <span>Ethernet used to use </span
                ><span class="c29">CSMA/CD </span><span>(</span
                ><span class="c29">C</span><span>arrier </span
                ><span class="c29">S</span><span>ense </span
                ><span class="c29">M</span><span>ultiple </span
                ><span class="c29">A</span><span>ccess with </span
                ><span class="c29">C</span><span>ollision </span
                ><span class="c29">D</span><span class="c1">etection)</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Ethernet frames have priority setting from 1 to 7, which
                    affects prioritisation at switches.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">WiFi</span
                ><span class="c1"
                    >: wireless alternative to Ethernet. Works in 2.4GHz or
                    5GHz.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>Wifi uses CSMA/CA (</span><span class="c29">C</span
                ><span>arrier </span><span class="c29">S</span><span>ense </span
                ><span class="c29">M</span><span>ultiple </span
                ><span class="c29">A</span><span>ccess with </span
                ><span class="c29">C</span><span>ollision </span
                ><span class="c29">A</span><span class="c1">voidance)</span>
            </li>
            <li class="c6 li-bullet-0">
                <span>Can use </span><span class="c29">Request to Send </span
                ><span>/ </span><span class="c29">Clear to Send </span
                ><span>(</span><span class="c29">RTS</span><span>/</span
                ><span class="c29">CTS</span><span>)</span
                ><span class="c1">&nbsp;to increase performance</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_v0m2mkqjdcby-0">
            <li class="c6 li-bullet-0">
                <span class="c29">MAC (Media Access Control) address</span
                ><span class="c1"
                    >: a unique ID for network interface controllers (NICs) at
                    the link layer. (48 bits long, can be extended to 64
                    bit)</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_v0m2mkqjdcby-0">
            <li class="c6 li-bullet-0">
                <span class="c29">Concentrator device</span
                ><span class="c1"
                    >: central hardware in a network; nodes connect to it</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_v0m2mkqjdcby-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">Hubs and repeaters</span
                ><span class="c1">: Old! Just reroute packets</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Bridges and switches</span
                ><span class="c1">: Smart! Learn what packets go where</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_v0m2mkqjdcby-0">
            <li class="c6 li-bullet-0">
                <span class="c29">ARP (Address Resolution Protocol)</span
                ><span class="c1"
                    >: a protocol used by host: given IP address, can get MAC
                    address</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_v0m2mkqjdcby-0">
            <li class="c6 li-bullet-0">
                <span class="c1">4 kinds of message:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_v0m2mkqjdcby-1 start">
            <li class="c0 li-bullet-0"><span class="c21">Unicast</span></li>
            <li class="c0 li-bullet-0"><span class="c21">Broadcast</span></li>
            <li class="c0 li-bullet-0"><span class="c21">Multicast</span></li>
            <li class="c0 li-bullet-0"><span class="c21">Anycast</span></li>
        </ul>
        <p class="c20 c22"><span class="c21"></span></p>
        <ul class="c2 lst-kix_v0m2mkqjdcby-0">
            <li class="c6 li-bullet-0">
                <span class="c29">IP address plan:</span
                ><span class="c1"
                    >&nbsp;range of local IPs a host can have</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">IP subnet</span
                ><span class="c1">: a localised network behind a router</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_v0m2mkqjdcby-0">
            <li class="c6 li-bullet-0">
                <span class="c29">Spanning tree protocol</span
                ><span class="c1"
                    >: enables and disables switches so a path is always
                    available for packets (within reason)</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_v0m2mkqjdcby-0">
            <li class="c6 li-bullet-0">
                <span class="c29">VLAN (virtual LAN)</span
                ><span class="c1"
                    >: a logical network; not physical. Each node can be in
                    different physical LANs but be in the same VLAN.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_v0m2mkqjdcby-0">
            <li class="c6 li-bullet-0">
                <span class="c29">IP </span><span>(or </span
                ><span class="c29">Internet Protocol</span
                ><span class="c1"
                    >) is the main protocol used in the network layer.</span
                >
            </li>
            <li class="c6 li-bullet-0"><span class="c1">Properties:</span></li>
        </ul>
        <ul class="c2 lst-kix_v0m2mkqjdcby-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">Packet-switched, connectionless</span>
            </li>
            <li class="c0 li-bullet-0"><span class="c1">Unreliable</span></li>
            <li class="c0 li-bullet-0"><span class="c1">Routing</span></li>
            <li class="c0 li-bullet-0">
                <span class="c1">Globally unique, delegated addresses</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_v0m2mkqjdcby-0">
            <li class="c6 li-bullet-0">
                <span class="c1">Main protocols:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_v0m2mkqjdcby-1 start">
            <li class="c0 li-bullet-0"><span class="c1">IPv4</span></li>
            <li class="c0 li-bullet-0"><span class="c1">IPv6</span></li>
            <li class="c0 li-bullet-0">
                <span class="c1">ICMP - for diagnostics and control</span>
            </li>
            <li class="c0 li-bullet-0"><span class="c1">ICMPv6</span></li>
            <li class="c0 li-bullet-0">
                <span class="c1">IPSEC - for security</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_v0m2mkqjdcby-0">
            <li class="c6 li-bullet-0">
                <span class="c29">Store-and-forward</span><span>&nbsp;</span
                ><span class="c29">packet switching</span
                ><span class="c1"
                    >: a technique where data is sent to an intermediary node,
                    then passed on to either another intermediary node or the
                    destination node. Basically the same as hop by hop
                    transmission.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_v0m2mkqjdcby-0">
            <li class="c6 li-bullet-0">
                <span class="c1">IPv4 datagram:</span>
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 291.5px;
                    height: 80.43px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image146.png"
                    style="
                        width: 291.5px;
                        height: 80.43px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_xjdc8rjt856v-0 start">
            <li class="c6 li-bullet-0">
                <span class="c29">MTU </span><span>(or </span
                ><span class="c29">Maximum Transmission Unit</span
                ><span class="c1"
                    >) is the size of the largest data unit that can be
                    communicated in a single network layer transaction.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >If data unit is bigger than MTU, fragmentation
                    happens.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_xjdc8rjt856v-0">
            <li class="c6 li-bullet-0">
                <span class="c1">IPv4 classes:</span>
            </li>
        </ul>
        <p class="c20 c22"><span class="c1"></span></p>
        <a id="t.d51c1654aacc8b3cc41d583267a38ebf4fd6501f"></a><a id="t.32"></a>
        <table class="c109">
            <tbody>
                <tr class="c33">
                    <td class="c81 c137" colspan="1" rowspan="1">
                        <p class="c16"><span class="c21">Class</span></p>
                    </td>
                    <td class="c47" colspan="1" rowspan="1">
                        <p class="c16"><span class="c21">Prefix range</span></p>
                    </td>
                    <td class="c130 c81" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c21">Prefix length</span>
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c137 c77" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">A</span></p>
                    </td>
                    <td class="c66 c77" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c29">0</span
                            ><span class="c1">.0.0.0 to</span>
                        </p>
                        <p class="c16">
                            <span class="c29">127</span
                            ><span class="c1">.0.0.0</span>
                        </p>
                    </td>
                    <td class="c130 c77" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">8 bits</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c137 c57" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">B</span></p>
                    </td>
                    <td class="c66 c57" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c29">128</span
                            ><span class="c1">.0.0.0 to</span>
                        </p>
                        <p class="c16">
                            <span class="c29">191</span
                            ><span class="c1">.255.0.0.</span>
                        </p>
                    </td>
                    <td class="c130 c57" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">16 bits</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c132" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">C</span></p>
                    </td>
                    <td class="c66 c138" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c29">192</span
                            ><span class="c1">.0.0.0 to</span>
                        </p>
                        <p class="c16">
                            <span class="c29">223</span
                            ><span class="c1">.255.255.0</span>
                        </p>
                    </td>
                    <td class="c130 c138" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">24 bits</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c137" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">D</span></p>
                    </td>
                    <td class="c66" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c29">224</span
                            ><span class="c1">.0.0.0 to</span>
                        </p>
                        <p class="c16">
                            <span class="c29">239</span
                            ><span class="c1">.255.255.255</span>
                        </p>
                    </td>
                    <td class="c130" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">n/a</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c137" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">E</span></p>
                    </td>
                    <td class="c66" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c29">240</span
                            ><span class="c1">.0.0.0 to</span>
                        </p>
                        <p class="c16">
                            <span class="c29">255</span
                            ><span class="c1">.255.255.255</span>
                        </p>
                    </td>
                    <td class="c130" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">n/a</span></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_zcf2lntqrs1s-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">Maximise address space using:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_zcf2lntqrs1s-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">DHCP </span><span>(or </span
                ><span class="c29">Dynamic Host Configuration Protocol</span
                ><span class="c1">)</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">NAT </span><span>(or </span
                ><span class="c29">Network Address Translation</span
                ><span class="c1">)</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c21">Classless Inter-Domain Routing</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_zcf2lntqrs1s-0">
            <li class="c6 li-bullet-0">
                <span class="c1">Properties of subnet:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_zcf2lntqrs1s-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">Subnet network address</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Subnet prefix length</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Subnet mask (same information as prefix length)</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Subnet IP broadcast address</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_zcf2lntqrs1s-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Can use mask to get from IP in subnet to network address
                    and broadcast address</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_zcf2lntqrs1s-0">
            <li class="c6 li-bullet-0">
                <span class="c29">ICMP </span><span>(or </span
                ><span class="c29">Internet Control Message Protocol</span
                ><span class="c1"
                    >): protocol for checking status between hosts (pinging is
                    included in this).</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">Router advertisement</span
                ><span class="c1">: telling other routers about yourself</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_zcf2lntqrs1s-0">
            <li class="c6 li-bullet-0">
                <span class="c1">Types of routing:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_zcf2lntqrs1s-1 start">
            <li class="c0 li-bullet-0">
                <span class="c14">Static routing</span
                ><span class="c1">: configure routes manually</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c14">Dynamic routing</span
                ><span class="c1">: establish routes on-the-fly</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_zcf2lntqrs1s-0">
            <li class="c6 li-bullet-0">
                <span class="c29">Aggregating prefixes</span
                ><span class="c1"
                    >: sending packets to networks with smaller prefixes, so
                    that we don&rsquo;t need to access specific routers</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_zcf2lntqrs1s-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Routers build up their routing table with routing
                    protocols.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">Distance vector</span
                ><span class="c1"
                    >: only talk to neighbouring routers and build up a shortest
                    distance to our destination using the Bellman-Ford
                    algorithm.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">Link state</span
                ><span class="c1"
                    >: talk to all routers to establish full knowledge of
                    site</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Link state usually better than distance vector</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_zcf2lntqrs1s-0">
            <li class="c6 li-bullet-0">
                <span class="c29">Autonomous system </span><span>(</span
                ><span class="c29">AS</span
                ><span class="c1"
                    >): a network or a collection of networks that are all
                    managed and supervised by a single entity or organisation,
                    typically an ISP (Internet Service Provider).</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_zcf2lntqrs1s-0">
            <li class="c6 li-bullet-0">
                <span class="c29">Interior routing protocol</span><span>: </span
                ><span>exchanging</span
                ><span class="c1"
                    >&nbsp;routing information between gateways (routers) within
                    autonomous systems</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">Exterior routing protocol</span
                ><span class="c1"
                    >: exchanging routing information between autonomous
                    systems</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_zcf2lntqrs1s-0">
            <li class="c6 li-bullet-0">
                <span class="c29">Border Gateway Protocol (BGP)</span
                ><span>: </span><span>allowed</span
                ><span class="c1"
                    >&nbsp;autonomous systems to store and exchange routing
                    information about packet destinations. The de facto exterior
                    routing protocol.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_zcf2lntqrs1s-0">
            <li class="c6 li-bullet-0">
                <span class="c29">UDP (User Datagram Protocol)</span
                ><span class="c1"
                    >: connectionless, low overhead protocol; &ldquo;fire and
                    forget&rdquo; basis</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">UDP properties:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_zcf2lntqrs1s-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">Connectionless</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Application layer has to retransmit, if required</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Constant bit rate</span>
            </li>
            <li class="c0 li-bullet-0"><span class="c1">Low overhead</span></li>
        </ul>
        <ul class="c2 lst-kix_zcf2lntqrs1s-0">
            <li class="c6 li-bullet-0">
                <span class="c29">TCP (Transmission Control Protocol)</span
                ><span class="c1">: connection oriented protocol</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">TCP properties:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_zcf2lntqrs1s-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">Connection management</span>
            </li>
            <li class="c0 li-bullet-0"><span class="c1">Flow control</span></li>
            <li class="c0 li-bullet-0">
                <span class="c1">Tries to avoid congestion</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Retransmission</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Reassembles segments in correct order</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_zcf2lntqrs1s-0">
            <li class="c6 li-bullet-0">
                <span class="c1">TCP connection establishment:</span>
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 293px;
                    height: 212px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image125.png"
                    style="
                        width: 293px;
                        height: 212px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c20 c40"><span class="c1"></span></p>
        <a id="t.05b5509098448bcea057303abb3b76b571494ace"></a><a id="t.33"></a>
        <table class="c18">
            <tbody>
                <tr class="c33">
                    <td class="c159 c172" colspan="1" rowspan="1">
                        <p class="c16 c40"><span class="c1"></span></p>
                    </td>
                    <td class="c11" colspan="1" rowspan="1">
                        <p class="c16"><span class="c21">TCP</span></p>
                    </td>
                    <td class="c121" colspan="1" rowspan="1">
                        <p class="c16"><span class="c21">UDP</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c159" colspan="1" rowspan="1">
                        <p class="c16"><span class="c21">Connection</span></p>
                    </td>
                    <td class="c11" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1">Connection oriented</span>
                        </p>
                    </td>
                    <td class="c121" colspan="1" rowspan="1">
                        <p class="c16">
                            <span>Connectionless: </span
                            ><span>&ldquo;fire and forget&rdquo;</span>
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c159" colspan="1" rowspan="1">
                        <p class="c16"><span class="c21">Reliability</span></p>
                    </td>
                    <td class="c11" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >Handles ACK &amp; retransmissions</span
                            >
                        </p>
                    </td>
                    <td class="c121" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >Application needs to handle ACK &amp;
                                retransmissions if needed</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c159" colspan="1" rowspan="1">
                        <p class="c16"><span class="c21">Data Order</span></p>
                    </td>
                    <td class="c11" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >Guaranteed that it arrives and in the correct
                                order</span
                            >
                        </p>
                    </td>
                    <td class="c121" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >No guarantee that data is received in the order
                                sent</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c159" colspan="1" rowspan="1">
                        <p class="c16"><span class="c21">Header</span></p>
                    </td>
                    <td class="c11" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1">20-bytes minimum</span>
                        </p>
                    </td>
                    <td class="c121" colspan="1" rowspan="1">
                        <p class="c16"><span class="c1">8-bytes</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c159" colspan="1" rowspan="1">
                        <p class="c16"><span class="c21">Good for</span></p>
                    </td>
                    <td class="c11" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >Applications that need high reliability</span
                            >
                        </p>
                    </td>
                    <td class="c121" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >Applications that need fast and efficient
                                transmission</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c159" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c21">Example protocols</span>
                        </p>
                    </td>
                    <td class="c11" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >HTTP(S), FTP, SMTP, Telnet, SSH</span
                            >
                        </p>
                    </td>
                    <td class="c121" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >DHCP, TFTP, SNMP, RIP, RTP, COAP</span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_clehviehmmez-0 start">
            <li class="c6 li-bullet-0">
                <span class="c29">Socket</span
                ><span class="c1"
                    >: created when sender and receiver act as end-points.</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 513.5px;
                    height: 212.39px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image118.png"
                    style="
                        width: 513.5px;
                        height: 212.39px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_x8uanqqndqwi-0 start">
            <li class="c6 li-bullet-0">
                <span class="c29">DNS (Domain Name System)</span
                ><span class="c1">: pairs up domain names to IP addresses</span>
            </li>
            <li class="c6 li-bullet-0">
                <span>Domain names are delegated through </span
                ><span class="c29">Top Level Domain (TLD)</span
                ><span>&nbsp;</span><span>registrars</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">DNS resolver</span
                ><span class="c1">: server that acts as a DNS</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_x8uanqqndqwi-0">
            <li class="c6 li-bullet-0">
                <span class="c1">DNS record types:</span>
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 531.5px;
                    height: 222.49px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image104.png"
                    style="
                        width: 531.5px;
                        height: 222.49px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_59pukgg4vh31-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >DNS servers use a hierarchical delegation structure, where
                    DNS servers point to other DNS servers that know about
                    certain URL suffixes.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">DNS glue</span
                ><span class="c1">: mapping one DNS server to another</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_59pukgg4vh31-0">
            <li class="c6 li-bullet-0">
                <span class="c29">IP anycast</span
                ><span class="c1">: same IP visible in multiple locations</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">Fast flux DNS</span
                ><span class="c1"
                    >: association between IP address and domain name is changed
                    frequently</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">Public DNS servers</span
                ><span class="c1"
                    >: open public DNS servers, can be used for speed,
                    reliability, parental controls etc.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_59pukgg4vh31-0">
            <li class="c6 li-bullet-0">
                <span class="c1">Application layer services:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_59pukgg4vh31-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">Telnet</span
                ><span class="c1"
                    >: simple unencrypted terminal emulation protocol</span
                >
            </li>
            <li class="c0 li-bullet-0"><span class="c1">Email:</span></li>
        </ul>
        <ul class="c2 lst-kix_59pukgg4vh31-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c29">SMTP (Simple Mail Transfer Protocol)</span
                ><span class="c1">: send emails </span>
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c29">IMAP (Internet Message Access Protocol)</span
                ><span class="c1">: receive emails</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_59pukgg4vh31-1">
            <li class="c0 li-bullet-0">
                <span class="c29">HTTP (HyperText Transfer Protocol)</span
                ><span class="c1">: uses TCP on port 80 to send text</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">HTTP/2</span
                ><span class="c1"
                    >: header is now binary, uses server push, multiplex
                    multiple requests on the same TCP connection</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">QUIC (Quick UDP Internet Connections)</span
                ><span class="c1"
                    >: UDP protocol, trying to replace TCP, pushed by
                    Google</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">CoAP (Constrained Application Protocol)</span
                ><span class="c1"
                    >: HTTP-like protocol with minimal overheads</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">RTSP (Real Time Streaming Protocol)</span
                ><span class="c1">: used for streaming video/audio</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">SMB (Server Message Block)</span
                ><span class="c1">: file sharing protocol by Microsoft</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">NFS (Network File System)</span
                ><span class="c1"
                    >: file-sharing protocol used on Linux and Unix</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">P2P (Peer-to-Peer)</span
                ><span class="c1"
                    >: every device has the same priority and shares data with
                    each other</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_f3pg99jnextf-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">IPv6 has 128-bit addresses</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Written in colon-separated hex format</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Repeated zeros are replaced with double colon</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_f3pg99jnextf-0">
            <li class="c6 li-bullet-0">
                <span class="c1">IPv6 dedicated address scopes:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_f3pg99jnextf-1 start">
            <li class="c0 li-bullet-0">
                <span class="c4">::1/128</span><span>&nbsp;- </span
                ><span class="c21">loopback</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c4">::/128</span><span>&nbsp;- </span
                ><span class="c29">unspecified </span
                ><span class="c23">(equivalent to 0.0.0.0)</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c4">fe80::/10</span><span>&nbsp;- </span
                ><span class="c29">Link-local address</span><span>&nbsp;</span
                ><span class="c23">(used only on local link)</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c4">fc00::/7</span><span>&nbsp;- </span
                ><span class="c29">Unique Local Address</span><span>&nbsp;</span
                ><span class="c23">(ULA, used within a site)</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c4">2000::/3</span><span>&nbsp;- </span
                ><span class="c21">Global Unicast</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c4">ff00::/8</span><span>&nbsp;- </span
                ><span class="c21">Multicast</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_f3pg99jnextf-0">
            <li class="c6 li-bullet-0">
                <span class="c1">Other properties of IPv6:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_f3pg99jnextf-1 start">
            <li class="c0 li-bullet-0"><span class="c1">No more NAT</span></li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >More &ldquo;plug and play&rdquo; than IPv4</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Streamlined header</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Fragmentation occurs at sender</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_f3pg99jnextf-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >IPv6 header is 40 bytes, and can daisy chain extension
                    headers</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_f3pg99jnextf-0">
            <li class="c6 li-bullet-0">
                <span class="c29">IPv6 RA</span
                ><span class="c1">: Router advertisement for IPv6</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29"
                    >StateLess Address AutoConfiguration (SLAAC)</span
                ><span class="c1"
                    >: automatic basic network configuration for IPv6</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_f3pg99jnextf-0">
            <li class="c6 li-bullet-0">
                <span class="c29">Dual stack</span
                ><span class="c1">: having both IPv4 and IPv6</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Tunnelling technologies:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_f3pg99jnextf-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">6in4 </span
                ><span class="c1">- encapsulates v6 packets in v4 packets</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Teredo </span
                ><span class="c1">- encapsulates v6 into UDP v4</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">DS-Lite</span
                ><span class="c1"
                    >&nbsp;(no, not the console) - encapsulates v4 packets in v6
                    packets</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">VPNs work too</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_f3pg99jnextf-0">
            <li class="c6 li-bullet-0">
                <span class="c1">IPSEC encryption is baked into v6</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">v6 hosts can pick their own address</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_f3pg99jnextf-0">
            <li class="c6 li-bullet-0">
                <span class="c29">DNS amplification attack</span
                ><span class="c1"
                    >: attacker sends lots of messages to DNS with
                    target&rsquo;s IP, so DNS spam target</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >DNS cookies can be used to help mitigate DNS amplification
                    attacks</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_f3pg99jnextf-0">
            <li class="c6 li-bullet-0">
                <span class="c29">Stateless firewall</span
                ><span class="c1"
                    >: firewall that only tests incoming packets on
                    predicates</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">Stateful firewall</span
                ><span class="c1"
                    >: firewall that can remember things and keep track of
                    packets</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Some firewalls even act on the application layer and can
                    read packets to tell if the content looks alright</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_f3pg99jnextf-0">
            <li class="c6 li-bullet-0">
                <span class="c29"
                    >NIDS (Network Intrusion Detection System)</span
                ><span class="c1"
                    >: sniffs network activity, checking for intruders</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_f3pg99jnextf-0">
            <li class="c6 li-bullet-0">
                <span class="c29">NAC (Network Access Control)</span
                ><span class="c1"
                    >: solution that helps against physical network
                    breaches</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">Extensible Authentication Protocol (EAP)</span
                ><span class="c1">: a protocol that authenticates clients</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">IPSEC (IP Security)</span
                ><span class="c1"
                    >: encryption at the network layer; prevents against
                    sniffing</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">VPNs (Virtual Private Network)</span
                ><span class="c1"
                    >: simulates direct connection between devices</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Two kinds of VPN:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_f3pg99jnextf-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">Site-to-site VPN</span
                ><span class="c1">: connects two networks together</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Remote-access VPN</span
                ><span class="c1">: clients connect to a VPN server</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_f3pg99jnextf-0">
            <li class="c6 li-bullet-0">
                <span class="c29"
                    >DDoS (Distributed Denial of Service attack)</span
                ><span class="c1"
                    >: lots of clients target a network and takes it down</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Ways to mitigate DDoS:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_f3pg99jnextf-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">Anycast/content delivery networks</span
                ><span class="c1"
                    >: spread the load across lots of networks/systems</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Responsive network team</span
                ><span class="c1"
                    >: block attacks as they occur and redistribute services
                    across different connections</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29"
                    >Good relationships with upstream providers</span
                ><span class="c1"
                    >: get them to help blocking attack traffic</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_f3pg99jnextf-0">
            <li class="c6 li-bullet-0">
                <span class="c29">WEP (Wired Equivalent Privacy)</span
                ><span class="c1"
                    >: Old, don&rsquo;t use this. It&rsquo;s crackable in, like,
                    3 minutes.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">WPA (WiFi Protected Access I)</span
                ><span>: Fixed version of WEP that uses </span
                ><span class="c29">Temporal Key Integrity Protocol (TKIP)</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">WPA/2 (WiFi Protected Access II)</span
                ><span class="c1"
                    >: More complex version of WPA, uses 128-bit AES</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">WPA-Personal</span
                ><span class="c1">: uses pre-shared keys</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">WPA-Enterprise</span
                ><span class="c1"
                    >: uses 802.1x authentication (for that extra pinch of
                    security)</span
                >
            </li>
        </ul>
        <h2 class="c44" id="h.8bhozeqe2vv">
            <span class="c9">Tim&rsquo;s stuff</span>
        </h2>
        <ul class="c2 lst-kix_72r6155magwn-0 start">
            <li class="c6 li-bullet-0">
                <span class="c39 c14">Distributed System Models</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_o7lz99cu4ut4-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">Physical models:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_o7lz99cu4ut4-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">Early 80&rsquo;s</span
                ><span class="c1">: up to 100 nodes connected by LAN</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Internet-scale (90&rsquo;s)</span
                ><span class="c1"
                    >: large nodes connected by Internet; nodes are static, not
                    embedded and autonomous</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Contemporary</span
                ><span class="c1"
                    >: hundreds of nodes, and nodes can change location. Can be
                    embedded</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Emerging</span
                ><span class="c1">: systems of systems</span>
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_uwok3z22n1j9-0">
            <li class="c6 li-bullet-0">
                <span class="c1">Types of communication paradigms:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_uwok3z22n1j9-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">Inter-process </span
                ><span class="c1"
                    >communication: low-level communication e.g. Java
                    sockets</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Remote </span
                ><span class="c1"
                    >invocation: two-way communication, sending and
                    receiving</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Indirect </span
                ><span class="c1"
                    >communication: one-to-many communication using groups,
                    message queues, distributed shared memory systems etc.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_uwok3z22n1j9-0">
            <li class="c6 li-bullet-0">
                <span class="c1">Two main architectural models:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_uwok3z22n1j9-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">Client-server </span
                ><span class="c1"
                    >architecture: there&rsquo;s one central
                    &ldquo;server&rdquo; node, and lots of other
                    &ldquo;client&rdquo; nodes that query a server with
                    resources. Servers can also be used as clients.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Peer-to-peer </span
                ><span class="c1"
                    >architecture: all processes share similar roles, and data
                    is distributed amongst peers. Used in software like Gnutella
                    or BitTorrent.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_uwok3z22n1j9-0">
            <li class="c6 li-bullet-0">
                <span class="c1">Three strategies for infrastructure:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_uwok3z22n1j9-1 start">
            <li class="c0 li-bullet-0">
                <span class="c14">Use of multiple servers</span
                ><span class="c1"
                    >&nbsp;- several servers implement a service and distribute
                    resources and services to increase performance</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c14">Proxies and caches</span
                ><span class="c1"
                    >&nbsp;- make web proxies store often used data to make it
                    more quickly accessible</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c14">Mobile code</span
                ><span class="c1"
                    >&nbsp;- send code to the recipient, so they can run the
                    code locally, which improves performance (but can also be a
                    security threat)</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_uwok3z22n1j9-0">
            <li class="c6 li-bullet-0">
                <span class="c1">Architectural patterns:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_uwok3z22n1j9-1 start">
            <li class="c0 li-bullet-0">
                <span class="c14">Layering</span
                ><span class="c1"
                    >: layers services, each layer makes use of the service
                    below it</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c14">Two-tier and three-tier architectures</span
                ><span class="c1">: like MVC but with networks</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c14">Thin clients</span
                ><span class="c1"
                    >: clients just have an API or interface, and all the work
                    is done at the server</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c14">Proxies</span
                ><span class="c1"
                    >: proxy offers same interface as the server they&rsquo;re
                    mirroring</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_uwok3z22n1j9-0">
            <li class="c6 li-bullet-0">
                <span class="c1">Fundamental models:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_uwok3z22n1j9-1 start">
            <li class="c0 li-bullet-0">
                <span class="c14">Interaction</span
                ><span class="c1"
                    >: how participants interact with each other</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c14">Failure</span
                ><span class="c1">: describes types of failures</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c14">Security</span
                ><span class="c1"
                    >: ensures security in processes and communication</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_72r6155magwn-0">
            <li class="c6 li-bullet-0">
                <span class="c14">Distributed Object Systems</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_uwok3z22n1j9-0">
            <li class="c6 li-bullet-0">
                <span class="c29">RMI (Remote Method Invocation)</span
                ><span class="c1"
                    >: call methods on remote objects as if they were
                    local</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">Stub</span
                ><span class="c1"
                    >: proxy for a remote object. Implements same methods as
                    remote interface</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >You need a registry and a server to run a complete RMI
                    server.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_uwok3z22n1j9-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Java security manager uses a policy file to enforce rules;
                    helps to trust code coming to your computer</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_uwok3z22n1j9-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >In RMI, multiple clients may access critical region.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span
                    >Use Java monitors to ensure no deadlocks (basically just </span
                ><span class="c4">synchronized</span><span>) &lt;- </span
                ><span class="c29">guaranteeing mutual exclusion</span>
            </li>
            <li class="c6 li-bullet-0">
                <span>Can also use </span><span class="c4">wait</span
                ><span>, </span><span class="c4">notify </span><span>and </span
                ><span class="c4">notifyAll</span
                ><span class="c1">, which uses observer pattern</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_uwok3z22n1j9-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >RMI limitation: client and server must run JVM</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_72r6155magwn-0">
            <li class="c6 li-bullet-0">
                <span class="c14">Data Serialisation</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_uwok3z22n1j9-0">
            <li class="c6 li-bullet-0">
                <span>Can send objects over networks with </span
                ><span class="c4">Serializable</span
                ><span>&nbsp;interface, </span
                ><span class="c4">ObjectOutput/InputStream</span
                ><span class="c1">&nbsp;and version UID</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Can use serialisation to send mobile code</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Can pass references to objects with RMI and callbacks</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>You can override </span><span class="c4">readObject</span
                ><span>&nbsp;and </span><span class="c4">writeObject</span
                ><span class="c1"
                    >&nbsp;and define your own language-dependent format.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_uwok3z22n1j9-0">
            <li class="c6 li-bullet-0">
                <span class="c29">JSON (JavaScript Object Notation)</span
                ><span class="c1"
                    >: a language-independent syntax for exchanging structured
                    data</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">GSON</span
                ><span class="c1"
                    >: JSON helper API made by Google in Java</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">JSON-LD</span
                ><span class="c1"
                    >: encoding linked data to JSON using a common schema</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_72r6155magwn-0">
            <li class="c6 li-bullet-0">
                <span class="c14">Loose Coupling</span>
            </li>
        </ul>
        <a id="t.01a6f515f672d3a2ef78eff72b66973d229f73ec"></a><a id="t.34"></a>
        <table class="c18">
            <tbody>
                <tr class="c33">
                    <td class="c107 c172" colspan="1" rowspan="1">
                        <p class="c16 c40"><span class="c1"></span></p>
                    </td>
                    <td class="c11 c57" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c119 c29 c120">Time coupled</span>
                        </p>
                    </td>
                    <td class="c66 c57" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c119 c120 c29">Time uncoupled</span>
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c62 c107" colspan="1" rowspan="1">
                        <p class="c16"><span class="c8">Space coupled</span></p>
                    </td>
                    <td class="c11" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c55 c62"
                                >Message is directed specifically towards
                                receiver.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c88 c53"
                                >Receiver must be present when the message is
                                sent.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c1"
                                >Example: sockets, remote invocation</span
                            >
                        </p>
                    </td>
                    <td class="c66" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c55 c62"
                                >Message is directed specifically towards
                                receiver.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c55 c62"></span></p>
                        <p class="c16">
                            <span class="c53 c88"
                                >Receiver doesn&rsquo;t have to be present when
                                the message is sent.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c88 c53"></span></p>
                        <p class="c16">
                            <span class="c1">Example: snail mail</span>
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c107 c62" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c8">Space uncoupled</span>
                        </p>
                    </td>
                    <td class="c11" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c55 c62"
                                >Sender doesn&rsquo;t know exactly who
                                they&rsquo;re sending to.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c88 c53"
                                >Receiver must be present when the message is
                                sent.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c88 c53"></span></p>
                        <p class="c16">
                            <span class="c1">Example: IP multicast</span>
                        </p>
                    </td>
                    <td class="c66" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c55 c62"
                                >Sender doesn&rsquo;t know exactly who
                                they&rsquo;re sending to.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c1"></span></p>
                        <p class="c16">
                            <span class="c88 c53"
                                >Receiver doesn&rsquo;t have to be present when
                                the message is sent.</span
                            >
                        </p>
                        <p class="c16 c40"><span class="c88 c53"></span></p>
                        <p class="c16">
                            <span>Example: publish &amp; subscribe </span
                            ><span class="c39 c14">with message queues</span>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_94dhdlqvi2ma-0 start">
            <li class="c6 li-bullet-0">
                <span class="c29">Group communication</span
                ><span class="c1"
                    >: sending messages to a group of clients (usually done with
                    multicast)</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_94dhdlqvi2ma-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">Synchronous group communication</span
                ><span class="c1"
                    >: connections are strongly established and messages are
                    sent out in real-time</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Asynchronous group communication</span
                ><span class="c1">: messages are sent via UDP to everyone</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_94dhdlqvi2ma-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Desired properties of group communication:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_94dhdlqvi2ma-1 start">
            <li class="c0 li-bullet-0">
                <span class="c14">Reliability</span><span class="c1">:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_94dhdlqvi2ma-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c14">Integrity</span
                ><span class="c1"
                    >: message received is identical to the one sent</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c14">Validity</span
                ><span class="c1">: every message is eventually delivered</span>
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c14">Agreement</span
                ><span class="c1"
                    >: if a message is delivered to one member, it&rsquo;s
                    delivered to all</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_94dhdlqvi2ma-1">
            <li class="c0 li-bullet-0">
                <span class="c14">Ordering</span
                ><span class="c1"
                    >: sender order is preserved (FIFO), and can either
                    have:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_94dhdlqvi2ma-2 start">
            <li class="c20 c43 li-bullet-0">
                <span class="c14">Causal ordering</span
                ><span class="c1"
                    >: just make sure if message m2 is sent in response to m1,
                    m2 is received by all members after m1.</span
                >
            </li>
            <li class="c20 c43 li-bullet-0">
                <span class="c14">Total ordering</span
                ><span class="c1"
                    >: all messages are sent in the same order, regardless of
                    causality.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_94dhdlqvi2ma-0">
            <li class="c6 li-bullet-0">
                <span class="c29">Publish and subscribe</span
                ><span class="c1"
                    >: a model where publishers send messages to clients who
                    mark themselves as &ldquo;subscribed&rdquo;</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">Heterogeneity</span
                ><span class="c1"
                    >: supports different components written by different
                    developers</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Subscription models:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_94dhdlqvi2ma-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">Channel-based</span
                ><span class="c1"
                    >: subscribers subscribe to a channel, so they receive all
                    events</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Topic-based</span
                ><span class="c1"
                    >: subscribers subscribe to a set of topics, so they only
                    receive messages sent to those topics</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Content-based</span
                ><span class="c1"
                    >: subscribers filter messages based on queries, and only
                    receive those.</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_94dhdlqvi2ma-0">
            <li class="c6 li-bullet-0">
                <span class="c1">Implementation models:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_94dhdlqvi2ma-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">Centralised</span
                ><span class="c1"
                    >: A single publisher sends messages to multiple subscribers
                    via point-to-point messages (it lacks resilience and
                    scalability)</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Distributed</span
                ><span
                    >: A network of publishers work together (also called </span
                ><span class="c29">federated</span><span class="c1">)</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Peer-to-peer</span
                ><span class="c1"
                    >: Some fully peer-to-peer implementations are
                    possible</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_94dhdlqvi2ma-0">
            <li class="c6 li-bullet-0">
                <span class="c29">MQTT (Message Queue Telemetry Transport)</span
                ><span class="c1"
                    >: uses message queues to send messages to receivers</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Uses a HTTP URL-like method for querying sub-topics</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Can use wildcards:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_94dhdlqvi2ma-1 start">
            <li class="c0 li-bullet-0">
                <span class="c14">Single-level wildcards</span
                ><span class="c1"
                    >&nbsp;&ldquo;+&rdquo; selects every topic at that
                    hierarchy</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c14">Multi-level wildcards</span
                ><span class="c1"
                    >&nbsp;&ldquo;#&rdquo; selects every topic path</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_94dhdlqvi2ma-0">
            <li class="c6 li-bullet-0">
                <span class="c1">Cheaper to maintain than HTTPS</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Subscription can be:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_94dhdlqvi2ma-1 start">
            <li class="c0 li-bullet-0">
                <span class="c14">Durable</span
                ><span class="c1"
                    >: messages are stored until next time subscriber
                    connects</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c14">Non-durable</span
                ><span class="c1"
                    >: messages remain as long as subscriber is connected</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_94dhdlqvi2ma-0">
            <li class="c6 li-bullet-0">
                <span class="c29">RabbitMQ</span
                ><span>: implementation supporting many protocols and </span
                ><span>languages</span>
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_72r6155magwn-0">
            <li class="c6 li-bullet-0">
                <span class="c14">Distributed Transactions</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_94dhdlqvi2ma-0">
            <li class="c6 li-bullet-0">
                <span class="c1">Distributed data must follow ACID rules</span>
            </li>
            <li class="c6 li-bullet-0"><span class="c1">Problems:</span></li>
        </ul>
        <ul class="c2 lst-kix_94dhdlqvi2ma-1 start">
            <li class="c0 li-bullet-0">
                <span class="c14">Lost updates</span
                ><span class="c1">: update is overwritten</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c14">Inconsistent retrievals</span
                ><span class="c1">: read in the middle of a write</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_94dhdlqvi2ma-0">
            <li class="c6 li-bullet-0">
                <span>Fix: </span><span class="c29">Serial equivalence</span
                ><span class="c1"
                    >: Locks / optimistic concurrency control</span
                >
            </li>
            <li class="c6 li-bullet-0"><span class="c1">Problems:</span></li>
        </ul>
        <ul class="c2 lst-kix_94dhdlqvi2ma-1 start">
            <li class="c0 li-bullet-0">
                <span class="c14">Dirty reads</span
                ><span class="c1"
                    >: transaction wants to abort after another transaction
                    happened during it</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c14">Premature writes</span
                ><span class="c1">: write happens just before an abort</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_94dhdlqvi2ma-0">
            <li class="c6 li-bullet-0">
                <span class="c1">Fix: Distributed commit protocols</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_94dhdlqvi2ma-0">
            <li class="c6 li-bullet-0">
                <span class="c29">Single-phase commit</span
                ><span class="c1"
                    >: waits for everyone&rsquo;s acknowledgement before
                    committing</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">Two-phase commit</span
                ><span class="c1"
                    >: send out a vote. If everyone votes to commit, commit. If
                    single no, then abort</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span>If coordinator crashes -&gt; Two-phase commit = </span
                ><span class="c29">blocking protocol</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_94dhdlqvi2ma-0">
            <li class="c6 li-bullet-0">
                <span class="c29">Two-version locking</span
                ><span class="c1"
                    >: have multiple locks for each operation; a lock may not be
                    given if another kind of lock has already been set</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <a id="t.3816933dcb6021137c8dd287fa373af76aae8a47"></a><a id="t.35"></a>
        <table class="c18">
            <tbody>
                <tr class="c46">
                    <td class="c187 c172" colspan="1" rowspan="1">
                        <p class="c16 c40"><span class="c1"></span></p>
                    </td>
                    <td class="c183 c41" colspan="3" rowspan="1">
                        <p class="c24">
                            <span class="c21">Lock requested</span>
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c24">
                            <span class="c21">Lock already set</span>
                        </p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c24">
                            <span class="c119 c125 c30 c29">Read</span>
                        </p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c24">
                            <span class="c119 c125 c30 c29">Write</span>
                        </p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c24">
                            <span class="c119 c125 c30 c29">Commit</span>
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c24">
                            <span class="c119 c30 c29 c125">None</span>
                        </p>
                    </td>
                    <td class="c54" colspan="1" rowspan="1">
                        <p class="c24"><span class="c32">OK</span></p>
                    </td>
                    <td class="c54" colspan="1" rowspan="1">
                        <p class="c24"><span class="c32">OK</span></p>
                    </td>
                    <td class="c54" colspan="1" rowspan="1">
                        <p class="c24"><span class="c32">OK</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c24">
                            <span class="c119 c125 c30 c29">Read</span>
                        </p>
                    </td>
                    <td class="c54" colspan="1" rowspan="1">
                        <p class="c24"><span class="c32">OK</span></p>
                    </td>
                    <td class="c54" colspan="1" rowspan="1">
                        <p class="c24"><span class="c32">OK</span></p>
                    </td>
                    <td class="c37" colspan="1" rowspan="1">
                        <p class="c24"><span class="c55">WAIT</span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c24">
                            <span class="c119 c125 c30 c29">Write</span>
                        </p>
                    </td>
                    <td class="c54" colspan="1" rowspan="1">
                        <p class="c24"><span class="c32">OK</span></p>
                    </td>
                    <td class="c37" colspan="1" rowspan="1">
                        <p class="c24"><span class="c55">WAIT</span></p>
                    </td>
                    <td class="c74" colspan="1" rowspan="1">
                        <p class="c24 c40"><span class="c1"></span></p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c24">
                            <span class="c119 c125 c30 c29">Commit</span>
                        </p>
                    </td>
                    <td class="c37" colspan="1" rowspan="1">
                        <p class="c24"><span class="c55">WAIT</span></p>
                    </td>
                    <td class="c37" colspan="1" rowspan="1">
                        <p class="c24"><span class="c55">WAIT</span></p>
                    </td>
                    <td class="c74" colspan="1" rowspan="1">
                        <p class="c24 c40"><span class="c1"></span></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h2 class="c44" id="h.8bhozeqe2vv-48">
            <span class="c9">Corina&rsquo;s stuff</span>
        </h2>
        <ul class="c2 lst-kix_vrgt1trpfq6x-0 start">
            <li class="c6 li-bullet-0">
                <span class="c39 c14">Time in Distributed Systems</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">External synchronisation</span
                ><span class="c1"
                    >: all processes are synched up to some external clock, like
                    UTC</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_vrgt1trpfq6x-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">Cristian&rsquo;s algorithm</span
                ><span>: get time from server, then offset it with </span
                ><img src="assets/distributed-systems-and-networks/image62.png" />
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Network Time Protocol (NTP)</span
                ><span class="c1"
                    >: clients are synced up to UTC in a hierarchy system</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_vrgt1trpfq6x-0">
            <li class="c6 li-bullet-0">
                <span class="c29">Internal synchronisation</span
                ><span class="c1"
                    >: processes sync each other up using their own clocks</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_vrgt1trpfq6x-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">Berkeley&rsquo;s algorithm</span
                ><span class="c1"
                    >: master polls everyone&rsquo;s clocks, returns amount by
                    which they need to adjust</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_vrgt1trpfq6x-0">
            <li class="c6 li-bullet-0">
                <span>Relation </span><img src="assets/distributed-systems-and-networks/image8.png" /><span
                    >, where </span
                ><img src="assets/distributed-systems-and-networks/image9.png" /><span>&nbsp;and </span
                ><img src="assets/distributed-systems-and-networks/image10.png" /><span class="c1"
                    >&nbsp;are events:</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_vrgt1trpfq6x-1 start">
            <li class="c0 li-bullet-0">
                <span>If </span><img src="assets/distributed-systems-and-networks/image9.png" /><span
                    >&nbsp;and </span
                ><img src="assets/distributed-systems-and-networks/image10.png" /><span>&nbsp;in the same</span
                ><span class="c30">&nbsp;</span><span>process and </span
                ><img src="assets/distributed-systems-and-networks/image9.png" /><span
                    >&nbsp;occurs before b, then </span
                ><img src="assets/distributed-systems-and-networks/image8.png" />
            </li>
            <li class="c0 li-bullet-0">
                <span>If </span><img src="assets/distributed-systems-and-networks/image9.png" /><span
                    >&nbsp;is sending and </span
                ><img src="assets/distributed-systems-and-networks/image10.png" /><span
                    >&nbsp;is receiving, then </span
                ><img src="assets/distributed-systems-and-networks/image8.png" />
            </li>
            <li class="c0 li-bullet-0">
                <span>Transitivity rule: if </span
                ><img src="assets/distributed-systems-and-networks/image8.png" /><span>&nbsp;and </span
                ><img src="assets/distributed-systems-and-networks/image11.png" /><span>&nbsp;then </span
                ><img src="assets/distributed-systems-and-networks/image12.png" />
            </li>
            <li class="c0 li-bullet-0">
                <img src="assets/distributed-systems-and-networks/image13.png" /><span class="c1"
                    >&nbsp;is allowed</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_vrgt1trpfq6x-0">
            <li class="c6 li-bullet-0">
                <span>Concurrent: </span><img src="assets/distributed-systems-and-networks/image15.png" />
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">Lamport&rsquo;s logical clock</span
                ><span
                    >: each process has integer clock value, it updates when
                    receiving / sending / executing an event. </span
                ><img src="assets/distributed-systems-and-networks/image8.png" /><span>&nbsp;implies </span
                ><img src="assets/distributed-systems-and-networks/image25.png" /><span class="c1"
                    >, not the other way around.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">Totally ordered logical clock</span
                ><span class="c1"
                    >: like Lamport, but it&rsquo;s a pair including process
                    ID</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">Vector clock</span
                ><span
                    >: uses a vector instead of an integer, where each process
                    has their own slot in the vector (isomorphic to a list of
                    totally ordered logical clocks). </span
                ><img src="assets/distributed-systems-and-networks/image8.png" /><span>&nbsp;implies </span
                ><img src="assets/distributed-systems-and-networks/image38.png" /><span>&nbsp;and </span
                ><img src="assets/distributed-systems-and-networks/image25.png" /><span>&nbsp;implies </span
                ><img src="assets/distributed-systems-and-networks/image8.png" /><span class="c1">.</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_vrgt1trpfq6x-0">
            <li class="c6 li-bullet-0">
                <span class="c14">Distributed Mutual Exclusion</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Types of failure detectors:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_vrgt1trpfq6x-1 start">
            <li class="c0 li-bullet-0">
                <span>Unreliable: either </span
                ><span class="c27">unsuspected</span><span>&nbsp;or </span
                ><span class="c60">suspected</span
                ><span class="c1">&nbsp;</span>
            </li>
            <li class="c0 li-bullet-0">
                <span>Reliable: either </span
                ><span class="c27">unsuspected</span><span>&nbsp;or </span
                ><span class="c55 c62">failure</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_vrgt1trpfq6x-0">
            <li class="c6 li-bullet-0"><span class="c1">Assumptions:</span></li>
        </ul>
        <ul class="c2 lst-kix_vrgt1trpfq6x-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1">Network is reliable but asynchronous</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1">Processes don&rsquo;t fail</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Processes spend finite time in critical section (they
                    don&rsquo;t hang while there)</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_vrgt1trpfq6x-0">
            <li class="c6 li-bullet-0">
                <span class="c1">Correctness properties:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_vrgt1trpfq6x-1 start">
            <li class="c0 li-bullet-0">
                <span class="c14">Safety</span
                ><span class="c1"
                    >: at most one process is in critical section</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c14">Liveness</span
                ><span class="c1"
                    >: requests to enter/exit eventually succeed</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c14">Fairness</span
                ><span class="c1"
                    >: access to critical section granted in happened-before
                    order</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <a id="t.f3f3c54c29ccea2e53c9da3278aea555512f3bb7"></a><a id="t.36"></a>
        <table class="c18">
            <tbody>
                <tr class="c33">
                    <td class="c34 c41" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c21">Central Server Algorithm</span>
                        </p>
                    </td>
                    <td class="c34 c41" colspan="1" rowspan="1">
                        <p class="c20">
                            <span class="c21">Ring-based algorithm</span>
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c95" colspan="1" rowspan="1">
                        <p class="c20">
                            <span class="c1"
                                >Token-based, uses a central server, clients ask
                                for a token and waits if it&rsquo;s not
                                available.</span
                            >
                        </p>
                        <ul class="c2 lst-kix_vrgt1trpfq6x-0">
                            <li class="c6 li-bullet-0">
                                <span class="c32 c77">safety</span>
                            </li>
                            <li class="c6 li-bullet-0">
                                <span class="c32 c77">liveness</span>
                            </li>
                            <li class="c6 li-bullet-0">
                                <span class="c55 c62">no fairness</span>
                            </li>
                            <li class="c6 li-bullet-0">
                                <span class="c32 c77">good performance</span>
                            </li>
                            <li class="c6 li-bullet-0">
                                <span class="c60">single point of failure</span>
                            </li>
                        </ul>
                    </td>
                    <td class="c95" colspan="1" rowspan="1">
                        <p class="c20">
                            <span class="c1"
                                >Tokens are passed around a ring of
                                processes.</span
                            >
                        </p>
                        <ul class="c2 lst-kix_vrgt1trpfq6x-0">
                            <li class="c6 li-bullet-0">
                                <span class="c32 c77">safety</span>
                            </li>
                            <li class="c6 li-bullet-0">
                                <span class="c32 c77">liveness</span>
                            </li>
                            <li class="c6 li-bullet-0">
                                <span class="c55 c62">no fairness</span>
                            </li>
                            <li class="c6 li-bullet-0">
                                <span class="c32 c77">no bottleneck</span>
                            </li>
                            <li class="c6 li-bullet-0">
                                <span class="c60">higher bandwidth usage</span>
                            </li>
                        </ul>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c86" colspan="1" rowspan="1">
                        <p class="c56">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 194.67px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image73.png"
                                    style="
                                        width: 286px;
                                        height: 194.67px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c86" colspan="1" rowspan="1">
                        <p class="c56">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 285.78px;
                                    height: 238.5px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image68.png"
                                    style="
                                        width: 285.78px;
                                        height: 238.5px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c34 c41" colspan="1" rowspan="1">
                        <p class="c20">
                            <span class="c29"
                                >Ricart and Agrawala&rsquo;s Algorithm</span
                            >
                        </p>
                    </td>
                    <td class="c34 c41" colspan="1" rowspan="1">
                        <p class="c20">
                            <span class="c29"
                                >Maekawa&rsquo;s Voting algorithm</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c95" colspan="1" rowspan="1">
                        <p class="c20">
                            <span
                                >Uses totally-ordered time stamps. Must receive
                                responses from all other </span
                            ><span>participants</span
                            ><span class="c1"
                                >&nbsp;before using critical region.</span
                            >
                        </p>
                        <ul class="c2 lst-kix_3la3wlvnayj4-0 start">
                            <li class="c6 li-bullet-0">
                                <span class="c32 c77">safety</span>
                            </li>
                            <li class="c6 li-bullet-0">
                                <span class="c32 c77">liveness</span>
                            </li>
                            <li class="c6 li-bullet-0">
                                <span class="c32 c77">fairness</span>
                            </li>
                            <li class="c6 li-bullet-0">
                                <span class="c32 c77">good performance</span>
                            </li>
                            <li class="c6 li-bullet-0">
                                <span class="c60"
                                    >failure of even just one node has big
                                    repercussions</span
                                >
                            </li>
                        </ul>
                    </td>
                    <td class="c95" colspan="1" rowspan="1">
                        <p class="c20">
                            <span class="c1"
                                >Only need all responses from our respective
                                group to access critical region. All groups
                                overlap.</span
                            >
                        </p>
                        <ul class="c2 lst-kix_ok8qzn8jv4yr-0 start">
                            <li class="c6 li-bullet-0">
                                <span class="c32 c77">safety</span>
                            </li>
                            <li class="c6 li-bullet-0">
                                <span class="c55 c62">no liveness</span>
                            </li>
                            <li class="c6 li-bullet-0">
                                <span class="c55 c62">no fairness</span>
                            </li>
                            <li class="c6 li-bullet-0">
                                <span class="c32 c77"
                                    >performance is slightly better than Ricart
                                    and Agrawala</span
                                >
                            </li>
                            <li class="c6 li-bullet-0">
                                <span class="c60"
                                    >can have deadlocks (but can be
                                    mitigated)</span
                                >
                            </li>
                        </ul>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c86" colspan="1" rowspan="1">
                        <p class="c24">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 251px;
                                    height: 226px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image131.png"
                                    style="
                                        width: 251px;
                                        height: 226px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c86" colspan="1" rowspan="1">
                        <p class="c24">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 197.33px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image185.png"
                                    style="
                                        width: 286px;
                                        height: 197.33px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c16 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_vnce02tqlefx-0 start">
            <li class="c6 li-bullet-0">
                <span class="c39 c14">Leader Election</span>
            </li>
            <li class="c6 li-bullet-0"><span class="c1">Assumptions:</span></li>
        </ul>
        <ul class="c2 lst-kix_vnce02tqlefx-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >N processes with unique, totally ordered IDs</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Messages are eventually delivered (no failed packets)</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Process with highest ID must win the election</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_vnce02tqlefx-0">
            <li class="c6 li-bullet-0"><span class="c1">Correctness:</span></li>
        </ul>
        <ul class="c2 lst-kix_vnce02tqlefx-1 start">
            <li class="c0 li-bullet-0">
                <span>Safety: a participant&rsquo;s vote must either be </span
                ><img src="assets/distributed-systems-and-networks/image47.png" /><span class="c1"
                    >&nbsp;or P (where P is non-crashed process with highest
                    ID)</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span
                    >Liveness: all processes participate &amp; eventually set
                    their vote to something other than </span
                ><img src="assets/distributed-systems-and-networks/image47.png" /><span>(or they crash)</span>
            </li>
        </ul>
        <a id="t.7b54b6ffe42b19eb2ab5794cd83fc2cbc86eebbe"></a><a id="t.37"></a>
        <table class="c18">
            <tbody>
                <tr class="c33">
                    <td class="c34 c41" colspan="1" rowspan="1">
                        <p class="c20">
                            <span class="c29">Ring-based algorithm</span>
                        </p>
                    </td>
                    <td class="c34 c41" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c29">Bully election algorithm</span>
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c95" colspan="1" rowspan="1">
                        <p class="c20">
                            <span
                                >Pass ELECTION and ELECTED messages around in a
                                ring, updating the process ID inside it. Used in </span
                            ><span class="c29">asynchronous</span
                            ><span class="c1">&nbsp;systems.</span>
                        </p>
                        <ul class="c2 lst-kix_vnce02tqlefx-0">
                            <li class="c6 li-bullet-0">
                                <span class="c32 c77">safety</span>
                            </li>
                            <li class="c6 li-bullet-0">
                                <span class="c32 c77">liveness</span>
                            </li>
                            <li class="c6 li-bullet-0">
                                <span class="c88 c156 c138"
                                    >does not tolerate failures (however we can
                                    modify to use a list, which mitigates
                                    this)</span
                                >
                            </li>
                            <li class="c6 li-bullet-0">
                                <span class="c138 c156"
                                    >O(N) in both worst and best case</span
                                >
                            </li>
                        </ul>
                    </td>
                    <td class="c95" colspan="1" rowspan="1">
                        <p class="c16">
                            <span
                                >When a coordinator fails, failure detection
                                systems fire off in other nodes and they send
                                ELECTION and COORDINATOR messages to decide the
                                new coordinator. Used in </span
                            ><span class="c29">synchronous</span
                            ><span class="c1">&nbsp;systems.</span>
                        </p>
                        <ul class="c2 lst-kix_yehxh36qbkw2-0 start">
                            <li class="c15 li-bullet-0">
                                <span class="c55 c62">no safety</span>
                            </li>
                            <li class="c15 li-bullet-0">
                                <span class="c32 c77">liveness</span>
                            </li>
                            <li class="c15 li-bullet-0">
                                <span class="c156 c138">O(N</span
                                ><span class="c156 c138 c117">2</span
                                ><span class="c156 c138"
                                    >) worst case, O(N) best case</span
                                >
                            </li>
                        </ul>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c86" colspan="1" rowspan="1">
                        <p class="c24">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 208px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image103.png"
                                    style="
                                        width: 286px;
                                        height: 208px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c86" colspan="1" rowspan="1">
                        <p class="c24">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 162.67px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image88.png"
                                    style="
                                        width: 286px;
                                        height: 162.67px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c16 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_aa82fjj9yvmb-0 start">
            <li class="c15 li-bullet-0">
                <span class="c39 c14">Reliable and Ordered Multicast</span>
            </li>
            <li class="c15 li-bullet-0">
                <span class="c29">Closed group</span
                ><span class="c1">: only members can multicast</span>
            </li>
            <li class="c15 li-bullet-0">
                <span class="c29">Open group</span
                ><span class="c1">: anyone can multicast</span>
            </li>
        </ul>
        <p class="c16 c141 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_aa82fjj9yvmb-0">
            <li class="c15 li-bullet-0">
                <span class="c29">Basic multicast</span
                ><span class="c1"
                    >: sends messages directly to all participants. No specific
                    order or reliability</span
                >
            </li>
            <li class="c15 li-bullet-0">
                <span class="c29">Reliable multicast</span
                ><span class="c1"
                    >: basic multicasts, then everyone who receives a new
                    message basic multicasts that too. Ensures reliability.
                    It&rsquo;s what we implemented in the second
                    coursework.</span
                >
            </li>
            <li class="c15 li-bullet-0">
                <span class="c29">Ordered multicast</span
                ><span class="c1"
                    >: a multicast that ensures some form of order</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_aa82fjj9yvmb-1 start">
            <li class="c16 c128 li-bullet-0">
                <span class="c29">FIFO order</span
                ><span
                    >: messages sent before other messages must come first. </span
                ><span class="c14">Process-specific sequence numbers</span
                ><span class="c1">&nbsp;are used.</span>
            </li>
            <li class="c16 c128 li-bullet-0">
                <span class="c29">Causal order</span
                ><span>: extension of FIFO, but uses causal relation </span
                ><img src="assets/distributed-systems-and-networks/image40.png" /><span
                    >&nbsp;(includes concepts like responses). </span
                ><span class="c14">Vector timestamps</span
                ><span class="c1">&nbsp;are used.</span>
            </li>
            <li class="c16 c128 li-bullet-0">
                <span class="c29">Total order</span
                ><span
                    >: all messages received in the same order by all processes. </span
                ><span class="c14">Group-specific sequence numbers</span
                ><span>&nbsp;are used. </span
                ><span class="c29 c71">Impossible</span
                ><span class="c29 c71">&nbsp;</span><span>to use in </span
                ><span class="c29 c71">asynchronous</span
                ><span class="c1"
                    >&nbsp;system, because total order can solve
                    consensus.</span
                >
            </li>
        </ul>
        <p class="c16 c141 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_aa82fjj9yvmb-0">
            <li class="c15 li-bullet-0">
                <span class="c39 c14">Consensus</span>
            </li>
            <li class="c15 li-bullet-0">
                <span class="c29">Byzantine failures</span
                ><span class="c1"
                    >: processes lying/giving false information in a consensus
                    algorithm</span
                >
            </li>
            <li class="c15 li-bullet-0">
                <span class="c1"
                    >Solve consensus =&gt; can solve RTO multicast</span
                >
            </li>
            <li class="c15 li-bullet-0">
                <span class="c1"
                    >Solve RTO multicast =&gt; can solve consensus</span
                >
            </li>
        </ul>
        <p class="c16 c141 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_f2ztn7h3pn2y-0 start">
            <li class="c15 li-bullet-0">
                <span>In </span><span class="c14">synchronous</span
                ><span class="c1"
                    >&nbsp;systems, we can use 2PC to get consensus</span
                >
            </li>
            <li class="c15 li-bullet-0">
                <span>Impossible to get consensus if </span
                ><img src="assets/distributed-systems-and-networks/image54.png" /><span
                    >, where N is processes and f is number of liars. Called </span
                ><span>Byzantine</span
                ><span class="c1">&nbsp;generals problem.</span>
            </li>
        </ul>
        <p class="c16 c141 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_f2ztn7h3pn2y-0">
            <li class="c15 li-bullet-0">
                <span>In </span><span class="c14">asynchronous</span
                ><span class="c1"
                    >&nbsp;systems, no algorithm for consensus</span
                >
            </li>
            <li class="c15 li-bullet-0">
                <span class="c1"
                    >Can have almost-perfect algorithm, like modified ring-based
                    algorithm</span
                >
            </li>
        </ul>
        <p class="c16 c141 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_f2ztn7h3pn2y-0">
            <li class="c15 li-bullet-0">
                <span class="c14">Consistency models</span>
            </li>
        </ul>
        <a id="t.540247e23ac7750dbbb3700bdf6688e7ee2aa9af"></a><a id="t.38"></a>
        <table class="c18">
            <tbody>
                <tr class="c33">
                    <td class="c77 c173" colspan="1" rowspan="1">
                        <p class="c24"><span class="c143 c29 c189">CP</span></p>
                    </td>
                    <td class="c164 c77" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c119 c29 c131"
                                >Strong consistency (Google BigTable)</span
                            >
                        </p>
                        <ul class="c2 lst-kix_vzg0muu094t2-0 start">
                            <li class="c15 li-bullet-0">
                                <span class="c32"
                                    >Messages have global timestamps</span
                                >
                            </li>
                            <li class="c15 li-bullet-0">
                                <span class="c32"
                                    >Order of messages respect timestamp</span
                                >
                            </li>
                            <li class="c15 li-bullet-0">
                                <span class="c32"
                                    >Expensive, and not always necessary</span
                                >
                            </li>
                        </ul>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c108 c188" colspan="1" rowspan="1">
                        <p class="c24 c40">
                            <span class="c143 c145 c29"></span>
                        </p>
                    </td>
                    <td class="c164 c188" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c119 c179 c145 c29"
                                >Sequential consistency</span
                            >
                        </p>
                        <ul class="c2 lst-kix_guatcsdpixhn-0 start">
                            <li class="c15 li-bullet-0">
                                <span class="c88 c145"
                                    >Shuffles read and write operations
                                    together, like multi-threading or if a
                                    switch selects operations each
                                    iteration</span
                                >
                            </li>
                        </ul>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c108 c138" colspan="1" rowspan="1">
                        <p class="c24 c40">
                            <span class="c143 c156 c29"></span>
                        </p>
                    </td>
                    <td class="c164 c138" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c119 c179 c156 c29"
                                >Strong eventual consistency</span
                            >
                        </p>
                        <ul class="c2 lst-kix_jzqkichwr5j-0 start">
                            <li class="c15 li-bullet-0">
                                <span class="c88 c156"
                                    >Good compromise (don&rsquo;t need to know
                                    this one)</span
                                >
                            </li>
                        </ul>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c62 c108" colspan="1" rowspan="1">
                        <p class="c24 c40">
                            <span class="c143 c29 c171"></span>
                        </p>
                    </td>
                    <td class="c62 c164" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c8">Causal consistency</span>
                        </p>
                        <ul class="c2 lst-kix_fiq4ia5vamgk-0 start">
                            <li class="c15 li-bullet-0">
                                <span class="c55"
                                    >Uses the causal relation and vector
                                    clocks</span
                                >
                            </li>
                            <li class="c15 li-bullet-0">
                                <span class="c55"
                                    >Operations are only in order by the causal
                                    relation</span
                                >
                            </li>
                            <li class="c15 li-bullet-0">
                                <span class="c55"
                                    >Better performance than sequential</span
                                >
                            </li>
                        </ul>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c181" colspan="1" rowspan="1">
                        <p class="c24"><span class="c122 c29 c143">AP</span></p>
                    </td>
                    <td class="c162" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c119 c122 c29 c179"
                                >Eventual consistency (Amazon Dynamo)</span
                            >
                        </p>
                        <ul class="c2 lst-kix_3g6uzn4962u6-0 start">
                            <li class="c15 li-bullet-0">
                                <span class="c88 c122"
                                    >Lazy; eventually update replicas</span
                                >
                            </li>
                            <li class="c15 li-bullet-0">
                                <span class="c88 c122"
                                    >Can have conflicts, so we can use consensus
                                    or roll back</span
                                >
                            </li>
                        </ul>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c16 c40"><span class="c1"></span></p>
        <h2 class="c44" id="h.8bhozeqe2vv-49">
            <span class="c9">Leonardo&rsquo;s stuff</span>
        </h2>
        <ul class="c2 lst-kix_9d9jn3kfo33u-0 start">
            <li class="c6 li-bullet-0">
                <span class="c39 c14">Data Replication and Scalability</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">Primary-backup</span
                ><span class="c1"
                    >: one primary server, many back-up servers. Back-up servers
                    are updated with updates passed to primary server.</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 310.5px;
                    height: 266.92px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image92.png"
                    style="
                        width: 310.5px;
                        height: 266.92px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_c5po9frcqz4n-0 start">
            <li class="c6 li-bullet-0">
                <span class="c14">Bottleneck</span
                ><span class="c1">: primary and back-up servers</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c14">Mitigation</span><span class="c1">:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_c5po9frcqz4n-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Share data on lots of primary servers, but we&rsquo;ll need
                    coordination.</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >Primary server only waits for some ACKs, but not all
                    back-ups may be up-to-date.</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_q1dpaa26q4nx-0 start">
            <li class="c6 li-bullet-0">
                <span class="c29">CAP theorem</span
                ><span class="c1">: Pick two out of three:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_q1dpaa26q4nx-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">C</span><span class="c1">onsistency</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">A</span><span class="c1">vailability</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">P</span
                ><span class="c1">artition tolerance</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_q1dpaa26q4nx-0">
            <li class="c6 li-bullet-0">
                <span class="c1">Assessing scalability:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_q1dpaa26q4nx-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">Scale parameters</span
                ><span class="c1">: raw data that changes over time</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Scalability metrics</span
                ><span class="c1">: measurements of parameters</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Scalability criteria</span
                ><span class="c1"
                    >: conditions based on metrics that should be true</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_9d9jn3kfo33u-0">
            <li class="c6 li-bullet-0">
                <span class="c39 c14"
                    >Highly Available Distributed Data Stores (Amazon
                    Dynamo)</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">Amazon Dynamo</span
                ><span class="c1"
                    >: key-value store based on a ring architecture (distributed
                    hash table).</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">Preference list</span
                ><span class="c1"
                    >: list of nodes responsible for a key. More than N</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">Request coordinator</span
                ><span class="c1"
                    >: first non-faulty node in the preference list</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 335px;
                    height: 242.29px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image111.png"
                    style="
                        width: 335px;
                        height: 242.29px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_9d9jn3kfo33u-0">
            <li class="c6 li-bullet-0">
                <span class="c1">Three parameters:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_9d9jn3kfo33u-1 start">
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >N - number of nodes to request reads/writes</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >W - number of expected nodes to respond to writes</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c1"
                    >R - number of expected nodes to respond to reads</span
                >
            </li>
        </ul>
        <ul class="c2 lst-kix_9d9jn3kfo33u-0">
            <li class="c6 li-bullet-0">
                <img src="assets/distributed-systems-and-networks/image58.png" /><span class="c1"
                    >&nbsp;- can return stale versions of the object</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <img src="assets/distributed-systems-and-networks/image59.png" /><span class="c1"
                    >&nbsp;- when we read, we can get multiple versions</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <img src="assets/distributed-systems-and-networks/image60.png" /><span class="c1"
                    >&nbsp;- optimise reading</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <img src="assets/distributed-systems-and-networks/image61.png" /><span class="c1"
                    >&nbsp;- optimise writing</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_9d9jn3kfo33u-0">
            <li class="c6 li-bullet-0">
                <span class="c1">How to diverge branches:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_9d9jn3kfo33u-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">Syntactic reconciliation</span
                ><span class="c1"
                    >: if new version subsumes previous version, simply
                    merge</span
                >
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Semantic reconciliation</span
                ><span class="c1"
                    >: send branches to client to decide. Uses vector clocks
                    with node ID and update count pairs</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_9d9jn3kfo33u-0">
            <li class="c6 li-bullet-0">
                <span class="c29">Sloppy quorum</span
                ><span
                    >: if node in preference list dies, pick a node outside N
                    but within preference list to update and remind dead node
                    when it comes back online (called </span
                ><span class="c29">hinted handoff</span
                ><span class="c1">)</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">Replica synchronisation</span
                ><span class="c1"
                    >: periodic protocol runs in background and ensures
                    everything is synced. Based on Merkle trees.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_9d9jn3kfo33u-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Why AP: sloppy quorum lets Dynamo run even when nodes go
                    down. There are conflicts, so it&rsquo;s not CP</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_aconatmzfajx-0 start">
            <li class="c6 li-bullet-0">
                <span class="c14">Bottleneck</span
                ><span class="c1">: all the nodes, collectively</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c14">Mitigation</span
                ><span class="c1">: add more nodes</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_9d9jn3kfo33u-0">
            <li class="c6 li-bullet-0">
                <span class="c14">Scalability</span
                ><span class="c1"
                    >: adding nodes is easy, the following nodes gives the new
                    node the keys they&rsquo;re not in charge of anymore</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_9d9jn3kfo33u-0">
            <li class="c6 li-bullet-0">
                <span class="c39 c14"
                    >Consistent Distributed Data Stores (Google BigTable)</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">Google BigTable</span
                ><span class="c1"
                    >: table-based store that splits up columns into
                    families</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_9d9jn3kfo33u-0">
            <li class="c6 li-bullet-0">
                <span>Rows of families =&gt; stored in </span
                ><span class="c21">tablets</span>
            </li>
            <li class="c6 li-bullet-0">
                <span>Tablets =&gt; stored in </span
                ><span class="c21">tablet servers</span>
            </li>
            <li class="c6 li-bullet-0">
                <span>Tablet servers =&gt; managed by </span
                ><span class="c29">master server</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Tablets point to SSTables with data in chunkservers</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_9d9jn3kfo33u-0">
            <li class="c6 li-bullet-0">
                <span class="c29">GFS (Google File System)</span
                ><span class="c1">: file system that BigTable uses</span>
            </li>
            <li class="c6 li-bullet-0">
                <span>Files =&gt; divided into </span
                ><span class="c21">chunks</span>
            </li>
            <li class="c6 li-bullet-0">
                <span>Chunks =&gt; replicated onto </span
                ><span class="c29">chunkservers</span>
            </li>
            <li class="c6 li-bullet-0">
                <span>Chunkservers =&gt; managed by </span
                ><span class="c29">master server</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_9d9jn3kfo33u-0">
            <li class="c6 li-bullet-0">
                <span class="c29">Chubby</span
                ><span class="c1"
                    >: highly available config server storing files,
                    directories, parameters, tidbits to help BigTable run</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 383px;
                    height: 352.17px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image116.png"
                    style="
                        width: 383px;
                        height: 352.17px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_j6pd9l16h4m3-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1">Tablet levels:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_j6pd9l16h4m3-1 start">
            <li class="c0 li-bullet-0">
                <span class="c30">First level</span
                ><span class="c1">: Chubby -&gt; root tablet</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c30">Second level</span
                ><span class="c1">: Root tablet -&gt; METADATA tablets</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c30">Third level</span
                ><span class="c1"
                    >: METADATA tablets -&gt; user data tablets</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_j6pd9l16h4m3-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Master server and tablet servers have their own locks in
                    Chubby</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_j6pd9l16h4m3-0">
            <li class="c6 li-bullet-0">
                <span class="c29">SSTable (Sorted Strings Table)</span
                ><span class="c1"
                    >: file format used by BigTable to store data</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Immutable ordered key-value</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Split up into blocks</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_j6pd9l16h4m3-0">
            <li class="c6 li-bullet-0">
                <span class="c29">memtable </span
                ><span class="c1"
                    >is buffer, SSTable store locked immutable changes</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c14">writes</span><span>: goes to memtable, </span
                ><span class="c14">reads</span
                ><span class="c1"
                    >: merge memtable and SSTables together to read</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c1"></span></p>
        <a id="t.e3fe5b29c74b5b304dde9dd6bf951a6583ffd6c5"></a><a id="t.39"></a>
        <table class="c18">
            <tbody>
                <tr class="c33">
                    <td class="c34 c41" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c21">Minor compaction</span>
                        </p>
                    </td>
                    <td class="c34 c41" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c21">Major compaction</span>
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c95" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >Empty out memtable into new SSTable</span
                            >
                        </p>
                    </td>
                    <td class="c95" colspan="1" rowspan="1">
                        <p class="c16">
                            <span class="c1"
                                >Compress all SSTables and memtable into one big
                                SSTable</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c33">
                    <td class="c86" colspan="1" rowspan="1">
                        <p class="c56">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 94.67px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image86.png"
                                    style="
                                        width: 286px;
                                        height: 94.67px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                    <td class="c86" colspan="1" rowspan="1">
                        <p class="c56">
                            <span
                                style="
                                    overflow: hidden;
                                    display: inline-block;
                                    margin: 0px 0px;
                                    border: 0px solid #000000;
                                    transform: rotate(0rad) translateZ(0px);
                                    -webkit-transform: rotate(0rad)
                                        translateZ(0px);
                                    width: 286px;
                                    height: 157.33px;
                                "
                                ><img
                                    alt=""
                                    src="assets/distributed-systems-and-networks/image212.png"
                                    style="
                                        width: 286px;
                                        height: 157.33px;
                                        margin-left: 0px;
                                        margin-top: 0px;
                                        transform: rotate(0rad) translateZ(0px);
                                        -webkit-transform: rotate(0rad)
                                            translateZ(0px);
                                    "
                                    title=""
                            /></span>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_s56hwz6r6op-0 start">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Why CP: if master dies, no requests, or when tablet server
                    dies, tablet cannot serve requests; less availability</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >GFS is copy-on-write, so reads/writes are serialised, no
                    race conditions, more consistency</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_s56hwz6r6op-0">
            <li class="c6 li-bullet-0">
                <span class="c14">Bottleneck</span
                ><span class="c1">: tablet servers and GFS chunkservers</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c14">Mitigation</span
                ><span class="c1"
                    >: add more tablet servers / chunkservers, but then master
                    will become bottleneck</span
                >
            </li>
        </ul>
        <p class="c20 c40"><span class="c39 c14"></span></p>
        <ul class="c2 lst-kix_9d9jn3kfo33u-0">
            <li class="c6 li-bullet-0">
                <span class="c39 c14">Online Distributed Processing</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">Apache Storm</span
                ><span class="c1"
                    >: used to handle streams of incoming data / events</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">Spout</span
                ><span class="c1">: outputs raw data</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c29">Bolt</span
                ><span class="c1"
                    >: modifies data in some way and passes it on / stores
                    it</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 443.5px;
                    height: 200.39px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image129.png"
                    style="
                        width: 443.5px;
                        height: 200.39px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c20 c40"><span class="c1"></span></p>
        <ul class="c2 lst-kix_p7tzp1fmfd0h-0 start">
            <li class="c6 li-bullet-0">
                <span>One </span><span class="c29">master </span
                ><span>node, many </span><span class="c29">worker </span
                ><span class="c1">nodes</span>
            </li>
            <li class="c6 li-bullet-0">
                <span>Master node runs </span><span class="c29">Nimbus </span
                ><span>process, which has a </span
                ><span class="c21">scheduler</span>
            </li>
            <li class="c6 li-bullet-0">
                <span>Worker nodes have a </span
                ><span class="c29">supervisor </span><span>with many </span
                ><span class="c29">executors</span><span>&nbsp;(threads)</span
                ><span class="c29">&nbsp;</span
                ><span class="c1">running worker processes</span>
            </li>
            <li class="c6 li-bullet-0">
                <span>Whole thing is called a </span
                ><span class="c29">cluster</span><span class="c1">.</span>
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_p7tzp1fmfd0h-0">
            <li class="c6 li-bullet-0">
                <span class="c29">Replication</span
                ><span class="c1"
                    >: pipelining stateless operations to distribute
                    workload</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Grouping strategies:</span>
            </li>
        </ul>
        <ul class="c2 lst-kix_p7tzp1fmfd0h-1 start">
            <li class="c0 li-bullet-0">
                <span class="c29">Shuffle</span><span class="c1">: random</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Fields</span
                ><span class="c1">: based on fields predicate</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">All</span
                ><span class="c1">: all data is sent on all pipes</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">None</span
                ><span class="c1">: don&rsquo;t care</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Direct</span
                ><span class="c1">: producer picks explicitly</span>
            </li>
            <li class="c0 li-bullet-0">
                <span class="c29">Local or shuffle</span
                ><span class="c1"
                    >: pipe data to nodes running on same worker node</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_p7tzp1fmfd0h-0">
            <li class="c6 li-bullet-0">
                <span class="c14">Bottleneck</span
                ><span class="c1"
                    >: CPU / memory of overloaded spout/bolts.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c14">Mitigation</span
                ><span class="c1"
                    >: increase replication factor or add more worker
                    nodes</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_p7tzp1fmfd0h-0">
            <li class="c6 li-bullet-0">
                <span class="c29">acker </span
                ><span class="c1"
                    >monitors DAG of input tuple and prunes DAG when bolt acks
                    acker.</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >When DAG is empty, acker sends message to spout saying
                    input processing was successful</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >When timeout, acker sends message to spout saying
                    it&rsquo;s failed. Spout may repeat input.</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c39 c14"></span></p>
        <ul class="c2 lst-kix_9d9jn3kfo33u-0">
            <li class="c6 li-bullet-0">
                <span class="c39 c14">Batch Distributed Processing</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >We store data instead of processing it straight away</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Not suitable for real-time systems</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Uses splitting -&gt; map -&gt; shuffling -&gt; reduce
                    procedure</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_9d9jn3kfo33u-0">
            <li class="c6 li-bullet-0">
                <span class="c29">Google MapReduce</span
                ><span class="c1"
                    >: implementation of batch distributed processing</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_9d9jn3kfo33u-0">
            <li class="c6 li-bullet-0">
                <span class="c29">Apache Hadoop</span
                ><span class="c1"
                    >: another implementation of batch distributed
                    processing</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >JobTracker -&gt; delegates jobs to TaskTrackers</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >TaskTracker -&gt; delegates tasks to task processes</span
                >
            </li>
        </ul>
        <p class="c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 326.5px;
                    height: 262.5px;
                "
                ><img
                    alt=""
                    src="assets/distributed-systems-and-networks/image65.png"
                    style="
                        width: 326.5px;
                        height: 262.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c2 lst-kix_kndt5xnv9q3b-0 start">
            <li class="c6 li-bullet-0">
                <span class="c14">Bottleneck</span
                ><span class="c1">: task tracker, if too many tasks</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c14">Mitigation</span
                ><span class="c1"
                    >: add more task trackers. If we add too many, job tracker
                    will be bottleneck</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_kndt5xnv9q3b-0">
            <li class="c6 li-bullet-0">
                <span class="c29">HDFS (Hadoop Distributed File System)</span
                ><span class="c1"
                    >: file system used by Hadoop, designed for single writer
                    multiple reader</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Data =&gt; divided into chunks</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1">Chunks =&gt; replicated over DataNodes</span>
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >NameNode =&gt; decides which chunk goes in which
                    DataNode</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_kndt5xnv9q3b-0">
            <li class="c6 li-bullet-0">
                <span class="c29">Locality awareness</span
                ><span class="c1"
                    >: job tracker assigns mappers to task trackers with data
                    nodes storing the data they need</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <ul class="c2 lst-kix_kndt5xnv9q3b-0">
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Task fails: Job tracker detects it, moves it to another
                    task tracker</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Task tracker fails: blacklisted, all tasks moved to another
                    task tracker</span
                >
            </li>
            <li class="c6 li-bullet-0">
                <span class="c1"
                    >Job tracker fails: you&rsquo;re stuffed; single point of
                    failure</span
                >
            </li>
        </ul>
        <p class="c13"><span class="c1"></span></p>
        <p class="c56">
            <span class="c1"
                >&#x1f38a; You&rsquo;ve reached the end. Good luck on the exam!
                &#x1f38a;</span
            >
        </p>
    </body>
</html>
