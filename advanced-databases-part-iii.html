<html>
    <head>
        <meta content="text/html; charset=UTF-8" http-equiv="content-type" />
        <link rel="stylesheet" href="css/advanced-databases-part-iii.css" />
        <link rel="stylesheet" href="css/page.css" />
    </head>

    <body class="c45">
        <div>
            <p class="c44">
                <span class="c99 c102"
                    ><a class="c47" href="index.html"
                        >Computer Science / Software Engineering Notes
                        Network</a
                    ></span
                >
            </p>
            <p class="c44">
                <span class="c99 c102"
                    ><a class="c47" href="advanced-databases-part-iii.html"
                        >Advanced Database Notes Part 1</a
                    ></span
                >
            </p>
        </div>
        <p class="c67 c115 title" id="h.rxgh0p54p9bi">
            <span class="c71 c68 c27 c112">Advanced Databases Part 3</span
            ><span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 261.5px;
                    height: 154.21px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image37.png"
                    style="
                        width: 261.5px;
                        height: 154.21px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c4 c67 subtitle" id="h.gmb3eefrpucv">
            <span class="c71 c68 c20 c74">Matthew Barnes</span>
        </p>
        <p class="c67 c76 subtitle" id="h.86pb8zsnuvxp">
            <span class="c71 c68 c20 c74">Emilia Szynkowska</span>
        </p>
        <p class="c121">
            <span class="c21 c20 c9"
                ><a class="c47" href="#h.cr6lldttsi01"
                    >Transactions and Concurrency</a
                ></span
            ><span class="c21 c20 c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c21 c20 c9"
                ><a class="c47" href="#h.cr6lldttsi01">2</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.10xl5qf4rygf"
                    >Transaction Problems</a
                ></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.10xl5qf4rygf">3</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.10xl5qf4rygf">ACID</a></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.10xl5qf4rygf">5</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.10xl5qf4rygf">Locking</a></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.10xl5qf4rygf">8</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.10xl5qf4rygf"
                    >Two-Phase Locking (2PL)</a
                ></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.10xl5qf4rygf">9</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.10xl5qf4rygf">Deadlock</a></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.10xl5qf4rygf">10</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.10xl5qf4rygf">Timestamps</a></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.10xl5qf4rygf">11</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.10xl5qf4rygf"
                    >Granularity and Concurrency</a
                ></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.10xl5qf4rygf">12</a></span
            >
        </p>
        <p class="c40">
            <span class="c21 c20 c9"
                ><a class="c47" href="#h.dji9fyk2a43t"
                    >Advanced Transactions</a
                ></span
            ><span class="c21 c20 c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c21 c20 c9"
                ><a class="c47" href="#h.dji9fyk2a43t">13</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.3ain587tioeb"
                    >Timestamp Ordering</a
                ></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.3ain587tioeb">13</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.puq0f9rgomc"
                    >Thomas&rsquo;s Write Rule</a
                ></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.puq0f9rgomc">13</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.3ain587tioeb"
                    >Save Points in Transactions</a
                ></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.3ain587tioeb">14</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.h8hkaz8iwvt3"
                    >Nested Transactions</a
                ></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.h8hkaz8iwvt3">15</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.3so9onbr6hxn">Sagas</a></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.3so9onbr6hxn">16</a></span
            >
        </p>
        <p class="c40">
            <span class="c21 c20 c9"
                ><a class="c47" href="#h.3n4vgekft3gx"
                    >Logging and Recovery</a
                ></span
            ><span class="c21 c20 c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c20 c9 c21"
                ><a class="c47" href="#h.3n4vgekft3gx">16</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.auefzw8a9cda">Logging</a></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.auefzw8a9cda">17</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.ylzyfgj10mu0">Undo Logging</a></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.ylzyfgj10mu0">17</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.olbgk9ogipte">Redo Logging</a></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.olbgk9ogipte">19</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.xgfq09xlo9ht"
                    >Undo/Redo Logging</a
                ></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.xgfq09xlo9ht">20</a></span
            >
        </p>
        <p class="c40">
            <span class="c21 c20 c9"
                ><a class="c47" href="#h.f55x96tg8esy"
                    >Parallel Databases</a
                ></span
            ><span class="c21 c20 c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c21 c20 c9"
                ><a class="c47" href="#h.f55x96tg8esy">20</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.woysht25dh9y"
                    >The I/O bottleneck</a
                ></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.woysht25dh9y">20</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.woysht25dh9y"
                    >Parallel architectures</a
                ></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.woysht25dh9y">21</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.woysht25dh9y"
                    >Parallel query processing</a
                ></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.woysht25dh9y">24</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.jxor9xr84m2q">Joins</a></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.jxor9xr84m2q">29</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.xs1vpsueo9qt"
                    >Concurrency control</a
                ></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.xs1vpsueo9qt">32</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.jxor9xr84m2q">Reliability</a></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.jxor9xr84m2q">33</a></span
            >
        </p>
        <p class="c40">
            <span class="c21 c20 c9"
                ><a class="c47" href="#h.mjbylyfzlbu"
                    >Distributed Databases</a
                ></span
            ><span class="c21 c20 c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c21 c20 c9"
                ><a class="c47" href="#h.mjbylyfzlbu">35</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.e3wvtvqffqqt"
                    >Distributed DBMS Principles</a
                ></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.e3wvtvqffqqt">36</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.35f1jjd3a4zt">Fragmentation</a></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.35f1jjd3a4zt">37</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.e3wvtvqffqqt"
                    >Query Processing</a
                ></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.e3wvtvqffqqt">41</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.e3wvtvqffqqt"
                    >Distributed Joins</a
                ></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.e3wvtvqffqqt">43</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.e3wvtvqffqqt"
                    >Concurrency Control</a
                ></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.e3wvtvqffqqt">45</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.e3wvtvqffqqt">Reliability</a></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.e3wvtvqffqqt">50</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.e3wvtvqffqqt">The CAP Theorem</a></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.e3wvtvqffqqt">51</a></span
            >
        </p>
        <p class="c40">
            <span class="c21 c20 c9"
                ><a class="c47" href="#h.otpbfxibln1m"
                    >Data Warehousing</a
                ></span
            ><span class="c21 c20 c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c21 c20 c9"
                ><a class="c47" href="#h.otpbfxibln1m">51</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.m9lqnl1e6djk">OLTP vs OLAP</a></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.m9lqnl1e6djk">51</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.mby7d9qg7ics">Data Warehouses</a></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.mby7d9qg7ics">53</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.1ejvbrhq50gx">The OLAP Cube</a></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.1ejvbrhq50gx">54</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.uzmnzyyrskgz">OLAP Operations</a></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.uzmnzyyrskgz">54</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.l56kph26emrd">Star Schemas</a></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.l56kph26emrd">56</a></span
            >
        </p>
        <p class="c40">
            <span class="c21 c20 c9"
                ><a class="c47" href="#h.n4vdfthfcxoh"
                    >Information Retrieval</a
                ></span
            ><span class="c21 c20 c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c21 c20 c9"
                ><a class="c47" href="#h.n4vdfthfcxoh">57</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.gc2ofyyqpdxk"
                    >Implementation of IR Systems</a
                ></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.gc2ofyyqpdxk">58</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.qgoqhbr9ujtb">Indexing</a></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.qgoqhbr9ujtb">59</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.s7x25gc3pdom"
                    >The Boolean Model</a
                ></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.s7x25gc3pdom">60</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.yia2ulu2aw5f"
                    >The Vector Model</a
                ></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.yia2ulu2aw5f">61</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.d7lk22h1kul">Query Refinement</a></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.d7lk22h1kul">62</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.926w10uchy7t">Evaluation</a></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.926w10uchy7t">62</a></span
            >
        </p>
        <p class="c40">
            <span class="c21 c20 c9"
                ><a class="c47" href="#h.6epj6a7twhda"
                    >Non-Relational Databases</a
                ></span
            ><span class="c21 c20 c9"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c21 c20 c9"
                ><a class="c47" href="#h.6epj6a7twhda">64</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.kfhhsqt174uc"
                    >Hierarchical Databases</a
                ></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.kfhhsqt174uc">64</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.jc3zcdlzd0q3"
                    >Network Databases</a
                ></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.jc3zcdlzd0q3">65</a></span
            >
        </p>
        <p class="c16">
            <span class="c14 c20"
                ><a class="c47" href="#h.e9v170pxxqbl"
                    >Native XML Databases</a
                ></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.e9v170pxxqbl">65</a></span
            >
        </p>
        <p class="c56 c114">
            <span class="c14 c20"
                ><a class="c47" href="#h.lnngnh4yb6gz">NoSQL Databases</a></span
            ><span class="c14 c20"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
            ><span class="c14 c20"
                ><a class="c47" href="#h.lnngnh4yb6gz">66</a></span
            >
        </p>
        <h1 class="c69 c67" id="h.cr6lldttsi01">
            <span class="c70 c68 c27">Transactions and Concurrency</span>
        </h1>
        <ul class="c0 lst-kix_7k1oso1zq3fh-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >When we do hippity hoppity data magic with a database, many
                    users may be performing operations at the same time.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>This means we have an element of </span
                ><span class="c9">concurrency</span><span class="c12">.</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >That introduces a whole range of problems, like
                    serialisability, deadlocks etc.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Well, those problems won&rsquo;t solve themselves. This
                    topic talks about what problems we may face with concurrency
                    and how we solve them.</span
                >
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_7k1oso1zq3fh-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c9">Transaction</span
                ><span class="c12"
                    >: a logical unit of work that changes the contents of a
                    database. It can be made up of many different smaller
                    operations, such as read and write.</span
                >
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_7k1oso1zq3fh-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12">A possible problem could be this:</span>
            </li>
        </ul>
        <ol class="c0 lst-kix_3swv9efmm3v8-0 start" start="1">
            <li class="c4 c13 li-bullet-0">
                <span class="c12">User 1 finds seat 22a empty</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12">User 2 finds seat 22a empty</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12">User 1 books seat 22a</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12">User 2 books seat 22a</span>
            </li>
        </ol>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_8y8rkenpcaug-0 start">
            <li class="c4 c8 li-bullet-0">
                <span
                    >In a perfect world where Dio never gets the stone mask,
                    transactions would run </span
                ><span class="c9">serially</span><span class="c12">.</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >That means one at a time, with no overlap.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >However, we need parallelism; there are too many
                    transactions to do everything serially.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>Therefore transactions should be </span
                ><span class="c9">serialisable</span><span class="c12">.</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>No, that doesn&rsquo;t mean you can </span
                ><span class="c99 c102"
                    ><a
                        class="c47"
                        href="https://www.google.com/url?q=https://docs.oracle.com/javase/7/docs/api/java/io/Serializable.html&amp;sa=D&amp;source=editors&amp;ust=1623780633299000&amp;usg=AOvVaw36FKyETCQgEQA_IrKXkLR5"
                        >serialise the transaction to a file</a
                    ></span
                ><span class="c12">.</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >It means the transactions behave as if they were serial,
                    but they may be executed concurrently.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >In the possible problem, if those transactions were
                    serialised, user 1 would book seat 22a and user 2 would find
                    the seat already booked.</span
                >
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_8y8rkenpcaug-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Another possible problem is this. Let&rsquo;s say 456 is
                    giving &pound;100 to 123:</span
                >
            </li>
        </ul>
        <ol class="c0 lst-kix_k4aez5nfag7h-0 start" start="1">
            <li class="c4 c13 li-bullet-0">
                <span>Add &pound;100 to account 123 </span
                ><span class="c14 c22 c104">CRASH</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span>Subtract &pound;100 from account 456 </span
                ><span class="c14 c65 c33">SUCCESS</span>
            </li>
        </ol>
        <p class="c4 c26"><span class="c12"></span></p>
        <ul class="c0 lst-kix_2t6oq0a6gtjb-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >The operation on account 123 crashed, so nothing happens to
                    that balance.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >However, the operation on 456 still happened, so
                    effectively, 456 just lost money for no reason.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>Transactions should be </span
                ><span class="c9">atomic</span
                ><span class="c12"
                    >, meaning they should be fully executed or not at
                    all.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span
                    >If this transaction was atomic, when the operation on 123
                    crashed, the operation on 456 should&#39;ve been
                    cancelled.</span
                >
            </li>
        </ul>
        <h2 class="c42" id="h.10xl5qf4rygf">
            <span class="c50 c27">Transaction Problems</span>
        </h2>
        <ul class="c0 lst-kix_dus7x7tous4s-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >There are a variety of problems we can face.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>One is the </span
                ><span class="c9">lost update problem</span
                ><span class="c12"
                    >: one transaction reads a value, but another
                    transaction&rsquo;s operation is interleaved and updates
                    that value with something else, so when the former
                    transaction writes that value, the latter&rsquo;s update is
                    now &ldquo;lost&rdquo;.</span
                >
            </li>
        </ul>
        <p class="c4 c26"><span class="c12"></span></p>
        <a id="t.09be99cdaa6d62fbdf9577a8e2985be90786f758"></a><a id="t.0"></a>
        <table class="c54">
            <tbody>
                <tr class="c37">
                    <td class="c48" colspan="1" rowspan="1">
                        <p class="c3"><span class="c28 c68 c9">T1</span></p>
                    </td>
                    <td class="c88" colspan="1" rowspan="1">
                        <p class="c3"><span class="c17 c9">T2</span></p>
                    </td>
                    <td class="c82" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c92 c9">X</span
                            ><span class="c28 c9 c15">T1</span>
                        </p>
                    </td>
                    <td class="c94" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c92 c9">Y</span
                            ><span class="c28 c9 c15">T1</span>
                        </p>
                    </td>
                    <td class="c87" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c84 c9">X</span
                            ><span class="c52 c9 c15">T2</span>
                        </p>
                    </td>
                    <td class="c79" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c84 c9">Y</span
                            ><span class="c52 c9 c15">T2</span>
                        </p>
                    </td>
                    <td class="c77" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c83 c9">X</span
                            ><span class="c41 c9 c15">d</span>
                        </p>
                    </td>
                    <td class="c77" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c83 c9">Y</span
                            ><span class="c41 c9 c15">d</span>
                        </p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">read(X)</span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c22">20</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">20</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c14 c22">X := X - 10</span>
                        </p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c22">10</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">20</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c38">read(X)</span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">10</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c18">20</span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">20</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c14 c38">X := X + 5</span>
                        </p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">10</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c18">25</span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">20</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">write(X)</span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">10</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c18">25</span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c33">10</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">read(Y)</span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">10</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c22">50</span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c18">25</span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">10</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c38">write(X)</span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">10</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">50</span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c18">25</span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c33">25</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c14 c22">Y := Y + 10</span>
                        </p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">10</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c22">60</span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c18">25</span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">25</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">write(Y)</span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">10</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">60</span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c18">25</span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">25</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c33">60</span></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c4 c26"><span class="c12"></span></p>
        <ul class="c0 lst-kix_2sfn4q7vp3pg-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c9">Temporary Update (Dirty Read) problem</span
                ><span class="c12"
                    >: one transaction updates a DB item, but then fails. Item
                    is accessed before reverting to the original value.</span
                >
            </li>
        </ul>
        <p class="c4 c26"><span class="c12"></span></p>
        <a id="t.6c6ee11c894769382368ddd9a20f7c493bf105f2"></a><a id="t.1"></a>
        <table class="c54">
            <tbody>
                <tr class="c37">
                    <td class="c48" colspan="1" rowspan="1">
                        <p class="c3"><span class="c28 c68 c9">T1</span></p>
                    </td>
                    <td class="c88" colspan="1" rowspan="1">
                        <p class="c3"><span class="c17 c9">T2</span></p>
                    </td>
                    <td class="c82" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c92 c9">X</span
                            ><span class="c28 c9 c15">T1</span>
                        </p>
                    </td>
                    <td class="c94" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c92 c9">Y</span
                            ><span class="c28 c9 c15">T1</span>
                        </p>
                    </td>
                    <td class="c87" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c84 c9">X</span
                            ><span class="c52 c9 c15">T2</span>
                        </p>
                    </td>
                    <td class="c79" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c84 c9">Y</span
                            ><span class="c52 c9 c15">T2</span>
                        </p>
                    </td>
                    <td class="c77" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c83 c9">X</span
                            ><span class="c41 c9 c15">d</span>
                        </p>
                    </td>
                    <td class="c77" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c83 c9">Y</span
                            ><span class="c41 c9 c15">d</span>
                        </p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">read(X)</span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c22">20</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">20</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c14 c22">X := X - 10</span>
                        </p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c22">10</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">20</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">write(X)</span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">10</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c33">10</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c38">read(X)</span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">10</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c18">10</span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">10</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c14 c38">X := X + 5</span>
                        </p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">10</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c18">15</span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">10</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c38">write(X)</span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">10</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c18">15</span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c33">15</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">read(Y)</span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">10</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c22">50</span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c18">15</span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">15</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">CRASH :O</span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c21 c9 c33"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c33"></span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">rollback</span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c33">20</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c4 c26"><span class="c12"></span></p>
        <ul class="c0 lst-kix_bmw1vx26rhs7-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c9">Incorrect Summary problem</span
                ><span class="c12"
                    >: one transaction is calculating an aggregate summary on
                    multiple records, while other transactions are updating
                    those records.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >The aggregate function may read values before/after they
                    are updated.</span
                >
            </li>
        </ul>
        <p class="c4 c26"><span class="c12"></span></p>
        <a id="t.3ad0e8b865d419281032083b2e5f0edc9230541d"></a><a id="t.2"></a>
        <table class="c54">
            <tbody>
                <tr class="c37">
                    <td class="c122" colspan="1" rowspan="1">
                        <p class="c3"><span class="c28 c68 c9">T1</span></p>
                    </td>
                    <td class="c119" colspan="1" rowspan="1">
                        <p class="c3"><span class="c17 c9">T2</span></p>
                    </td>
                    <td class="c118" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c92 c9">X</span
                            ><span class="c28 c9 c15">T1</span>
                        </p>
                    </td>
                    <td class="c82" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c92 c9">Y</span
                            ><span class="c28 c9 c15">T1</span>
                        </p>
                    </td>
                    <td class="c73" colspan="1" rowspan="1">
                        <p class="c3"><span class="c28 c68 c9">S</span></p>
                    </td>
                    <td class="c23" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c84 c9">X</span
                            ><span class="c52 c9 c15">T2</span>
                        </p>
                    </td>
                    <td class="c86" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c9 c84">Y</span
                            ><span class="c52 c9 c15">T2</span>
                        </p>
                    </td>
                    <td class="c72 c116" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c83 c9">X</span
                            ><span class="c41 c9 c15">d</span>
                        </p>
                    </td>
                    <td class="c72 c116" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c9 c83">Y</span
                            ><span class="c41 c9 c15">d</span>
                        </p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c60" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">S := 0</span></p>
                    </td>
                    <td class="c43" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c89" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c78" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c22">0</span></p>
                    </td>
                    <td class="c81" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c2" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c72 c65" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">20</span></p>
                    </td>
                    <td class="c72 c65" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c60" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c43" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c38">read(X)</span></p>
                    </td>
                    <td class="c89" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c78" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">0</span></p>
                    </td>
                    <td class="c81" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c18">20</span></p>
                    </td>
                    <td class="c2" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c72 c65" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">20</span></p>
                    </td>
                    <td class="c72 c65" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c60" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c43" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c14 c38">X := X - 10</span>
                        </p>
                    </td>
                    <td class="c89" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c78" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">0</span></p>
                    </td>
                    <td class="c81" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c18">10</span></p>
                    </td>
                    <td class="c2" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c72 c65" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">20</span></p>
                    </td>
                    <td class="c72 c65" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c60" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c43" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c38">write(X)</span></p>
                    </td>
                    <td class="c89" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c78" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">0</span></p>
                    </td>
                    <td class="c81" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c18">10</span></p>
                    </td>
                    <td class="c2" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c72 c65" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c33">10</span></p>
                    </td>
                    <td class="c72 c65" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c60" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">read(X)</span></p>
                    </td>
                    <td class="c43" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c89" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c22">10</span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c78" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">0</span></p>
                    </td>
                    <td class="c81" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c18">10</span></p>
                    </td>
                    <td class="c2" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c72 c65" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">10</span></p>
                    </td>
                    <td class="c72 c65" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c60" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c14 c22">S := S + X</span>
                        </p>
                    </td>
                    <td class="c43" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c89" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">10</span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c78" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c22">10</span></p>
                    </td>
                    <td class="c81" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c18">10</span></p>
                    </td>
                    <td class="c2" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c72 c65" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">10</span></p>
                    </td>
                    <td class="c72 c65" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c60" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">read(Y)</span></p>
                    </td>
                    <td class="c43" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c89" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">10</span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c22">50</span></p>
                    </td>
                    <td class="c78" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">10</span></p>
                    </td>
                    <td class="c81" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c18">10</span></p>
                    </td>
                    <td class="c2" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c72 c65" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">10</span></p>
                    </td>
                    <td class="c72 c65" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c60" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c14 c22">S := S + Y</span>
                        </p>
                    </td>
                    <td class="c43" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c89" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">10</span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">50</span></p>
                    </td>
                    <td class="c78" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c22">60</span></p>
                    </td>
                    <td class="c81" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c18">10</span></p>
                    </td>
                    <td class="c2" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c72 c65" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">10</span></p>
                    </td>
                    <td class="c72 c65" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c60" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c43" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c38">read(Y)</span></p>
                    </td>
                    <td class="c89" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">10</span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">50</span></p>
                    </td>
                    <td class="c78" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">60</span></p>
                    </td>
                    <td class="c81" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c18">10</span></p>
                    </td>
                    <td class="c2" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c18">50</span></p>
                    </td>
                    <td class="c72 c65" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">10</span></p>
                    </td>
                    <td class="c72 c65" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c60" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c43" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c14 c38">Y := Y + 10</span>
                        </p>
                    </td>
                    <td class="c89" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">10</span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">50</span></p>
                    </td>
                    <td class="c78" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">60</span></p>
                    </td>
                    <td class="c81" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c18">10</span></p>
                    </td>
                    <td class="c2" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c18">60</span></p>
                    </td>
                    <td class="c72 c65" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">10</span></p>
                    </td>
                    <td class="c72 c65" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c60" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c43" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c38">write(Y)</span></p>
                    </td>
                    <td class="c89" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">10</span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">50</span></p>
                    </td>
                    <td class="c78" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">60</span></p>
                    </td>
                    <td class="c81" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c18">10</span></p>
                    </td>
                    <td class="c2" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c18">60</span></p>
                    </td>
                    <td class="c65 c72" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">10</span></p>
                    </td>
                    <td class="c72 c65" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c33">60</span></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_bmw1vx26rhs7-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c9">Unrepeatable Read problem</span
                ><span class="c12"
                    >: one transaction reads an item twice, while another
                    changes the item between the two reads.</span
                >
            </li>
        </ul>
        <p class="c4 c26"><span class="c12"></span></p>
        <a id="t.23624669336ab7f380daf61ac4d0a3127201a92d"></a><a id="t.3"></a>
        <table class="c54">
            <tbody>
                <tr class="c37">
                    <td class="c48" colspan="1" rowspan="1">
                        <p class="c3"><span class="c28 c68 c9">T1</span></p>
                    </td>
                    <td class="c88" colspan="1" rowspan="1">
                        <p class="c3"><span class="c17 c9">T2</span></p>
                    </td>
                    <td class="c82" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c92 c9">X</span
                            ><span class="c28 c9 c15">T1</span>
                        </p>
                    </td>
                    <td class="c94" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c9 c92">Y</span
                            ><span class="c28 c9 c15">T1</span>
                        </p>
                    </td>
                    <td class="c87" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c84 c9">X</span
                            ><span class="c52 c9 c15">T2</span>
                        </p>
                    </td>
                    <td class="c79" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c84 c9">Y</span
                            ><span class="c52 c9 c15">T2</span>
                        </p>
                    </td>
                    <td class="c77" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c83 c9">X</span
                            ><span class="c41 c9 c15">d</span>
                        </p>
                    </td>
                    <td class="c77" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c83 c9">Y</span
                            ><span class="c41 c9 c15">d</span>
                        </p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">read(X)</span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c22">20</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">20</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c38">read(X)</span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">20</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c18">20</span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">20</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c14 c38">X := X - 10</span>
                        </p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">20</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c18">10</span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">20</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c38">write(X)</span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">20</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c18">10</span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c33">10</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">read(X)</span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c22">10</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c18">10</span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">10</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c4 c26"><span class="c12"></span></p>
        <ul class="c0 lst-kix_diok0zjx07di-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12">These are some pretty bad problems.</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >When transactions are executed, they must ensure that
                    either:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_diok0zjx07di-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >All operations are successful and recorded permanently in
                    the database</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >There is no effect on the database or other
                    transactions</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_diok0zjx07di-0">
            <li class="c4 c8 li-bullet-0">
                <span>Transactions may be </span
                ><span class="c9">read-only</span><span>&nbsp;or </span
                ><span class="c9">update</span><span class="c12">.</span>
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_diok0zjx07di-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >We also need a lifecycle to track the start and end of
                    transactions, and whether they commit or abort.</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 488.08px;
                    height: 203.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image90.png"
                    style="
                        width: 488.08px;
                        height: 203.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <h2 class="c42" id="h.10xl5qf4rygf-1">
            <span class="c50 c27">ACID</span>
        </h2>
        <ul class="c0 lst-kix_bak6c249a50k-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >You probably know the ACID rules already. It&rsquo;s been
                    drilled into your head enough times.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12">But here&rsquo;s a refresher:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_bak6c249a50k-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c9">Atomicity</span
                ><span class="c12"
                    >: a transaction is either performed completely or not at
                    all</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c9">Consistency</span
                ><span class="c12"
                    >: transaction must take database from one consistent state
                    to another</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c9">Isolation</span
                ><span class="c12"
                    >: transaction should not make updates visible until
                    committed</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c9">Durability</span
                ><span class="c12"
                    >: once database is changed and committed, changes should
                    not be lost because of failure</span
                >
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_bak6c249a50k-0">
            <li class="c4 c8 li-bullet-0">
                <span>A </span><span class="c9">schedule </span
                ><span class="c12"
                    >S of n transactions is an ordering of the operations of the
                    transactions.</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_bak6c249a50k-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >The order of the operations in S must be the same order
                    that the operations appear in their transactions, too.</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_bak6c249a50k-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Two operations in a schedule are conflicting if:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_bak6c249a50k-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12">They belong to different transactions</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12">They access the same data item</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >At least one of the operations is a
                    &ldquo;write&rdquo;</span
                >
            </li>
        </ul>
        <p class="c4 c26"><span class="c12"></span></p>
        <ul class="c0 lst-kix_3e71ijhrximt-0 start">
            <li class="c4 c8 li-bullet-0">
                <span>A schedule is </span><span class="c9">serial </span
                ><span class="c12"
                    >if all the operations for each transaction are executed
                    consecutively. Basically, it means no interleaving.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>A schedule is </span><span class="c9">serialisable </span
                ><span class="c12"
                    >if it is equivalent to a serial schedule of the same
                    transactions.</span
                >
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_3e71ijhrximt-0">
            <li class="c4 c8 li-bullet-0">
                <span>Two schedules are </span
                ><span class="c9">result equivalent </span
                ><span class="c12"
                    >if they produce the same final state on the database.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>Two schedules are </span
                ><span class="c9">conflict equivalent </span
                ><span class="c12"
                    >if the order of any two conflicting operations is the same
                    in both schedules.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >We typically use result equivalence when deciding if a
                    schedule is serialisable.</span
                >
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_3e71ijhrximt-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Let&rsquo;s have a look at some examples:</span
                >
            </li>
        </ul>
        <p class="c44">
            <span class="c9">Serial schedule </span
            ><span class="c21 c9 c27">T1 ; T2</span>
        </p>
        <a id="t.7328645cb550547532282d42a5843795c2606d30"></a><a id="t.4"></a>
        <table class="c54">
            <tbody>
                <tr class="c37">
                    <td class="c48" colspan="1" rowspan="1">
                        <p class="c3"><span class="c28 c68 c9">T1</span></p>
                    </td>
                    <td class="c88" colspan="1" rowspan="1">
                        <p class="c3"><span class="c9 c17">T2</span></p>
                    </td>
                    <td class="c82" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c92 c9">X</span
                            ><span class="c9 c15 c28">T1</span>
                        </p>
                    </td>
                    <td class="c94" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c92 c9">Y</span
                            ><span class="c28 c9 c15">T1</span>
                        </p>
                    </td>
                    <td class="c87" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c84 c9">X</span
                            ><span class="c52 c9 c15">T2</span>
                        </p>
                    </td>
                    <td class="c79" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c84 c9">Y</span
                            ><span class="c52 c9 c15">T2</span>
                        </p>
                    </td>
                    <td class="c77" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c83 c9">X</span
                            ><span class="c41 c9 c15">d</span>
                        </p>
                    </td>
                    <td class="c77" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c83 c9">Y</span
                            ><span class="c41 c9 c15">d</span>
                        </p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">read(X)</span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c22">20</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">20</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c14 c22">X := X - 10</span>
                        </p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c22">10</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">20</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">write(X)</span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">10</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c33">10</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">read(Y)</span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">10</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c22">50</span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">10</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c14 c22">Y := Y + 10</span>
                        </p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">10</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c22">60</span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">10</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">write(Y)</span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">10</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">60</span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">10</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c33">60</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c38">read(X)</span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">10</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">60</span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c18">10</span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">10</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">60</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c14 c38">X := X + 5</span>
                        </p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">10</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">60</span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c18">15</span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">10</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">60</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c38">write(X)</span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">10</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">60</span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c18">15</span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c55" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c64">15</span></p>
                    </td>
                    <td class="c55" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c64">60</span></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c44 c26"><span class="c21 c9 c27"></span></p>
        <p class="c44">
            <span class="c9">Serial schedule </span
            ><span class="c21 c9 c27">T2 ; T1</span>
        </p>
        <a id="t.b2991c7cabfa16265c9bbed47c0678d7771e84ba"></a><a id="t.5"></a>
        <table class="c54">
            <tbody>
                <tr class="c37">
                    <td class="c48" colspan="1" rowspan="1">
                        <p class="c3"><span class="c28 c9 c68">T1</span></p>
                    </td>
                    <td class="c88" colspan="1" rowspan="1">
                        <p class="c3"><span class="c17 c9">T2</span></p>
                    </td>
                    <td class="c82" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c92 c9">X</span
                            ><span class="c28 c9 c15">T1</span>
                        </p>
                    </td>
                    <td class="c94" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c92 c9">Y</span
                            ><span class="c28 c9 c15">T1</span>
                        </p>
                    </td>
                    <td class="c87" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c84 c9">X</span
                            ><span class="c52 c9 c15">T2</span>
                        </p>
                    </td>
                    <td class="c79" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c84 c9">Y</span
                            ><span class="c52 c9 c15">T2</span>
                        </p>
                    </td>
                    <td class="c77" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c83 c9">X</span
                            ><span class="c9 c15 c41">d</span>
                        </p>
                    </td>
                    <td class="c77" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c83 c9">Y</span
                            ><span class="c41 c9 c15">d</span>
                        </p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c38">read(X)</span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c21 c9 c22"></span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c18">20</span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">20</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c14 c38">X := X + 5</span>
                        </p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c21 c9 c22"></span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c18">25</span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">20</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c38">write(X)</span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c18">25</span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c33">25</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">read(X)</span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c22">25</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c21 c9 c22"></span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c18">25</span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">25</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c14 c22">X := X - 10</span>
                        </p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c22">15</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c21 c9 c22"></span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c18">25</span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">25</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">write(X)</span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">15</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c18">25</span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c33">15</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">read(Y)</span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">15</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c22">50</span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c18">25</span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">15</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c14 c22">Y := Y + 10</span>
                        </p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">15</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c22">60</span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c18">25</span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">15</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">write(Y)</span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">15</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">60</span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c18">25</span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c55" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c64">15</span></p>
                    </td>
                    <td class="c55" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c64">60</span></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c44 c26"><span class="c21 c9 c27"></span></p>
        <p class="c44">
            <span class="c9">Non-Serial and Non-Serialisable Schedule</span>
        </p>
        <a id="t.09be99cdaa6d62fbdf9577a8e2985be90786f758"></a><a id="t.6"></a>
        <table class="c54">
            <tbody>
                <tr class="c37">
                    <td class="c48" colspan="1" rowspan="1">
                        <p class="c3"><span class="c28 c68 c9">T1</span></p>
                    </td>
                    <td class="c88" colspan="1" rowspan="1">
                        <p class="c3"><span class="c17 c9">T2</span></p>
                    </td>
                    <td class="c82" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c92 c9">X</span
                            ><span class="c28 c9 c15">T1</span>
                        </p>
                    </td>
                    <td class="c94" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c92 c9">Y</span
                            ><span class="c28 c9 c15">T1</span>
                        </p>
                    </td>
                    <td class="c87" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c84 c9">X</span
                            ><span class="c52 c9 c15">T2</span>
                        </p>
                    </td>
                    <td class="c79" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c84 c9">Y</span
                            ><span class="c52 c9 c15">T2</span>
                        </p>
                    </td>
                    <td class="c77" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c83 c9">X</span
                            ><span class="c41 c9 c15">d</span>
                        </p>
                    </td>
                    <td class="c77" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c83 c9">Y</span
                            ><span class="c41 c9 c15">d</span>
                        </p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">read(X)</span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c22">20</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">20</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c14 c22">X := X - 10</span>
                        </p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c22">10</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">20</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c38">read(X)</span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">10</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c18">20</span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">20</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c14 c38">X := X + 5</span>
                        </p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">10</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c18">25</span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">20</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">write(X)</span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">10</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c18">25</span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c33">10</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">read(Y)</span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">10</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c22">50</span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c18">25</span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">10</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c38">write(X)</span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">10</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">50</span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c18">25</span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c33">25</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c14 c22">Y := Y + 10</span>
                        </p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">10</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c22">60</span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c18">25</span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">25</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">write(Y)</span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">10</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">60</span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c18">25</span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c55" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c64">25</span></p>
                    </td>
                    <td class="c55" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c64">60</span></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_5sxt5m8bvb6y-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >The result of this one, X = 25 and Y = 60, is not the same
                    as the result of our serial schedules, which is X = 15 and Y
                    = 60. Therefore this schedule is not serialisable.</span
                >
            </li>
        </ul>
        <p class="c4 c26"><span class="c12"></span></p>
        <p class="c44">
            <span class="c9">Non-Serial but Serialisable Schedule</span>
        </p>
        <a id="t.b63c659016664782a60266dbbf31c78fd89c9ad7"></a><a id="t.7"></a>
        <table class="c54">
            <tbody>
                <tr class="c37">
                    <td class="c48" colspan="1" rowspan="1">
                        <p class="c3"><span class="c28 c68 c9">T1</span></p>
                    </td>
                    <td class="c88" colspan="1" rowspan="1">
                        <p class="c3"><span class="c17 c9">T2</span></p>
                    </td>
                    <td class="c82" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c92 c9">X</span
                            ><span class="c28 c9 c15">T1</span>
                        </p>
                    </td>
                    <td class="c94" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c92 c9">Y</span
                            ><span class="c28 c9 c15">T1</span>
                        </p>
                    </td>
                    <td class="c87" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c84 c9">X</span
                            ><span class="c52 c9 c15">T2</span>
                        </p>
                    </td>
                    <td class="c79" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c84 c9">Y</span
                            ><span class="c9 c15 c52">T2</span>
                        </p>
                    </td>
                    <td class="c77" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c83 c9">X</span
                            ><span class="c41 c9 c15">d</span>
                        </p>
                    </td>
                    <td class="c77" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c83 c9">Y</span
                            ><span class="c41 c9 c15">d</span>
                        </p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">read(X)</span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c22">20</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">20</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c14 c22">X := X - 10</span>
                        </p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c22">10</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">20</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">write(X)</span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">10</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c33">10</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c38">read(X)</span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">10</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c18">10</span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">10</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c14 c38">X := X + 5</span>
                        </p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">10</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c18">15</span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">10</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c38">write(X)</span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">10</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c22"></span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c18">15</span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c33">15</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">read(Y)</span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">10</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c22">50</span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c18">15</span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">15</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c14 c22">Y := Y + 10</span>
                        </p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">10</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c22">60</span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c18">15</span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">15</span></p>
                    </td>
                    <td class="c5" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c33">50</span></p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c10" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">write(Y)</span></p>
                    </td>
                    <td class="c34" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c38"></span></p>
                    </td>
                    <td class="c6" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">10</span></p>
                    </td>
                    <td class="c57" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c22">60</span></p>
                    </td>
                    <td class="c25" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c18">15</span></p>
                    </td>
                    <td class="c19" colspan="1" rowspan="1">
                        <p class="c3 c26"><span class="c14 c18"></span></p>
                    </td>
                    <td class="c55" colspan="1" rowspan="1">
                        <p class="c3"><span class="c14 c64">15</span></p>
                    </td>
                    <td class="c55" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c64">60</span></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c4 c26"><span class="c12"></span></p>
        <ul class="c0 lst-kix_9ufm2s7wezlg-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >This schedule has the same result as the serial schedules,
                    therefore this schedule is serialisable.</span
                >
            </li>
        </ul>
        <h2 class="c42" id="h.10xl5qf4rygf-2">
            <span class="c50 c27">Locking</span>
        </h2>
        <ul class="c0 lst-kix_bincvdt3ivxd-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Locks are used to synchronise access by concurrent
                    transactions to a database.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Basically, it&rsquo;s to stop concurrent transactions from
                    messing with the same piece of data at the same time.</span
                >
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_bincvdt3ivxd-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12">There&rsquo;s two kinds of locks:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_bincvdt3ivxd-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c9">Shared </span
                ><span class="c12">(for reading)</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c9">Exclusive </span
                ><span class="c12">(for writing)</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_bincvdt3ivxd-0">
            <li class="c4 c8 li-bullet-0">
                <span>So if transaction T has a </span
                ><span class="c99">shared</span
                ><span class="c12"
                    >&nbsp;lock on X, T can read X but it can&rsquo;t write to
                    it.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>If T has an </span><span class="c99">exclusive</span
                ><span class="c12"
                    >&nbsp;lock on X, T can write to X. This means T can read X,
                    too.</span
                >
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_bincvdt3ivxd-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Binary locks (which are exclusive only) are also possible,
                    but they are generally too restrictive.</span
                >
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_bincvdt3ivxd-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12">There are three lock operations:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_bincvdt3ivxd-1 start">
            <li class="c4 c13 li-bullet-0">
                <span>lock-shared(X)</span
                ><span class="c12"
                    >&nbsp;- Attempt to acquire a shared lock on X</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span>lock-exclusive(X)</span
                ><span class="c12"
                    >&nbsp;- Attempt to acquire an exclusive lock on X</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span>unlock(X)</span
                ><span class="c12">&nbsp;- Relinquish all locks on X</span>
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_bincvdt3ivxd-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >The outcome of a lock operation is either:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_bincvdt3ivxd-1 start">
            <li class="c4 c13 li-bullet-0">
                <span>Grant lock </span
                ><span class="c49 c20 c39">(you can now access this item)</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span>Wait for lock to be granted </span
                ><span class="c49 c20 c39">(not yet able to access item)</span>
            </li>
            <li class="c4 c13 li-bullet-0"><span class="c12">Abort</span></li>
        </ul>
        <p class="c4 c26"><span class="c12"></span></p>
        <a id="t.378d0aaa5bf3e1c19f5e0fbf876c22a3beed52b8"></a><a id="t.8"></a>
        <table class="c54">
            <tbody>
                <tr class="c53">
                    <td class="c117" colspan="2" rowspan="2">
                        <p class="c3 c26"><span class="c12"></span></p>
                    </td>
                    <td class="c113" colspan="2" rowspan="1">
                        <p class="c3">
                            <span class="c21 c9 c27">Lock requested</span>
                        </p>
                    </td>
                </tr>
                <tr class="c53">
                    <td class="c66 c96" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c27">Shared</span></p>
                    </td>
                    <td class="c66 c96" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c21 c9 c27">Exclusive</span>
                        </p>
                    </td>
                </tr>
                <tr class="c53">
                    <td class="c61" colspan="1" rowspan="3">
                        <p class="c3 c26"><span class="c21 c9 c27"></span></p>
                        <p class="c3">
                            <span class="c21 c9 c27"
                                >Lock already held by someone else</span
                            >
                        </p>
                    </td>
                    <td class="c66 c96" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c27">None</span></p>
                    </td>
                    <td class="c66" colspan="1" rowspan="1">
                        <p class="c3"><span class="c12">Grant</span></p>
                    </td>
                    <td class="c66" colspan="1" rowspan="1">
                        <p class="c3"><span class="c12">Grant</span></p>
                    </td>
                </tr>
                <tr class="c53">
                    <td class="c66 c96" colspan="1" rowspan="1">
                        <p class="c3"><span class="c21 c9 c27">Shared</span></p>
                    </td>
                    <td class="c66" colspan="1" rowspan="1">
                        <p class="c3"><span class="c12">Grant</span></p>
                    </td>
                    <td class="c66" colspan="1" rowspan="1">
                        <p class="c3"><span class="c12">Wait</span></p>
                    </td>
                </tr>
                <tr class="c53">
                    <td class="c66 c96" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c21 c9 c27">Exclusive</span>
                        </p>
                    </td>
                    <td class="c66" colspan="1" rowspan="1">
                        <p class="c3"><span class="c12">Wait</span></p>
                    </td>
                    <td class="c66" colspan="1" rowspan="1">
                        <p class="c3"><span class="c12">Wait</span></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c4 c26"><span class="c12"></span></p>
        <ul class="c0 lst-kix_877ulknmr6uo-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12">Here are the rules of locking:</span>
            </li>
        </ul>
        <ol class="c0 lst-kix_nz62u3syfwhf-0 start" start="1">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >Must issue lock-shared(X) or lock-exclusive(X) before a
                    read(X) operation</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >Must issue lock-exclusive(X) before a write(X)
                    operation</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >Must issue unlock(X) after all read(X) and write(X)
                    operations are completed</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >Cannot issue lock-shared(X) if already holding a lock on
                    X</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >Cannot issue lock-exclusive(X) if already holding a lock on
                    X</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >Cannot issue unlock(X) unless holding a lock on X</span
                >
            </li>
        </ol>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_dw350rzbwuic-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Pretty obvious, right? You need a shared lock to read, an
                    exclusive lock to write, you can&rsquo;t get an exclusive
                    lock if someone else has one etc.</span
                >
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_dw350rzbwuic-0">
            <li class="c4 c8 li-bullet-0">
                <span>You can also </span><span class="c9">convert </span
                ><span class="c12">locks.</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12">This is a relaxation of rules 4 and 5.</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>You can upgrade a shared lock to an exclusive lock </span
                ><span class="c49 c20 c39"
                    >(if an exclusive lock isn&rsquo;t already distributed to
                    someone else)</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span
                    >You can downgrade an exclusive lock to a shared lock </span
                ><span class="c49 c20 c39"
                    >(at which point, someone else can have an exclusive
                    lock)</span
                >
            </li>
        </ul>
        <p class="c4 c26"><span class="c12"></span></p>
        <ul class="c0 lst-kix_ugohxyxzzpo5-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >That&rsquo;s great and all, but it&rsquo;s still not
                    enough.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0"><span class="c12">Why?</span></li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Because even though we can lock stuff, some transactions
                    might store local copies of data items.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Those local copies could be out-of-date, if another
                    transaction interleaves and updates it.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12">Want an example?</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_ugohxyxzzpo5-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12">We have X = 20 and Y = 50.</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >T1 wants to add these two up and store them in X.</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >T1 gets a shared lock on Y and reads it, and locally stores
                    Y as 50.</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12">T1 then releases their lock on Y.</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12">However T2 interleaves with T1!</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12">T2 performs Y := Y + X, so Y is now 70.</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >Back to T1, T1 uses its local copy of Y and adds it to X,
                    which is X := X + 50, making X = 70.</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >T1 should&rsquo;ve used the updated version of Y, but they
                    couldn&rsquo;t, because T2 interrupted them.</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_ugohxyxzzpo5-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >T2 was able to interrupt T1 because T1 released their lock
                    on Y early, giving T2 the chance to take that lock, read Y
                    and change Y while T1 was in the middle of its
                    operations.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span
                    >This wouldn&rsquo;t have happened if T1 only started
                    releasing locks until they were finished.</span
                >
            </li>
        </ul>
        <h2 class="c42" id="h.10xl5qf4rygf-3">
            <span class="c27 c50">Two-Phase Locking (2PL)</span>
        </h2>
        <ul class="c0 lst-kix_8xo4m7f3ptnq-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c9">Two-Phase Locking </span><span>(</span
                ><span class="c9">2PL</span
                ><span class="c12">) adds some more rules.</span>
            </li>
        </ul>
        <ol class="c0 lst-kix_6xpdvnf2imo4-0 start" start="1">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >All locking operations precede the first unlock operation
                    in a transaction</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >Locks are only released after a transaction commits or
                    aborts</span
                >
            </li>
        </ol>
        <p class="c4 c26 c91"><span class="c12"></span></p>
        <ul class="c0 lst-kix_42b76rs9i9sr-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12">So what does this mean?</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >This means that there is a phase where we get all the locks
                    we need, and a phase where we release all the locks we
                    have.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >This ensures we get all the locks at the start and keep all
                    the locks throughout the transaction, and only release them
                    at the end.</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 466.42px;
                    height: 217.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image95.png"
                    style="
                        width: 466.42px;
                        height: 217.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_9s8mwu1j9qp7-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >This guarantees serialisable transactions.</span
                >
            </li>
        </ul>
        <h2 class="c42" id="h.10xl5qf4rygf-4">
            <span class="c50 c27">Deadlock</span>
        </h2>
        <ul class="c0 lst-kix_5g47bnq86wd1-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12">Be careful!</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Deadlock can occur if two transactions are waiting for the
                    other to release their lock.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12">For example:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_5g47bnq86wd1-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >T1 has a lock on X and T2 has a lock on Y.</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >T1 asks for a lock on Y and T2 asks for a lock on X.</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >Now T1 and T2 are waiting for the other to give up their
                    lock.</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >Computers are stupid, so now they&rsquo;ll sit there
                    forever!</span
                >
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_5g47bnq86wd1-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >There are several conditions that must be satisfied for
                    deadlock to occur:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_5g47bnq86wd1-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c9">Concurrency</span
                ><span class="c12"
                    >: two processes fight over shared resource</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c9">Hold</span
                ><span class="c12"
                    >: a process holds onto its shared resource until it&rsquo;s
                    done with it</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c9">Wait</span
                ><span class="c12"
                    >: a process holds onto its locks while it&rsquo;s waiting
                    for another lock</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c21 c9 c27">Mutual dependency</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_5g47bnq86wd1-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >What&rsquo;s this &ldquo;mutual dependency&rdquo;?</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >It&rsquo;s best explained with a Wait-For graph.</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 175.79px;
                    height: 139.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image71.png"
                    style="
                        width: 175.79px;
                        height: 139.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_kpi1s6vt7dyh-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Every node is a process, and every edge is a
                    dependency.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >A dependency being: a process waiting for another process
                    to release a lock.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >In this wait-for graph, there is a cycle, meaning there is
                    a mutual dependency: a condition for a deadlock.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >T1 is waiting for T2 who is waiting for T3 who is waiting
                    for T1.</span
                >
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_kpi1s6vt7dyh-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12">Deadlock prevention:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_kpi1s6vt7dyh-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >Every transaction locks all items it needs in advance; if
                    they can&rsquo;t lock even a single item, no items are
                    locked</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >Transactions updating the same resources are not allowed to
                    execute concurrently (if T1 and T2 both write to X,
                    don&rsquo;t run them concurrently)</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_kpi1s6vt7dyh-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12">Deadlock detection:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_kpi1s6vt7dyh-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12">Wait-For graphs</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span
                    >Timeouts (if transaction has been waiting for a lock for a
                    certain time, just abort)</span
                >
            </li>
        </ul>
        <h2 class="c42" id="h.10xl5qf4rygf-5">
            <span class="c50 c27">Timestamps</span>
        </h2>
        <ul class="c0 lst-kix_ld3crmy9ay0o-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12">Timestamps are an alternative to locks.</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12">Deadlocks cannot occur with timestamps.</span>
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_ld3crmy9ay0o-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12">There are three types of timestamps:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_ld3crmy9ay0o-1 start">
            <li class="c4 c13 li-bullet-0">
                <span>When a transaction starts: </span
                ><span class="c12">TS(T)</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span>The last time a resource was read: </span
                ><span class="c12">read-TS(X)</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span>The last time a resource was written to: </span
                ><span class="c12">write-TS(X)</span>
            </li>
        </ul>
        <p class="c4 c26"><span class="c12"></span></p>
        <ul class="c0 lst-kix_jmt2qrs21dku-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Transactions are ordered based on their timestamps.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >If a transaction is trying to read a resource, and the
                    resource&rsquo;s timestamp is later than the
                    transaction&rsquo;s timestamp, the transaction will abort
                    (and perhaps try again, with a new, later timestamp).</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12">This goes for writing as well.</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Basically, if a transaction finds that a resource they need
                    has been written / read by a transaction that is younger
                    than them, it will abort.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >If a transaction can read / write to a resource, it will
                    update its timestamp with their own.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>This is called </span
                ><span class="c9">Basic Timestamp Ordering</span
                ><span class="c12">.</span>
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 601.7px;
                    height: 288px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image53.png"
                    style="
                        width: 601.7px;
                        height: 288px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 601.7px;
                    height: 286.67px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image70.png"
                    style="
                        width: 601.7px;
                        height: 286.67px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c4 c26"><span class="c12"></span></p>
        <ul class="c0 lst-kix_ji60ftoxyk3i-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c9">Thomas&rsquo; Write Rule </span
                ><span class="c12"
                    >is a modification of Basic TO that rejects fewer write
                    operations.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >It weakens the checks for write(X) so obsolete write
                    operations are ignored.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >It doesn&rsquo;t enforce serialisability, though.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span
                    >Basically, if a transaction tries to write to a resource,
                    but finds that a younger transaction interacted with that
                    resource first, it just won&rsquo;t execute that write and
                    will instead continue processing.</span
                >
            </li>
        </ul>
        <h2 class="c42" id="h.10xl5qf4rygf-6">
            <span class="c50 c27">Granularity and Concurrency</span>
        </h2>
        <ul class="c0 lst-kix_6ep467o3wbmj-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12">So what should we lock?</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c99">Records</span
                ><span class="c12"
                    >? That&rsquo;s fine, but what if our transaction changes
                    thousands of records? We&rsquo;re going to need lots of
                    locks; we&rsquo;ll have a big overhead.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c99">The disc block</span
                ><span class="c12"
                    >? That&rsquo;s a bit better, however if we have a bunch of
                    transactions that act upon that disc block, they&rsquo;ll
                    all be executed serially, even if they write to different
                    items.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c99">The entire database</span
                ><span class="c12"
                    >?! That means every transaction will be concurrent! There
                    won&rsquo;t even be a point in implementing concurrency
                    logic!</span
                >
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_6ep467o3wbmj-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Coarser granularity gives lower degree of concurrency</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12">Finer granularity gives higher overhead</span>
            </li>
        </ul>
        <h1 class="c69 c67" id="h.dji9fyk2a43t">
            <span class="c70 c68 c27">Advanced Transactions</span>
        </h1>
        <h2 class="c42" id="h.3ain587tioeb">
            <span class="c50 c27">Timestamp Ordering</span>
        </h2>
        <h2 class="c4 c67" id="h.3ain587tioeb-7">
            <span class="c12">&nbsp;</span>
        </h2>
        <p class="c4">
            <span>A </span><span class="c1">timestamp </span
            ><span class="c39">TS(T)</span
            ><span
                >&nbsp;is a unique identifier used to identify a transaction.
                The </span
            ><span class="c1">timestamp ordering</span
            ><span
                >&nbsp;algorithm orders transactions based on their timestamps.
                An ordered non-serial schedule should always be serialisable, as
                the equivalent serial schedule consists of the transactions in
                order of the timestamp values. The algorithm associates each
                database item </span
            ><span class="c39">X </span
            ><span class="c12">with two values:</span>
        </p>
        <ul class="c0 lst-kix_7exasdf002nc-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c49 c27 c39">read_TS(X)</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_7exasdf002nc-1 start">
            <li class="c4 c13 li-bullet-0">
                <span>the read timestamp of item </span
                ><span class="c39">X </span
                ><span
                    >is the largest of all transactions that have successfully
                    read item </span
                ><span class="c49 c27 c39">X</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c39">read_TS(X) = TS(T)</span
                ><span>&nbsp;where </span><span class="c39">T</span
                ><span>&nbsp;is the youngest transaction that has read </span
                ><span class="c39">X </span
                ><span class="c12">successfully</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_7exasdf002nc-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c49 c27 c39">write_TS(X)</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_7exasdf002nc-1 start">
            <li class="c4 c13 li-bullet-0">
                <span>the write timestamp of item </span
                ><span class="c39">X </span
                ><span
                    >is the largest of all transactions that have successfully
                    written item </span
                ><span class="c49 c27 c39">X</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c39">write_TS(X) = TS(T)</span
                ><span>&nbsp;where </span><span class="c39">T</span
                ><span>&nbsp;is the youngest transaction that has written </span
                ><span class="c39">X </span
                ><span class="c12">successfully</span>
            </li>
        </ul>
        <h2 class="c4 c67" id="h.3ain587tioeb-8">
            <span class="c12">&nbsp;</span>
        </h2>
        <p class="c4">
            <span>The</span
            ><span class="c1">&nbsp;basic timestamp ordering</span
            ><span
                >&nbsp;algorithm compares the timestamps of a transaction </span
            ><span class="c39">T </span><span>with </span
            ><span class="c39">read_TS(X) </span><span>and </span
            ><span class="c39">write_TS(X) </span
            ><span
                >to ensure the timestamp ordering is valid. If the order is
                violated, </span
            ><span class="c39">T </span
            ><span
                >is aborted and resubmitted to the system with a new timestamp.
                Any transactions using values edited by </span
            ><span class="c39">T </span><span>must be rolled back. In </span
            ><span class="c1">cascading rollback</span
            ><span class="c12"
                >, the system keeps rolling back changes as many transactions
                are dependent on each other.</span
            >
        </p>
        <h2 class="c4 c67" id="h.3ain587tioeb-9">
            <span class="c12">&nbsp;</span>
        </h2>
        <h2 class="c42" id="h.3ain587tioeb-10">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 342.67px;
                    height: 118.67px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image60.png"
                    style="
                        width: 342.67px;
                        height: 118.67px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </h2>
        <h2 class="c4 c67" id="h.3ain587tioeb-11">
            <span class="c12">&nbsp;</span>
        </h2>
        <h2 class="c98 c67" id="h.puq0f9rgomc">
            <span class="c50 c27">Thomas&rsquo;s Write Rule</span>
        </h2>
        <p class="c4 c26"><span class="c14 c1"></span></p>
        <p class="c4">
            <span class="c1">Thomas&#39;s write rule</span
            ><span
                >&nbsp;is a modification of basic timestamp ordering which does
                not enforce conflict serialisability and rejects fewer write
                operations by modifying checks on operations so that obsolete
                write operations are ignored. If the timestamp of a read
                operation on an item</span
            ><span class="c39">&nbsp;X </span
            ><span
                >is invalid, it is not executed but processing continues. This
                is because a transaction with a larger timestamp will overwrite
                the value of </span
            ><span class="c39">X</span><span>.</span
            ><span class="c12">&nbsp;</span>
        </p>
        <h2 class="c42" id="h.3ain587tioeb-12">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 282.67px;
                    height: 177.33px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image58.png"
                    style="
                        width: 282.67px;
                        height: 177.33px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </h2>
        <h2 class="c4 c67" id="h.3ain587tioeb-13">
            <span class="c12">&nbsp;</span>
        </h2>
        <h2 class="c67 c98" id="h.3ain587tioeb-14">
            <span class="c50 c27">Save Points in Transactions</span>
        </h2>
        <h2 class="c4 c67" id="h.3ain587tioeb-15">
            <span class="c12">&nbsp;</span>
        </h2>
        <p class="c4">
            <span>A </span><span class="c1">save point</span
            ><span class="c12"
                >&nbsp;is an identifiable point in a transaction representing a
                partially consistent state, which can be used to restart a
                transaction.</span
            >
        </p>
        <ul class="c0 lst-kix_dcam4zmq3tt2-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12">used for deadlock handling</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_dcam4zmq3tt2-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >can partially rollback a transaction to release locks</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_dcam4zmq3tt2-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12">save points can be persistent</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_dcam4zmq3tt2-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >following a system crash, transactions restart from their
                    most recent savepoints</span
                >
            </li>
        </ul>
        <h2 class="c4 c67" id="h.3ain587tioeb-16">
            <span class="c12">&nbsp;</span>
        </h2>
        <h2 class="c42" id="h.3ain587tioeb-17">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 266.67px;
                    height: 208px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image16.png"
                    style="
                        width: 266.67px;
                        height: 208px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </h2>
        <h2 class="c4 c67" id="h.3ain587tioeb-18">
            <span class="c12">&nbsp;</span>
        </h2>
        <p class="c4">
            <span>A </span><span class="c1">chained transaction</span
            ><span class="c12"
                >&nbsp;is a transaction broken into sub-transactions, which are
                executed serially.</span
            >
        </p>
        <ul class="c0 lst-kix_wwdxtw8u2lj0-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12">on chaining to the next sub-transaction</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_wwdxtw8u2lj0-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12">the system commits the output</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12">the system keeps or releases locks</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_wwdxtw8u2lj0-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >chained transactions can restart from the most recent
                    commit</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_wwdxtw8u2lj0-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >cannot rollback to the previous sub-transaction</span
                >
            </li>
        </ul>
        <h2 class="c4 c67" id="h.3ain587tioeb-19">
            <span class="c12">&nbsp;</span>
        </h2>
        <a id="t.59ef1145c00c38736898983c74ce79db9f0d72b4"></a><a id="t.9"></a>
        <table class="c54">
            <tbody>
                <tr class="c53">
                    <td class="c58" colspan="1" rowspan="1">
                        <p class="c4"><span class="c14 c1">Save Point</span></p>
                    </td>
                    <td class="c106" colspan="1" rowspan="1">
                        <p class="c4">
                            <span class="c14 c1">Chained Transaction</span>
                        </p>
                    </td>
                </tr>
                <tr class="c109">
                    <td class="c58" colspan="1" rowspan="1">
                        <p class="c4">
                            <span class="c12"
                                >allows a transaction to be broken into
                                sub-transactions</span
                            >
                        </p>
                        <p class="c4 c26"><span class="c12"></span></p>
                        <p class="c4">
                            <span class="c12"
                                >database context is preserved</span
                            >
                        </p>
                        <p class="c4 c26"><span class="c12"></span></p>
                        <p class="c4">
                            <span class="c12"
                                >rolls back to an arbitrary save point</span
                            >
                        </p>
                        <p class="c4 c26"><span class="c12"></span></p>
                        <p class="c4">
                            <span class="c12"
                                >does not free unwanted locks</span
                            >
                        </p>
                    </td>
                    <td class="c106" colspan="1" rowspan="1">
                        <p class="c4">
                            <span class="c12"
                                >allows a transaction to be broken into
                                sub-transactions</span
                            >
                        </p>
                        <p class="c4 c26"><span class="c12"></span></p>
                        <p class="c4">
                            <span class="c12"
                                >database context is preserved</span
                            >
                        </p>
                        <p class="c4 c26"><span class="c12"></span></p>
                        <p class="c4">
                            <span class="c12"
                                >rolls back to the previous savepoint</span
                            >
                        </p>
                        <p class="c4 c26"><span class="c12"></span></p>
                        <p class="c4">
                            <span class="c12">frees unwanted locks</span>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h2 class="c4 c67" id="h.3ain587tioeb-20">
            <span class="c12">&nbsp;</span>
        </h2>
        <h2 class="c42" id="h.h8hkaz8iwvt3">
            <span class="c50 c27">Nested Transactions</span>
        </h2>
        <p class="c4 c26"><span class="c12"></span></p>
        <p class="c4">
            <span>In a </span><span class="c1">nested transaction</span
            ><span class="c12"
                >, a transaction forms a hierarchy of sub-transactions. Here,
                sub-transactions may abort without aborting their parent
                transaction. There are three rules for nested
                transactions:</span
            >
        </p>
        <ul class="c0 lst-kix_bb2zkjvmzgzm-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c14 c1">Commit Rule</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_bb2zkjvmzgzm-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >the commit of a sub-transaction is accessible only to the
                    parent</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >the final commit occurs only after all ancestors have
                    committed</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_bb2zkjvmzgzm-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c14 c1">Rollback Rule</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_bb2zkjvmzgzm-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >if a transaction rolls back, all its sub-transactions also
                    rollback</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_bb2zkjvmzgzm-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c14 c1">Visibility Rule</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_bb2zkjvmzgzm-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >changes made by a sub-transaction are visible to its
                    parent</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >changes made by a sub-transaction are not visible to its
                    siblings</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >objects held by a parent can be accessed by its
                    sub-transactions</span
                >
            </li>
        </ul>
        <h2 class="c4 c67" id="h.3ain587tioeb-21">
            <span class="c12">&nbsp;</span>
        </h2>
        <h2 class="c42" id="h.3ain587tioeb-22">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 358.67px;
                    height: 220px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image47.png"
                    style="
                        width: 358.67px;
                        height: 220px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </h2>
        <h2 class="c4 c67" id="h.3ain587tioeb-23">
            <span class="c12">&nbsp;</span>
        </h2>
        <h2 class="c42" id="h.3so9onbr6hxn">
            <span class="c50 c27">Sagas</span>
        </h2>
        <p class="c4 c26"><span class="c12"></span></p>
        <p class="c4">
            <span>A</span><span class="c1">&nbsp;saga</span
            ><span
                >&nbsp;is a collection of transactions that form a long-duration
                transaction. A saga is specified as a </span
            ><span class="c1">directed graph</span
            ><span>&nbsp;where nodes are either</span
            ><span class="c9">&nbsp;actions</span><span>&nbsp;or </span
            ><span class="c9">terminal nodes </span
            ><span class="c9 c39">abort </span><span class="c9">or </span
            ><span class="c9 c39">complete</span><span class="c12">.</span>
        </p>
        <ul class="c0 lst-kix_det5drzhay5w-0 start">
            <li class="c4 c8 li-bullet-0">
                <span>paths leading to </span><span class="c39">abort </span
                ><span class="c12"
                    >nodes are sequences of actions that cause the overall
                    transaction to rollback</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>paths leading to </span><span class="c39">complete </span
                ><span class="c12"
                    >nodes are successful sequences that make persistent changes
                    to the database</span
                >
            </li>
        </ul>
        <h2 class="c4 c67" id="h.3ain587tioeb-24">
            <span class="c12">&nbsp;</span>
        </h2>
        <p class="c4">
            <span>In a saga, each </span><span class="c9">action </span
            ><span class="c9 c39">A </span><span>has a </span
            ><span class="c9">compensating action </span
            ><span class="c9 c39">A</span><span class="c9 c39 c85">-1</span
            ><span>. If </span><span class="c39">A </span
            ><span>is an action and </span><span class="c39">a </span
            ><span>is a sequence of actions, than </span
            ><span class="c9 c39">AaA</span><span class="c9 c85 c39">-1 </span
            ><span class="c9 c39">&equiv; a</span><span class="c12">.</span>
        </p>
        <h1 class="c69 c67" id="h.3n4vgekft3gx">
            <span class="c70 c68 c27">Logging and Recovery</span>
        </h1>
        <p class="c4">
            <span class="c1">Durability: </span
            ><span class="c12"
                >Once a database is changed and committed, changes should not be
                lost due to failure</span
            >
        </p>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span>Whenever a transaction is submitted, it will either be </span
            ><span class="c9">committed</span><span>&nbsp;or </span
            ><span class="c9">aborted</span
            ><span class="c12"
                >. If a transaction fails while executing, any executed
                operations must be reversed. Failures are classified as
                transaction, system, or media failures:</span
            >
        </p>
        <ul class="c0 lst-kix_5tiosegp8346-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c1">System Crash</span
                ><span class="c12"
                    >&nbsp;- a hardware, software, or network error occurs
                    during a transaction, such as main memory failure</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c1">Transaction / System Error</span
                ><span class="c12"
                    >&nbsp;- an operation in a transaction causes it to fail,
                    such as integer overflow, division by zero, incorrect
                    parameters, or logical errors</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c1">Logical Error / Exception</span
                ><span class="c12"
                    >&nbsp;- conditions occur that necessitate cancellation of
                    the transaction, such as data not being found, or an
                    exception condition such as insufficient account balance in
                    a bank withdrawal</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c1">Concurrency Control</span
                ><span class="c12"
                    >&nbsp;- a transaction can be aborted because it violates
                    serializability, or to resolve a state of deadlock</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c1">Disk Failure</span
                ><span class="c12"
                    >&nbsp;- disk blocks may lose data due to a read/write
                    malfunction or read/write head crash</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c1">Physical Failure</span
                ><span class="c12"
                    >&nbsp;- external failure including power cut, fire, theft,
                    sabotage, disk removal</span
                >
            </li>
        </ul>
        <p class="c4"><span class="c14 c1">&nbsp;</span></p>
        <h2 class="c42" id="h.auefzw8a9cda">
            <span class="c50 c27">Logging</span>
        </h2>
        <p class="c4"><span class="c14 c1">&nbsp;</span></p>
        <p class="c4">
            <span
                >To be able to recover from failures that affect transactions,
                the system maintains a log to store transaction operations and
                information for recovery. The</span
            ><span class="c1">&nbsp;system log</span
            ><span
                >&nbsp;is a sequential, append-only file that is kept on disk so
                it is not affected by failures. The main memory contains a </span
            ><span class="c1">log buffer</span
            ><span class="c12"
                >, which collects log data and appends it to the log file.</span
            >
        </p>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span>A transaction T reaches its </span
            ><span class="c1">commit point</span
            ><span
                >&nbsp;when all its access operations have been executed
                successfully and the effect of all operations has been recorded
                in the </span
            ><span class="c1">system log</span
            ><span
                >. Beyond the commit point, the effect of the transaction is
                permanently stored in the database. If a system failure occurs,
                any transactions which have not been committed are </span
            ><span class="c1">rolled back</span
            ><span class="c12"
                >&nbsp;to undo their effect on the database.</span
            >
        </p>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span
                >Data that needs to be updated is stored in main memory buffers.
                It is updated in main memory before being written back to disk.
                A collection of in-memory buffers called the </span
            ><span class="c1">DBMS cache</span
            ><span class="c12"
                >&nbsp;holds these buffers. When the DBMS requests an item, it
                first checks the cache to determine whether the item is stored.
                If not, the item is located on disk and copied into the cache.
                It may be necessary to flush some of the buffers to make space
                available for new data.</span
            >
        </p>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span class="c12">A log record contains 3 main stages:</span>
        </p>
        <ul class="c0 lst-kix_2wewvit8v3tq-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c39 c1">&lt;start T&gt;</span
                ><span>&nbsp;- transaction </span><span class="c39">T </span
                ><span class="c12">has started execution</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c39 c1">&lt;commit T&gt;</span
                ><span>&nbsp;- transaction </span><span class="c39">T </span
                ><span class="c12"
                    >has completed and no longer accesses database</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c39 c1">&lt;abort T&gt;</span
                ><span>&nbsp;- transaction </span><span class="c39">T </span
                ><span class="c12"
                    >has aborted and changes are not written to disk</span
                >
            </li>
        </ul>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <h2 class="c42" id="h.ylzyfgj10mu0">
            <span class="c50 c27">Undo Logging</span>
        </h2>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span class="c1">Undo Logging </span
            ><span
                >repairs a database following a system crash by undoing the
                effects of transactions that were incomplete at the time of the
                crash. Introduces a new record type </span
            ><span class="c9 c39">&lt;T, X, old&gt; </span
            ><span>showing that </span><span class="c39">T </span
            ><span>has changed </span><span class="c39">X </span
            ><span class="c12">from its old value.</span>
        </p>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span class="c9">Rules</span
            ><span class="c12">&nbsp;for Undo Logging:</span>
        </p>
        <ol class="c0 lst-kix_a3ul9h7uho1t-0 start" start="1">
            <li class="c4 c8 li-bullet-0">
                <span>If transaction </span><span class="c39">T </span
                ><span>modifies item </span><span class="c39">X</span
                ><span>, a log record </span
                ><span class="c39">&lt;T, X, old&gt; </span
                ><span>must be written to disk before </span
                ><span class="c39">X </span><span class="c12">is written</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>If a transaction </span><span class="c39">T </span
                ><span>commits, its log record </span
                ><span class="c39">&lt;commit T&gt; </span
                ><span class="c12"
                    >must be written to disk after all items are written</span
                >
            </li>
        </ol>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span class="c9">Recovery</span
            ><span class="c12">&nbsp;with Undo Logging:</span>
        </p>
        <p class="c4">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 528.55px;
                    height: 193.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image26.png"
                    style="
                        width: 528.55px;
                        height: 193.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c4 c31"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span>In </span><span class="c1">checkpointing</span
            ><span
                >, a periodic checkpoint is introduced into the system log.
                Before a checkpoint, all transactions have either committed or
                aborted, so that an algorithm will never scan entries before the
                checkpoint. A new record type </span
            ><span class="c9 c39">&lt;ckpt&gt; </span
            ><span class="c12">is introduced and represents a checkpoint.</span>
        </p>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span class="c9">Rules</span
            ><span class="c12">&nbsp;for checkpointing:</span>
        </p>
        <ol class="c0 lst-kix_p64b5acy9j5w-0 start" start="1">
            <li class="c4 c8 li-bullet-0">
                <span class="c12">Stop accepting new transactions</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span
                    >Wait for all active transactions to finish and write </span
                ><span class="c39">&lt;commit T&gt;/&lt;abort T&gt;</span
                ><span class="c12">, then flush the log</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>Write </span><span class="c39">&lt;ckpt&gt; </span
                ><span class="c12">to the log and flush the log</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12">Resume accepting transactions</span>
            </li>
        </ol>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span>In </span><span class="c1">nonquiescent checkpointing</span
            ><span
                >, we allow transactions to continue during checkpointing. This
                introduces new record types </span
            ><span class="c9 c39">&lt;start ckpt (T</span
            ><span class="c9 c15 c39">1</span
            ><span class="c9 c39">&hellip;T</span
            ><span class="c9 c15 c39">n</span><span class="c9 c39">)&gt; </span
            ><span
                >representing a checkpoint starting with active transactions </span
            ><span class="c39">T</span><span class="c15 c39">1</span
            ><span class="c39">&hellip;T</span><span class="c15 c39">n </span
            ><span>which have not yet been committed, and </span
            ><span class="c9 c39">&lt;end ckpt&gt;</span
            ><span class="c39">, </span
            ><span class="c12">which represents the end of a checkpoint.</span>
        </p>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span class="c12">Rules for nonquiescent checkpointing:</span>
        </p>
        <ol class="c0 lst-kix_3fhg0r7jdnmq-0 start" start="1">
            <li class="c4 c8 li-bullet-0">
                <span>Write </span><span class="c39">&lt;start ckpt (T</span
                ><span class="c15 c39">1</span><span class="c39">&hellip;T</span
                ><span class="c15 c39">n</span><span class="c39">)&gt; </span
                ><span class="c12">to log and flush the log</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>Wait until transactions </span><span class="c39">T</span
                ><span class="c15 c39">1</span><span class="c39">&hellip;T</span
                ><span class="c15 c39">n </span
                ><span class="c12">have all committed or aborted</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>Write </span><span class="c39">&lt;end ckpt&gt;</span
                ><span class="c12">&nbsp;to log and flush the log</span>
            </li>
        </ol>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span class="c9">Recovery</span
            ><span class="c12">&nbsp;with Checkpointed Undo Logging:</span>
        </p>
        <ul class="c0 lst-kix_velwtjaihfrj-0 start">
            <li class="c4 c8 li-bullet-0">
                <span>If </span><span class="c9 c39">&lt;end ckpt&gt; </span
                ><span class="c12">appears last</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_velwtjaihfrj-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >all incomplete transactions began after the start of the
                    checkpoint</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span>undo every incomplete transaction after </span
                ><span class="c49 c27 c39">&lt;start ckpt&hellip;&gt;</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_velwtjaihfrj-0">
            <li class="c4 c8 li-bullet-0">
                <span>If </span><span class="c9 c39">&lt;start ckpt (T</span
                ><span class="c9 c15 c39">1</span
                ><span class="c9 c39">&hellip;T</span
                ><span class="c9 c15 c39">n</span
                ><span class="c9 c39">)&gt; </span
                ><span class="c12">appears last</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_velwtjaihfrj-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >the system crash has occurred during a checkpoint</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >incomplete transactions occur either after the start of the
                    checkpoint or during the checkpoint</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span>undo every incomplete transaction after </span
                ><span class="c49 c27 c39">&lt;start ckpt&hellip;&gt;</span>
            </li>
        </ul>
        <p class="c4 c31"><span class="c12">&nbsp;</span></p>
        <h2 class="c42" id="h.olbgk9ogipte">
            <span class="c50 c27">Redo Logging</span>
        </h2>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span>Undo Logging writes </span
            ><span class="c39">&lt;commit T&gt; </span
            ><span class="c12"
                >log records only after all database items have been written to
                disk. This can potentially cause more disk I/O operations.</span
            >
        </p>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span class="c1">Redo Logging</span
            ><span
                >&nbsp;ignores incomplete transactions and repeats changes made
                by committed transactions to overwrite incorrect values. It
                writes a </span
            ><span class="c39">&lt;commit T&gt; </span
            ><span
                >log record to disk before any values are written to disk, and
                introduces a new record type </span
            ><span class="c9 c39">&lt;T, X, new&gt; </span
            ><span>showing that </span><span class="c39">T </span
            ><span>has changed </span><span class="c39">X </span
            ><span class="c12">to a new value.</span>
        </p>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span class="c9">Rule</span
            ><span class="c12">&nbsp;for Redo Logging:</span>
        </p>
        <ol class="c0 lst-kix_km0dxyf63my7-0 start" start="1">
            <li class="c4 c8 li-bullet-0">
                <span>Before modifying an item </span><span class="c39">X </span
                ><span>on disk, all log records relating to the record </span
                ><span class="c39">(&lt;T, X, new&gt;, &lt;commit T&gt;) </span
                ><span class="c12">must be written to disk first</span>
            </li>
        </ol>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span class="c9">Recovery</span
            ><span class="c12">&nbsp;with Redo Logging:</span>
        </p>
        <p class="c4">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 481.5px;
                    height: 239.14px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image97.png"
                    style="
                        width: 481.5px;
                        height: 239.14px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span class="c9">Checkpointing</span
            ><span class="c12">&nbsp;with Redo Logging:</span>
        </p>
        <ol class="c0 lst-kix_f4ilayfhr8ip-0 start" start="1">
            <li class="c4 c8 li-bullet-0">
                <span>Write a log record </span
                ><span class="c39">&lt;start ckpt (T</span
                ><span class="c15 c39">1</span><span class="c39">&hellip;T</span
                ><span class="c15 c39">n</span><span class="c39">)&gt; </span
                ><span>where </span><span class="c39">T</span
                ><span class="c15 c39">1</span><span class="c39">&hellip;T</span
                ><span class="c15 c39">n </span
                ><span class="c12">are not committed and flush the log</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >For all database items that have been committed and are in
                    the buffer, write to disk</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>Write a log record </span
                ><span class="c39">&lt;end ckpt&gt; </span
                ><span class="c12">and flush the log</span>
            </li>
        </ol>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span class="c9">Recovery</span
            ><span class="c12">&nbsp;with Checkpoint Redo Logging:</span>
        </p>
        <ul class="c0 lst-kix_lyqh4n7520y6-0 start">
            <li class="c4 c8 li-bullet-0">
                <span>If </span><span class="c9 c39">&lt;end ckpt&gt; </span
                ><span class="c12">appears last</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_lyqh4n7520y6-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >values that have been written and committed before the
                    checkpoint can be ignored</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >redo any uncommitted transactions within the current
                    checkpoint</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_lyqh4n7520y6-0">
            <li class="c4 c8 li-bullet-0">
                <span>If </span><span class="c9 c39">&lt;start ckpt (T</span
                ><span class="c9 c15 c39">1</span
                ><span class="c9 c39">&hellip;T</span
                ><span class="c9 c15 c39">n</span
                ><span class="c9 c39">)&gt; </span
                ><span class="c12">appears last:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_lyqh4n7520y6-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >transactions committed before this checkpoint may not have
                    been written</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span>search back to the previous </span
                ><span class="c39">&lt;end ckpt&gt; </span
                ><span class="c12">and redo uncommitted transactions</span>
            </li>
        </ul>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <h2 class="c42" id="h.xgfq09xlo9ht">
            <span class="c50 c27">Undo/Redo Logging</span>
        </h2>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span class="c1">Undo/Redo Logging</span
            ><span class="c12"
                >&nbsp;aims to address issues with undo and redo logging.</span
            >
        </p>
        <ul class="c0 lst-kix_zgcyyh5y5w89-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Undo Logging may increase number of disk i/o
                    operations</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Redo Logging requires that all modified blocks are kept in
                    buffers until the transaction commits and the logs
                    flushed</span
                >
            </li>
        </ul>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span>Undo/Redo Logging introduces a new record type </span
            ><span class="c9 c39">&lt;T, X, old new&gt; </span
            ><span>showing that </span><span class="c39">T </span
            ><span>has updated </span><span class="c39">X </span
            ><span class="c12">from an old value to a new value.</span>
        </p>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span class="c9">Rules</span
            ><span class="c12">&nbsp;for Undo/Redo Logging:</span>
        </p>
        <ol class="c0 lst-kix_xt3clp4r10mu-0 start" start="1">
            <li class="c4 c8 li-bullet-0">
                <span>Before transaction </span><span class="c39">T </span
                ><span>modifies any item </span><span class="c39">X</span
                ><span>&nbsp;on disk, the update record </span
                ><span class="c39">&lt;T, X, old, new&gt; </span
                ><span class="c12">must written to disk first</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>A log record </span
                ><span class="c39">&lt;commit T&gt; </span
                ><span class="c12"
                    >must be flushed to disk as soon as it is written to the
                    log</span
                >
            </li>
        </ol>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span class="c9">Checkpointing</span
            ><span class="c12">&nbsp;with Undo/Redo Logging:</span>
        </p>
        <ol class="c0 lst-kix_kmea5qlns4a0-0 start" start="1">
            <li class="c4 c8 li-bullet-0">
                <span>Write </span><span class="c39">&lt;start ckpt (T</span
                ><span class="c15 c39">1</span><span class="c39">&hellip;T</span
                ><span class="c15 c39">n</span><span class="c39">)&gt; </span
                ><span class="c12">to log and flush the log</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12">Write any changed buffers to disk</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>Write </span><span class="c39">&lt;end ckpt&gt; </span
                ><span>to log and flush the log</span>
            </li>
        </ol>
        <h1 class="c69 c67" id="h.f55x96tg8esy">
            <span class="c70 c68 c27">Parallel Databases</span>
        </h1>
        <h2 class="c42" id="h.woysht25dh9y">
            <span class="c50 c27">The I/O bottleneck</span>
        </h2>
        <ul class="c0 lst-kix_unr1rr29kpnf-0 start">
            <li class="c4 c8 li-bullet-0">
                <span>If you&rsquo;ve read </span
                ><span class="c99 c102"
                    ><a
                        class="c47"
                        href="https://www.google.com/url?q=https://docs.google.com/document/d/1X6kN7whPD0G67S1nCjSogqCAZT65nmGxwuwc6YXIRCk/edit%23bookmark%3Did.beeau8cavgvs&amp;sa=D&amp;source=editors&amp;ust=1623780633515000&amp;usg=AOvVaw355otbVJ6EFujhWSN9blOR"
                        >George&rsquo;s physical query planning section in Part
                        2</a
                    ></span
                ><span class="c12"
                    >, you&rsquo;ll remember that we calculated efficiency based
                    on disk accesses.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Secondary storage dominates performance of DBMSes, and is
                    therefore a bottleneck for performance.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >There&rsquo;s two ways of addressing this:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_unr1rr29kpnf-1 start">
            <li class="c4 c13 li-bullet-0">
                <span>Main memory databases </span
                ><span class="c49 c20 c39"
                    >(put everything in RAM; it&rsquo;s expensive)</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span>Parallel databases </span
                ><span class="c49 c20 c39"
                    >(spread everything across multiple disks; cheaper)</span
                >
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_unr1rr29kpnf-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c9">Parallelism</span
                ><span class="c12"
                    >: an arrangement or state that permits several operations
                    or tasks to be performed simultaneously rather than
                    consecutively.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Basically, database operations can happen in parallel, and
                    don&rsquo;t have to be sequential (one after the
                    other).</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>Parallel databases can </span
                ><span class="c39">process</span><span>&nbsp;data and </span
                ><span class="c39">access</span
                ><span class="c12">&nbsp;data over multiple disks.</span>
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_unr1rr29kpnf-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12">Why use parallel databases?</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_unr1rr29kpnf-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12">Hardware trends</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span>Reduced elapsed time for queries </span
                ><span class="c49 c20 c39">(quicker queries)</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12">Increased transaction throughput</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span>Increased scalability </span
                ><span class="c49 c20 c39"
                    >(to increase space, just add more disks)</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12">Better price/performance</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span>Improved application availability </span
                ><span class="c49 c20 c39"
                    >(if one disk fails, DBMS can just use the others)</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12">Access to more data</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_unr1rr29kpnf-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12">In short, you get better performance.</span>
            </li>
        </ul>
        <h2 class="c42" id="h.woysht25dh9y-25">
            <span class="c50 c27">Parallel architectures</span>
        </h2>
        <ul class="c0 lst-kix_nypumydqvwkj-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >There&rsquo;s different architectures we could adopt to
                    create parallel databases.</span
                >
            </li>
        </ul>
        <p class="c4"><span class="c29 c24">Shared Memory</span></p>
        <ul class="c0 lst-kix_yljyg8ugsmgl-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c9">Shared Memory </span
                ><span class="c12"
                    >is a highly coupled architecture where all processors share
                    the same memory buffer, and that memory buffer is written to
                    the databases.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>It uses </span
                ><span class="c9">symmetric multiprocessing (SMP)</span>
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 317.96px;
                    height: 255.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image89.png"
                    style="
                        width: 317.96px;
                        height: 255.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_bzfczul4whbt-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >You can think of this as a Java program with multiple
                    threads that perform parallel operations on an in-memory
                    data structure.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >It&rsquo;s easy to write software for, because we
                    don&rsquo;t need to worry about there being multiple copies
                    of the same data across processes; there&rsquo;s only one
                    memory buffer.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >However, it&rsquo;s not very scalable because the hardware
                    is difficult to set up.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Also, now we&rsquo;re bottlenecked by the memory buffer, so
                    if we keep adding processes and databases, we&rsquo;ll
                    eventually get diminishing returns on performance.</span
                >
            </li>
        </ul>
        <p class="c4"><span class="c29 c24">Shared Disc</span></p>
        <ul class="c0 lst-kix_rrvcgkedo1sy-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c9">Shared Disc </span
                ><span class="c12"
                    >is a loosely coupled architecture where each process has
                    its own memory buffer (distributed memory), and there is a
                    switch that allows each process to talk to any
                    database.</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 316px;
                    height: 254.64px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image78.png"
                    style="
                        width: 316px;
                        height: 254.64px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_sb00x3dopbf5-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >We no longer have the memory bottleneck! That means
                    it&rsquo;s more scalable than the shared memory
                    architecture.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >However, there may be some data incoherence, as the same
                    page may be loaded in by more than one buffer at once.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >For example, process 1 and 2 could read a record in R(x),
                    and process 1 could change x to 1 and process 2 could change
                    x to 2. Both processes now have different versions of the
                    same record.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span
                    >Therefore we need some kind of global locking mechanism
                    (think </span
                ><span>synchronized</span
                ><span class="c12">&nbsp;from Java)</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >We still have a single logical database storage, it&rsquo;s
                    just that each processor has their own database
                    buffer.</span
                >
            </li>
        </ul>
        <p class="c4"><span class="c29 c24">Shared Nothing</span></p>
        <ul class="c0 lst-kix_j2e6f5c93c1-0 start">
            <li class="c4 c8 li-bullet-0">
                <span>Shared Nothing is an architecture ruled by a </span
                ><span class="c99 c102"
                    ><a
                        class="c47"
                        href="https://www.google.com/url?q=https://www.youtube.com/watch?v%3D8PW7JeFKA-A&amp;sa=D&amp;source=editors&amp;ust=1623780633520000&amp;usg=AOvVaw2I7ycnTYUNod5i9K-tLhLA"
                        >King Nothing</a
                    ></span
                ><span class="c12">.</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>Just kidding, </span
                ><span class="c9">Shared Nothing </span
                ><span class="c12"
                    >is a massively parallel, loosely coupled architecture that
                    assigns each processor their own part of the data, with
                    their own database.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >There are high speed interconnects between processors, so
                    they can still communicate.</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 286.68px;
                    height: 192.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image20.png"
                    style="
                        width: 286.68px;
                        height: 192.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_5qhzfsou8ujn-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >There can be no data incoherence because each process only
                    acts upon their own data.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >However we need distributed deadlock detection so processes
                    don&rsquo;t hang when talking to each other.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span
                    >We also need multiphase commit protocol. Don&rsquo;t
                    remember that? </span
                ><span class="c99 c102"
                    ><a
                        class="c47"
                        href="https://www.google.com/url?q=https://docs.google.com/document/d/1MEz9ZeCIoAofOf6ZA10e-LVpOdFTxZ2Eeg6QCUmASbQ/edit%23bookmark%3Did.qwa9j8wwm1zp&amp;sa=D&amp;source=editors&amp;ust=1623780633521000&amp;usg=AOvVaw1QHH4AUa0GcvI3Rij9N8pT"
                        >We did it back in Distributed Systems &amp; Networks</a
                    ></span
                ><span class="c12">!</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Lastly, we need to break SQL requests into multiple
                    sub-requests, because the records the query needs might be
                    split across multiple processes.</span
                >
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_5qhzfsou8ujn-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >It&rsquo;s actually possible to mix-and-match hardware and
                    software from different architectures.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >For example, Virtual Shared Disk (VSD) makes an IBM SP
                    shared nothing system look like a shared disc setup (for
                    Oracle).</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >However, from this point on, we&rsquo;ll only talk about
                    shared nothing, so don&rsquo;t worry about the other
                    architectures for now.</span
                >
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_5qhzfsou8ujn-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >The challenges of shared nothing are as follows:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_5qhzfsou8ujn-1 start">
            <li class="c4 c13 li-bullet-0">
                <span>Partitioning the data </span
                ><span class="c49 c20 c39"
                    >(how to split it up between processes)</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12">Keeping the partitioned data balanced</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >Splitting up queries to get the work done</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12">Avoiding distributed deadlock</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12">Concurrency control</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12">Dealing with node failure</span>
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_5qhzfsou8ujn-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >So let&rsquo;s say we have four processors, and all the
                    data is balanced evenly across them all.</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 324px;
                    height: 108px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image29.png"
                    style="
                        width: 324px;
                        height: 108px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_l5ko0osgt7q9-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >However, we start to get more and more data, and
                    performance starts to drop because the buffers are getting
                    full.</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 327px;
                    height: 110px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image100.png"
                    style="
                        width: 327px;
                        height: 110px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_i86qb7dngsgy-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12">We need to scale up!</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Luckily, we&rsquo;re using an architecture that allows us
                    to scale up easily by adding more disks and processors. So
                    we do just that.</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 327px;
                    height: 113px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image44.png"
                    style="
                        width: 327px;
                        height: 113px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_ds8zvn9w1zgd-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >The system is acting like they&rsquo;re not even there.
                    What gives?</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >We need to repartition our data across the new processors,
                    which means assigning what data those new processors are in
                    charge of, and moving their data to them.</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 325px;
                    height: 107px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image86.png"
                    style="
                        width: 325px;
                        height: 107px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <h2 class="c42" id="h.woysht25dh9y-26">
            <span class="c50 c27">Parallel query processing</span>
        </h2>
        <ul class="c0 lst-kix_1xv6ijppwgc-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >When a query comes into a parallel database, what
                    happens?</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >The application sends the query to the coordinator
                    process.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >The coordinator process then delegates the query (or parts
                    of the query) to worker processes.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >For every worker process, when the worker process is
                    finished with its task, it sends the result back to the
                    coordinator process.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >When the coordinator process gets all its results back, it
                    unions it all and outputs that as the query result.</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 451.5px;
                    height: 204.96px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image28.png"
                    style="
                        width: 451.5px;
                        height: 204.96px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_qyox1ayd0pus-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >The worker processes can be split across processors.</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 460.04px;
                    height: 220.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image51.png"
                    style="
                        width: 460.04px;
                        height: 220.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_wjl3sxev0nzn-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12">This comes in two flavours:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_wjl3sxev0nzn-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c9">Inter-Query Parallelism</span
                ><span class="c12"
                    >: whole queries and transactions are executed on different
                    processors concurrently. Improves throughput.</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c9">Intra-Query Parallelism</span
                ><span class="c12"
                    >: queries are split into smaller tasks and distributed
                    between all the processes. Improves response times.</span
                >
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_wjl3sxev0nzn-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >We&rsquo;ll talk about intra-query parallelism here.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >There&rsquo;s three kinds of parallelism we can perform on
                    the operators when we do intra-query parallelism:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_wjl3sxev0nzn-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c9">Intra-operator (horizontal) parallelism</span
                ><span class="c12"
                    >: operators are decomposed into many independent operator
                    instances, which are performed on different subsets of the
                    data on different processes</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c9">Inter-operator (vertical) parallelism</span
                ><span class="c12"
                    >: operations, that don&rsquo;t have to happen sequentially
                    to work, are overlapped and data is pipelined from one stage
                    to the next</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c9">Bushy (independent) parallelism)</span
                ><span class="c12"
                    >: subtrees in the query plan are executed
                    concurrently</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_wjl3sxev0nzn-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Those explanations make no sense? Don&rsquo;t worry,
                    they&rsquo;re more like summaries; we&rsquo;ll go into
                    detail here.</span
                >
            </li>
        </ul>
        <p class="c4">
            <span class="c24 c29">Intra-operator parallelism</span>
        </p>
        <ul class="c0 lst-kix_3vncv0hhu8fh-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >With intra-operator parallelism, we perform the same
                    operation across all processors, but with different
                    partitions of the data.</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 424.99px;
                    height: 260.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image25.png"
                    style="
                        width: 424.99px;
                        height: 260.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_qzeytqpastla-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >So, for example, say we have a select operator across a
                    relation with 100 records, and we have 4 processors.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >We could split the workload by giving each processor a
                    select operator and a partition of 25 records to work
                    on.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12">So the workload would look like:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_qzeytqpastla-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12">Processor #1: select on records 1-25</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12">Processor #2: select on records 26-50</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12">Processor #3: select on records 51-75</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12">Processor #4: select on records 76-100</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_qzeytqpastla-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Then all those results would be collected by the
                    coordinator, unioned up and then outputted.</span
                >
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_qzeytqpastla-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12">How do we partition our records?</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12">There&rsquo;s three ways:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_qzeytqpastla-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c9">Range partitioning</span
                ><span class="c12"
                    >: this is like what I did in the example. You split the
                    number of records evenly across all processors.</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c9">Hash partitioning</span
                ><span>: you use a hash function </span
                ><span>h : record &rarr; processor ID </span
                ><span class="c12"
                    >to decide which record goes to what processor</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c9">Schema partitioning</span
                ><span class="c12"
                    >: you use the schema to decide, for example if a query acts
                    upon relations R and S, you could delegate all records in R
                    to processor #1 and all records in S to processor #2.</span
                >
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_qzeytqpastla-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12">Let&rsquo;s look at another example.</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>We have a query: </span
                ><span class="c12">SELECT c1, c2 FROM t WHERE c1 &gt; 5.5</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>There are 100,000 records in </span><span>t</span
                ><span class="c12"
                    >, and the predicate eliminates 90% of them.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>We have four processors that split the relation </span
                ><span>t</span><span class="c12">&nbsp;into quarters.</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>One way of approaching this problem is </span
                ><span class="c9">data shipping</span><span class="c12">.</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >It&rsquo;s where we get all the data we need from the
                    processors, and then let the coordinator handle the
                    selecting and projecting.</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 244.66px;
                    height: 208.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image50.png"
                    style="
                        width: 244.66px;
                        height: 208.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_x5cik7gj81oq-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >This puts strain on the coordinator, and wastes
                    resources.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>Instead, we can do </span
                ><span class="c9">query shipping </span
                ><span class="c12"
                    >and make the worker processes perform the operations, and
                    then send all their results to the coordinator for
                    unioning.</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 311.72px;
                    height: 227.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image63.png"
                    style="
                        width: 311.72px;
                        height: 227.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_rhcefue5wuqu-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Here, database operations are performed where the data is,
                    and network traffic is minimised.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >We want to do query shipping as much as we can, but
                    sometimes that&rsquo;s not possible, especially for
                    operations that can&rsquo;t be split like this (like
                    product).</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Therefore, we need a combination of data and query
                    shipping.</span
                >
            </li>
        </ul>
        <p class="c4">
            <span class="c29 c24">Inter-operator parallelism</span>
        </p>
        <ul class="c0 lst-kix_etnt4dvj20cv-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Inter-operator parallelism allows operators with a
                    producer-consumer dependency to be executed
                    concurrently.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >In other words, all operators follow a producer-consumer
                    pattern, where for each operator, it consumes data from the
                    operator before it and produces data for the operator ahead
                    of it.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >This allows operators to be run concurrently.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >This also allows operators ahead of the plan to start
                    producing results before the operator before it has
                    finished.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >This is best suited for single-pass operators.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Still doesn&rsquo;t make sense? Here&rsquo;s an
                    example.</span
                >
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_etnt4dvj20cv-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Let&rsquo;s say we have a scan, a join, and sort operators
                    one after the other in a query.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >The scan just looks up all the records we need from
                    relations R and S.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >The join pairs up two matching records from R and S with
                    respect to attribute A and outputs them.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >The sort, as the name suggests, sorts the records via an
                    attribute.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >We could just do these all one after the other: scan all of
                    the records, then join all the records, then sort them
                    all.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >But we don&rsquo;t have to wait until one operation is done
                    with all the records before we move on to the next!</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 407.89px;
                    height: 238.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image98.png"
                    style="
                        width: 407.89px;
                        height: 238.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_4u5bwrgw68x-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12">Here&rsquo;s how this&rsquo;ll work:</span>
            </li>
        </ul>
        <ol class="c0 lst-kix_lslrcakl5cze-0 start" start="1">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >The scan reads each record and sends them to the join
                    operator, as and when it reads them.</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >The join uses indexes to store the records of R and records
                    with S with respect to attribute A. When the join finds a
                    match between the two indexes, it&rsquo;ll output the new
                    pair to the sort operator.</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >The sort puts all the records it receives into a heap with
                    respect to whatever attribute we want to sort by. Therefore,
                    when the sort has consumed all the input, it can just fetch
                    all the records from the heap and output a sorted list of
                    records.</span
                >
            </li>
        </ol>
        <p class="c4 c26 c91"><span class="c12"></span></p>
        <ul class="c0 lst-kix_7h13it4v01hy-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >We don&rsquo;t have to use just one or the other: we can
                    use both intra- and inter-operator parallelism!</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 483.48px;
                    height: 283.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image39.png"
                    style="
                        width: 483.48px;
                        height: 283.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_6sa1diknyenr-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12">There once was a DBMS called Volcano.</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Along with all the normal operators, it had an Exchange
                    operator.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >This operator was inserted between the steps of a query in
                    order to:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_6sa1diknyenr-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12">Pipeline results</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >Direct streams of data to the next steps, redistributing as
                    necessary</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_6sa1diknyenr-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >This allows us to support both vertical and horizontal
                    parallelism in our plans.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12">For example, say we have this query:</span>
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 313.54px;
                    height: 271.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image73.png"
                    style="
                        width: 313.54px;
                        height: 271.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_na9pl2owi9pe-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >This is the query after we&rsquo;ve added Exchange
                    operators:</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 390.5px;
                    height: 342.32px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image42.png"
                    style="
                        width: 390.5px;
                        height: 342.32px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_s370fk65lifd-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >As you can see, multiple operators go into the exchange
                    operator and multiple go out. This is the horizontal
                    parallelism of splitting the workload into data
                    subsets.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >The exchange operator also handles the vertical parallelism
                    by taking in tuples on-the-fly from its inputs and sending
                    them to the outputs.</span
                >
            </li>
        </ul>
        <p class="c4"><span class="c29 c24">Bushy parallelism</span></p>
        <ul class="c0 lst-kix_l7adnmtoao8j-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Bushy parallelism simply means we execute the subtrees of
                    the query plan concurrently.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >For example, if we have this query tree:</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 253px;
                    height: 165.37px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image33.png"
                    style="
                        width: 253px;
                        height: 165.37px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_l3u4zlgsifb-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >We can execute the red subtrees concurrently in different
                    processors, and once they&rsquo;re done, those outputs can
                    come together and another processor can execute the blue
                    subtree.</span
                >
            </li>
        </ul>
        <h2 class="c42" id="h.jxor9xr84m2q">
            <span class="c50 c27">Joins</span>
        </h2>
        <ul class="c0 lst-kix_r1uvz5ysy7k-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >In this section, we&rsquo;ll look at the kinds of query
                    processing we might find.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >They incorporate aspects of intra-operator and bushy
                    parallelism.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >This is the example database we&rsquo;ll use:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_r1uvz5ysy7k-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12">Database = {</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_r1uvz5ysy7k-2 start">
            <li class="c4 c36 li-bullet-0">
                <span class="c12">Customer(CUSTKEY, C_NAME, C_NATION)</span>
            </li>
            <li class="c4 c36 li-bullet-0">
                <span class="c12">Order(ORDERKEY, DATE, CUSTKEY, SUPPKEY)</span>
            </li>
            <li class="c4 c36 li-bullet-0">
                <span class="c12">Supplier(SUPPKEY, S_NAME, S_NATION)</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_r1uvz5ysy7k-1">
            <li class="c4 c13 li-bullet-0"><span>}</span></li>
        </ul>
        <p class="c4"><span class="c29 c24">Enquiry</span></p>
        <ul class="c0 lst-kix_6yswog358e-0 start">
            <li class="c4 c8 li-bullet-0">
                <span>Also called </span
                ><span class="c9">query without join</span
                ><span class="c12">.</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12">Let&rsquo;s say we wanted to ask:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_6yswog358e-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >&ldquo;How many customers live in the UK?&rdquo;</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_6yswog358e-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >This assumes that the Customer relation is partitioned
                    between processors.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >We&rsquo;d do this query by having each processor filter
                    out their own customers that live in the UK and count
                    them.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Then, all the processors send their subcounts to the
                    coordinator, where they are all counted and returned.</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 359px;
                    height: 229.96px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image45.png"
                    style="
                        width: 359px;
                        height: 229.96px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c4"><span class="c29 c24">Collocated Join</span></p>
        <ul class="c0 lst-kix_il3jfpghfwkp-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12">Let&rsquo;s say we wanted to ask:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_il3jfpghfwkp-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >&ldquo;Which customer placed orders in July?&rdquo;</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_il3jfpghfwkp-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >We also make the assumption that the Order and Customer
                    relations are both partitioned on the CUSTKEY
                    attribute.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Therefore the processors have all the information they need
                    to make joins themselves.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Each processor&rsquo;s joins are then sent to the
                    coordinator for unioning.</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 454.5px;
                    height: 217.44px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image81.png"
                    style="
                        width: 454.5px;
                        height: 217.44px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c4"><span class="c29 c24">Directed Join</span></p>
        <ul class="c0 lst-kix_8eb4sptlvbtc-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >We want to ask the same question again, but this time,
                    Order is partitioned on ORDERKEY and Customer is partitioned
                    on CUSTKEY.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Therefore we need to retrieve the Order rows using a scan,
                    and then use Order.CUSTKEY to direct each Order record to
                    their respective Customer processor.</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 430.44px;
                    height: 209.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image83.png"
                    style="
                        width: 430.44px;
                        height: 209.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c4"><span class="c29 c24">Broadcast Join</span></p>
        <ul class="c0 lst-kix_hf0sxdm4inbq-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12">What if we want to ask the question:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_hf0sxdm4inbq-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >&ldquo;Which customers and suppliers are in the same
                    country?&rdquo;</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_hf0sxdm4inbq-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >We also make the assumption that Supplier is partitioned on
                    SUPPKEY and Customer is partitioned on CUSTKEY.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >The join we want to make is on *_NATION, which is not an
                    attribute that is being partitioned, so we can&rsquo;t use
                    directed join.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >What we can do is we can scan the Supplier records, and
                    then broadcast them to all processors joining Customer
                    records.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >This works, but there&rsquo;s a lot of unnecessary
                    communications here.</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 456px;
                    height: 223.94px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image46.png"
                    style="
                        width: 456px;
                        height: 223.94px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c4"><span class="c29 c24">Repartitioned Join</span></p>
        <ul class="c0 lst-kix_31lmsh3jldoc-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12">We want to ask the same question.</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >An alternative to broadcast join is to have another
                    processor that does the joining, instead of making the
                    processor that scans Customers also join with
                    Suppliers.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Now, slave task 1 can map Supplier records to slave task 3
                    nodes using Supplier.S_NATION, and slave task 2 can do the
                    same with Customer.C_NATION.</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 448.5px;
                    height: 253.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image61.png"
                    style="
                        width: 448.5px;
                        height: 253.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <h2 class="c42" id="h.xs1vpsueo9qt">
            <span class="c50 c27">Concurrency control</span>
        </h2>
        <ul class="c0 lst-kix_pv7pgpqmfiuf-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >In a parallel database, we can split queries and execute
                    those parts elsewhere.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >However, parallel databases are still subject to
                    concurrency problems, in the same way that monolithic
                    databases are.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >There might be two queries running on one processor at the
                    same time, trying to access the same relation.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >In addition, there could be node failures.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >We need concurrency control and recovery across multiple
                    nodes for:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_pv7pgpqmfiuf-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12">Locking and deadlock detection</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >Two-phase commit to ensure &lsquo;all or
                    nothing&rsquo;</span
                >
            </li>
        </ul>
        <p class="c4 c26 c91"><span class="c12"></span></p>
        <ul class="c0 lst-kix_pv7pgpqmfiuf-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >With a Shared Nothing architecture, each node is
                    responsible for locking its own data.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >There&rsquo;s no global locking mechanism.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>However, we can still get a </span
                ><span class="c9">distributed deadlock</span
                ><span class="c12">:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_pv7pgpqmfiuf-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >Processor #1 locks relation R and wants relation S on
                    processor #2</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >Processor #2 locks relation S and wants relation R on
                    processor #1</span
                >
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_pv7pgpqmfiuf-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >One way to solve this is using timeouts.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >After a certain timeout, one of the processors performs a
                    rollback to let the other processor proceed.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >The timeout might need a random element to avoid
                    &lsquo;chatter&rsquo;, which is when both transactions give
                    up at the same time and then try again.</span
                >
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_pv7pgpqmfiuf-0">
            <li class="c4 c8 li-bullet-0">
                <span>A more sophisticated way of doing this is to use a </span
                ><span class="c9">distributed deadlock detector (DDD)</span
                ><span class="c12">.</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12">This is how IBM&rsquo;s DB2 works.</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Basically, each node maintains a local
                    &lsquo;wait-for&rsquo; graph.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Each database has a catalogue node that has their own
                    DDD.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Periodically, all nodes send their graphs to the DDD.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >DD records all the currently held locks.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >If a lock is still there after two successful iterations, a
                    deadlock is declared.</span
                >
            </li>
        </ul>
        <h2 class="c42" id="h.jxor9xr84m2q-27">
            <span class="c50 c27">Reliability</span>
        </h2>
        <ul class="c0 lst-kix_vicslqcrejoq-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >We want to preserve the ACID properties for our parallel
                    database.</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_vicslqcrejoq-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >Isolation is taken care of by 2PL (two-phase locking)
                    protocol</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12">Isolation implies consistency</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >Durability can be taken care of node-by-node, with proper
                    logging and recovery routines</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_vicslqcrejoq-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Atomicity is the only one that sticks out.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >We need to commit all parts of a transaction, or
                    none.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Therefore we need to use a two-phase commit protocol (2PC)
                    to ensure atomicity is preserved.</span
                >
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_vicslqcrejoq-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >First, we need to distinguish between transactions.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c9">Global transaction</span
                ><span class="c12"
                    >: a transaction managed by a single site, known as the
                    coordinator</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c9">Local transaction</span
                ><span class="c12"
                    >: a transaction executed on separate sites, known as the
                    participants</span
                >
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_vicslqcrejoq-0">
            <li class="c4 c8 li-bullet-0">
                <span>We covered 2PC back in </span
                ><span class="c99 c102"
                    ><a
                        class="c47"
                        href="https://www.google.com/url?q=https://docs.google.com/document/d/1MEz9ZeCIoAofOf6ZA10e-LVpOdFTxZ2Eeg6QCUmASbQ/edit%23bookmark%3Did.qwa9j8wwm1zp&amp;sa=D&amp;source=editors&amp;ust=1623780633541000&amp;usg=AOvVaw2COTaAiu2LEv7Hm-sVUI7g"
                        >Distributed Systems &amp; Networks</a
                    ></span
                ><span class="c12">.</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >However, I&rsquo;ll give you a quick refresher.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c21 c9 c27">Phase 1: Voting</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_vicslqcrejoq-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >The coordinator sends &ldquo;prepare T&rdquo; message to
                    all participants</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >Participants respond with either &ldquo;vote-commit
                    T&rdquo; or &ldquo;vote-abort T&rdquo;</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span
                    >Coordinator waits for participants to respond within a
                    timeout period</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_vicslqcrejoq-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c21 c9 c27">Phase 2: Committing</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_vicslqcrejoq-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >If all the participants said &ldquo;vote-commit T&rdquo;,
                    then the coordinator will send &ldquo;commit T&rdquo; to all
                    participants and then wait for the results.</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >If at least one participant said &ldquo;vote-abort
                    T&rdquo;, then the coordinator will send &ldquo;abort
                    T&rdquo; to all participants and wait for
                    acknowledgements.</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >When all acknowledgments are received, the transaction is
                    completed.</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >If a site does not acknowledge, resend global decision
                    until it is acknowledged.</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 385.5px;
                    height: 233.33px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image22.png"
                    style="
                        width: 385.5px;
                        height: 233.33px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c44">
            <span class="c71 c68 c27 c111">When things go right</span>
        </p>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_vicslqcrejoq-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >There are states that the sites can be in during this
                    protocol.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12">For the coordinator:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_vicslqcrejoq-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >INITIAL: before we&rsquo;ve done anything yet</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12">WAIT: sent &ldquo;prepare T&rdquo;</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >ABORT: received at least one &ldquo;vote-abort
                    T&rdquo;</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >COMMIT: received all &ldquo;vote-commit T&rdquo;</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_vicslqcrejoq-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12">For the participants:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_vicslqcrejoq-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >INITIAL: before we&rsquo;ve done anything yet</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >READY: got &ldquo;prepare T&rdquo;, sent &ldquo;vote-commit
                    T&rdquo;</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >ABORT: either sent &ldquo;vote-abort T&rdquo; or received
                    &ldquo;abort-T&rdquo;</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >COMMIT: committed and sent an acknowledgement</span
                >
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_vicslqcrejoq-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >When someone fails during 2PC, there are two possible
                    protocols that happen:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_vicslqcrejoq-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c104 c9 c22">Termination protocol</span
                ><span class="c12"
                    >: used by the other sites when they timeout waiting for the
                    next message from the failed site</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c9 c38 c90">Recovery protocol</span
                ><span class="c12"
                    >: used by the failed site when it restarts and tries to
                    work out the state of the commit</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_vicslqcrejoq-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >The behaviour of the sites under these protocols depends on
                    the state they were in when the failed site... uh,
                    failed.</span
                >
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_vicslqcrejoq-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c104 c22">Termination protocol</span
                ><span class="c12">:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_vicslqcrejoq-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12">Coordinator, WAIT:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_vicslqcrejoq-2 start">
            <li class="c4 c36 li-bullet-0">
                <span class="c12"
                    >Coordinator is still waiting for all the votes.</span
                >
            </li>
            <li class="c4 c36 li-bullet-0">
                <span class="c12"
                    >Coordinator can abort the global transaction.</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_vicslqcrejoq-1">
            <li class="c4 c13 li-bullet-0">
                <span class="c12">Coordinator, COMMIT / ABORT:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_vicslqcrejoq-2 start">
            <li class="c4 c36 li-bullet-0">
                <span class="c12"
                    >Coordinator is waiting for acknowledgements</span
                >
            </li>
            <li class="c4 c36 li-bullet-0">
                <span class="c12"
                    >Coordinator resends global decision to participants who
                    have not acknowledged</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_vicslqcrejoq-1">
            <li class="c4 c13 li-bullet-0">
                <span class="c12">Participant, INITIAL:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_vicslqcrejoq-2 start">
            <li class="c4 c36 li-bullet-0">
                <span class="c12"
                    >Participant is waiting for a &ldquo;prepare T&rdquo;</span
                >
            </li>
            <li class="c4 c36 li-bullet-0">
                <span class="c12">Abort the transaction after a timeout</span>
            </li>
            <li class="c4 c36 li-bullet-0">
                <span class="c12"
                    >If we still get the &ldquo;prepare T&rdquo; even after we
                    abort:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_vicslqcrejoq-3 start">
            <li class="c4 c30 li-bullet-0">
                <span class="c12"
                    >resend the &ldquo;vote-abort T&rdquo; message or</span
                >
            </li>
            <li class="c4 c30 li-bullet-0">
                <span class="c12"
                    >ignore (coordinator will eventually abort too)</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_vicslqcrejoq-1">
            <li class="c4 c13 li-bullet-0">
                <span class="c12">Participant, READY:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_vicslqcrejoq-2 start">
            <li class="c4 c36 li-bullet-0">
                <span class="c12"
                    >Participant is waiting for commit or abort message</span
                >
            </li>
            <li class="c4 c36 li-bullet-0">
                <span
                    >Participant can talk to other participants about what the
                    decision is (</span
                ><span class="c9">cooperative termination protocol</span
                ><span class="c12">)</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_vicslqcrejoq-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c38 c90">Recovery protocol</span
                ><span class="c12">:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_vicslqcrejoq-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12">Coordinator, INITIAL:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_vicslqcrejoq-2 start">
            <li class="c4 c36 li-bullet-0">
                <span class="c12"
                    >The protocol hasn&rsquo;t even begun yet, so we can restart
                    commit procedure</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_vicslqcrejoq-1">
            <li class="c4 c13 li-bullet-0">
                <span class="c12">Coordinator, WAIT:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_vicslqcrejoq-2 start">
            <li class="c4 c36 li-bullet-0">
                <span class="c12"
                    >Coordinator has sent &ldquo;prepare T&rdquo; but
                    hasn&rsquo;t received all votes yet</span
                >
            </li>
            <li class="c4 c36 li-bullet-0">
                <span class="c12"
                    >Restart procedure by resending &ldquo;prepare
                    T&rdquo;</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_vicslqcrejoq-1">
            <li class="c4 c13 li-bullet-0">
                <span class="c12">Coordinator, COMMIT / ABORT:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_vicslqcrejoq-2 start">
            <li class="c4 c36 li-bullet-0">
                <span class="c12"
                    >If coordinator has received all &ldquo;ack&rdquo; message,
                    complete successfully</span
                >
            </li>
            <li class="c4 c36 li-bullet-0">
                <span class="c12">Otherwise, terminate</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_vicslqcrejoq-1">
            <li class="c4 c13 li-bullet-0">
                <span class="c12">Participant, INITIAL:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_vicslqcrejoq-2 start">
            <li class="c4 c36 li-bullet-0">
                <span class="c12"
                    >Participant has not voted yet, so the coordinator cannot
                    have reached a decision.</span
                >
            </li>
            <li class="c4 c36 li-bullet-0">
                <span class="c12"
                    >Abort by sending &ldquo;vote-abort T&rdquo;</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_vicslqcrejoq-1">
            <li class="c4 c13 li-bullet-0">
                <span class="c12">Participant, READY:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_vicslqcrejoq-2 start">
            <li class="c4 c36 li-bullet-0">
                <span class="c12"
                    >Participant has voted, but can&rsquo;t remember what they
                    voted</span
                >
            </li>
            <li class="c4 c36 li-bullet-0">
                <span class="c12"
                    >Use cooperative termination protocol (ask other
                    participants)</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_vicslqcrejoq-1">
            <li class="c4 c13 li-bullet-0">
                <span class="c12">Participant, COMMIT / ABORT:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_vicslqcrejoq-2 start">
            <li class="c4 c36 li-bullet-0">
                <span class="c12">Resend &ldquo;ack&rdquo; message</span>
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_vicslqcrejoq-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >There are other operations can also exploit the parallel
                    hardware:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_vicslqcrejoq-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12">Parallel Data Loading/Import/Export</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12">Parallel Index Creation</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12">Parallel Rebalancing</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12">Parallel Backup</span>
            </li>
            <li class="c4 c13 li-bullet-0"><span>Parallel Recovery</span></li>
        </ul>
        <h1 class="c67 c69" id="h.mjbylyfzlbu">
            <span class="c70 c68 c27">Distributed Databases</span>
        </h1>
        <ul class="c0 lst-kix_yawhlhf0uia4-0 start">
            <li class="c4 c8 li-bullet-0">
                <span>A </span><span class="c9">distributed database </span
                ><span>is a collection of </span><span class="c9">sites </span
                ><span class="c12">connected by a communications network.</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Each site is a database system that stores their own bit of
                    data, but all the sites have agreed to work together.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >All the data can be accessed from any one site; the data
                    the site doesn&rsquo;t have is just fetched from the
                    network.</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 602px;
                    height: 296px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image80.png"
                    style="
                        width: 602px;
                        height: 296px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <h2 class="c42" id="h.e3wvtvqffqqt">
            <span class="c50 c27">Distributed DBMS Principles</span>
        </h2>
        <ul class="c0 lst-kix_yttbwmju4z8b-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Here&rsquo;s a list of principles a distributed database
                    management system should have:</span
                >
            </li>
        </ul>
        <p class="c4 c26"><span class="c12"></span></p>
        <a id="t.e7d0a355be5cf3f971186b6bc82c02a5481cac17"></a><a id="t.10"></a>
        <table class="c54">
            <tbody>
                <tr class="c37">
                    <td class="c35 c103" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c21 c9 c27">Principle</span>
                        </p>
                    </td>
                    <td class="c46 c103" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c21 c9 c27">Explanation</span>
                        </p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c35" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c12">Local autonomy</span>
                        </p>
                    </td>
                    <td class="c46" colspan="1" rowspan="1">
                        <p class="c4">
                            <span class="c12"
                                >Each site should be autonomous or independent
                                of each other (low coupling)</span
                            >
                        </p>
                        <p class="c4 c26"><span class="c12"></span></p>
                        <p class="c4">
                            <span class="c12"
                                >Every site should provide their own:</span
                            >
                        </p>
                        <ul class="c0 lst-kix_o074i8uyo7bc-0 start">
                            <li class="c4 c8 li-bullet-0">
                                <span class="c12">Security</span>
                            </li>
                            <li class="c4 c8 li-bullet-0">
                                <span class="c12">Locking</span>
                            </li>
                            <li class="c4 c8 li-bullet-0">
                                <span class="c12">Logging</span>
                            </li>
                            <li class="c4 c8 li-bullet-0">
                                <span class="c12">Integrity</span>
                            </li>
                            <li class="c4 c8 li-bullet-0">
                                <span class="c12">Recovery</span>
                            </li>
                        </ul>
                        <p class="c4 c26"><span class="c12"></span></p>
                        <p class="c4">
                            <span class="c12"
                                >Local operations on a site only affect the
                                local resources of that site, and
                                shouldn&rsquo;t affect any other site on the
                                network.</span
                            >
                        </p>
                        <p class="c4 c26"><span class="c12"></span></p>
                        <p class="c4">
                            <span class="c12"
                                >This ensures that all the sites are modular,
                                and doesn&rsquo;t spaghettify the operations of
                                the network.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c35" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c12"
                                >No reliance on a central site</span
                            >
                        </p>
                    </td>
                    <td class="c46" colspan="1" rowspan="1">
                        <p class="c4">
                            <span class="c12"
                                >The system should not rely on a central site,
                                which may be a single point of failure or
                                bottleneck.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c35" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c12">Continuous operation</span>
                        </p>
                    </td>
                    <td class="c46" colspan="1" rowspan="1">
                        <p class="c4">
                            <span class="c12"
                                >The system should never require downtime.</span
                            >
                        </p>
                        <p class="c4 c26"><span class="c12"></span></p>
                        <p class="c4">
                            <span class="c12"
                                >There should be on-line backup and recovery,
                                which are fast enough to be performed online
                                without noticeable performance drops.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c35" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c12">Location independence</span>
                        </p>
                    </td>
                    <td class="c46" colspan="1" rowspan="1">
                        <p class="c4">
                            <span class="c12"
                                >Applications shouldn&rsquo;t even be aware of
                                where the data is physically stored.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c35" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c12">Fragmentation independence</span>
                        </p>
                    </td>
                    <td class="c46" colspan="1" rowspan="1">
                        <p class="c4">
                            <span class="c12"
                                >Relations can be divided into fragments and
                                stored at different sites.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c35" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c12">Replication independence</span>
                        </p>
                    </td>
                    <td class="c46" colspan="1" rowspan="1">
                        <p class="c4">
                            <span class="c12"
                                >Copies of relations and fragments can be stored
                                on different sites.</span
                            >
                        </p>
                        <p class="c4 c26"><span class="c12"></span></p>
                        <p class="c4">
                            <span class="c12"
                                >This should be under the hood; applications
                                shouldn&rsquo;t know that duplicates are being
                                maintained and synchronised.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c35" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c12"
                                >Distributed query processing</span
                            >
                        </p>
                    </td>
                    <td class="c46" colspan="1" rowspan="1">
                        <p class="c4">
                            <span
                                >Queries are broken down into component
                                transactions to be executed at the distributed
                                sites (see </span
                            ><span class="c99 c102"
                                ><a class="c47" href="#h.f55x96tg8esy"
                                    >Parallel Databases</a
                                ></span
                            ><span class="c12">&nbsp;for more info).</span>
                        </p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c35" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c12"
                                >Distributed transaction management</span
                            >
                        </p>
                    </td>
                    <td class="c46" colspan="1" rowspan="1">
                        <p class="c4">
                            <span class="c12"
                                >A system should support atomic transactions
                                (either a transaction happens or it
                                doesn&rsquo;t).</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c35" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c12">Hardware independence</span>
                        </p>
                    </td>
                    <td class="c46" colspan="1" rowspan="1">
                        <p class="c4">
                            <span class="c12"
                                >It shouldn&rsquo;t matter what hardware each
                                site uses; one could be on x86, another could be
                                ARM etc.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c35" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c12"
                                >Operating system independence</span
                            >
                        </p>
                    </td>
                    <td class="c46" colspan="1" rowspan="1">
                        <p class="c4">
                            <span class="c12"
                                >It shouldn&rsquo;t matter what OS each site
                                uses; one could be using Linux, another could
                                use Windows etc.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c35" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c12">Network independence</span>
                        </p>
                    </td>
                    <td class="c46" colspan="1" rowspan="1">
                        <p class="c4">
                            <span class="c12"
                                >It shouldn&rsquo;t matter what communication
                                protocols and network topologies are used to
                                connect the sites.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c37">
                    <td class="c35" colspan="1" rowspan="1">
                        <p class="c3">
                            <span class="c12">DBMS independence</span>
                        </p>
                    </td>
                    <td class="c46" colspan="1" rowspan="1">
                        <p class="c4">
                            <span class="c12"
                                >It shouldn&rsquo;t matter what DBMS each site
                                uses; one could be using MySQL, another could
                                use PostgreSQL etc.</span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c4 c26"><span class="c12"></span></p>
        <ul class="c0 lst-kix_hmf8q9qk9smc-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Parallel databases have all these principles too, except
                    they don&rsquo;t have:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_hmf8q9qk9smc-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12">Local autonomy</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12">Hardware independence</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12">Operating system independence</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12">Network independence</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12">DBMS independence</span>
            </li>
        </ul>
        <h2 class="c42" id="h.35f1jjd3a4zt">
            <span class="c50 c27">Fragmentation</span>
        </h2>
        <ul class="c0 lst-kix_3ea2w0lun0rp-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >In the principles, I mentioned fragments.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>A </span><span class="c9">fragment </span
                ><span class="c12"
                    >is a subset of the data, split in a certain way.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>In other words, fragments are partitions of a </span
                ><span class="c9">global relation</span
                ><span>, which is the whole unfragmented relation</span
                ><span class="c12">.</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12">The way the data is split are either:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_3ea2w0lun0rp-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c9">Horizontal fragmentation</span
                ><span class="c12"
                    >: each fragment contains a subset of the tuples</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 320.5px;
                    height: 191.03px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image79.png"
                    style="
                        width: 320.5px;
                        height: 191.03px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_3ea2w0lun0rp-1">
            <li class="c4 c13 li-bullet-0">
                <span class="c9">Vertical fragmentation</span
                ><span class="c12"
                    >: each fragment contains a subset of the attributes</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 320.5px;
                    height: 99.95px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image34.png"
                    style="
                        width: 320.5px;
                        height: 99.95px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_y7gwz59pe0mr-0 start">
            <li class="c4 c8 li-bullet-0">
                <span>A relation R is </span><span class="c9">decomposed </span
                ><span>into fragments </span><span>F</span
                ><span class="c15">R</span><span>&nbsp;= {R</span
                ><span class="c15">1</span><span>, R</span
                ><span class="c15">2</span><span>, ..., R</span
                ><span class="c15">n</span><span class="c12">}</span>
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 320.5px;
                    height: 201.1px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image72.png"
                    style="
                        width: 320.5px;
                        height: 201.1px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_y7gwz59pe0mr-0">
            <li class="c4 c8 li-bullet-0">
                <span>Decomposition </span
                ><span class="c12"
                    >(horizontal or vertical) can be expressed in terms of
                    relational algebra expressions.</span
                >
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_y7gwz59pe0mr-0">
            <li class="c4 c8 li-bullet-0">
                <span>F</span><span class="c15">R</span><span>&nbsp;is </span
                ><span class="c9">complete </span
                ><span>if each data item d</span><span class="c15">i</span
                ><span>&nbsp;in R is found in some R</span
                ><span class="c15">j</span><span class="c12">.</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span
                    >In layman&rsquo;s terms, completeness means that for every </span
                ><span>data item</span
                ><span class="c12"
                    >, you can find a fragment that contains that.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >For horizontal, a data item is a tuple. For vertical, a
                    data item is an attribute.</span
                >
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_y7gwz59pe0mr-0">
            <li class="c4 c8 li-bullet-0">
                <span>R can be </span><span class="c9">reconstructed </span
                ><span
                    >if it is possible to define a relational operator &#9661;
                    such that <br />&#x1d445;=&#9661;&#x1d445;</span
                ><span class="c15">&#x1d456;</span
                ><span>, for all &#x1d445;</span
                ><span class="c15">&#x1d456;</span
                ><span>&nbsp;&isin; &#x1d439;</span
                ><span class="c15">&#x1d445;</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >For example, &#9661; would be an n-ary union operator for
                    horizontal fragmentation, because you can get the full
                    relation R if you just union all the tuples in all the
                    fragments.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >&#9661; will be different for different types of
                    fragmentation.</span
                >
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_y7gwz59pe0mr-0">
            <li class="c4 c8 li-bullet-0">
                <span>F</span><span class="c15">R</span><span>&nbsp;is </span
                ><span class="c9">disjoint </span
                ><span>if every data item d</span><span class="c15">i</span
                ><span>&nbsp;in each R</span><span class="c15">j</span
                ><span>&nbsp;is not in any R</span><span class="c15">k</span
                ><span class="c12">&nbsp;where k &ne; j.</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Basically, every data item is unique to one and only one
                    fragment.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >If we have disjointness, we don&rsquo;t have
                    redundancy.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >This is only strictly true for horizontal decomposition,
                    because all tuples should be unique anyway.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >However, in vertical, we&rsquo;re repeating primary
                    keys.</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 320.5px;
                    height: 171.49px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image65.png"
                    style="
                        width: 320.5px;
                        height: 171.49px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_8vnma5axmf3b-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >But we need to repeat those primary keys so we know what
                    attribute goes to what record.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Therefore, when we&rsquo;re talking about vertical
                    fragmentation, disjointness does not include primary keys;
                    it&rsquo;s only applicable to non-primary key
                    attributes.</span
                >
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_8vnma5axmf3b-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >There are two kinds of horizontal fragmentation:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_8vnma5axmf3b-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c21 c9 c27">Primary horizontal fragmentation</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_8vnma5axmf3b-2 start">
            <li class="c4 c36 li-bullet-0">
                <span class="c12"
                    >Tuples are split into fragments using an attribute from
                    those tuples.</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 320.5px;
                    height: 255.77px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image91.png"
                    style="
                        width: 320.5px;
                        height: 255.77px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_n7qdndvmmbo7-0 start">
            <li class="c4 c36 li-bullet-0">
                <span>Decomposition: </span><span class="c24">F</span
                ><span class="c24 c15">R</span
                ><span class="c24">&nbsp;= {R</span
                ><span class="c24 c15">i</span><span class="c24">&nbsp;: R</span
                ><span class="c24 c15">i</span
                ><span class="c24">&nbsp;= &sigma;</span
                ><span class="c24 c15">fi</span
                ><span class="c71 c68 c24 c27">(R)}</span>
            </li>
            <li class="c4 c36 li-bullet-0">
                <span>Reconstruction: </span
                ><img src="assets/advanced-databases-part-iii/image1.png" />
            </li>
            <li class="c4 c36 li-bullet-0">
                <span>Disjointness: F</span><span class="c15">R</span
                ><span>&nbsp;is disjoint if all the predicates f</span
                ><span class="c15">i</span
                ><span class="c12">&nbsp;are mutually exclusive.</span>
            </li>
        </ul>
        <p class="c4 c26 c108"><span class="c12"></span></p>
        <ul class="c0 lst-kix_n7qdndvmmbo7-0">
            <li class="c4 c36 li-bullet-0">
                <span>f</span><span class="c15">i</span
                ><span>&nbsp;is a fragmentation predicate for R</span
                ><span class="c15">i</span
                ><span class="c12"
                    >&nbsp;and decides what tuples should be in that
                    fragment.</span
                >
            </li>
            <li class="c4 c36 li-bullet-0">
                <span>&sigma;</span><span class="c15">fi</span
                ><span
                    >&nbsp;filters out the tuples using that predicate, so
                    &sigma;</span
                ><span class="c15">fi</span
                ><span>(R) simply gets the tuples for R</span
                ><span class="c15">i</span><span>.</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_8vnma5axmf3b-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c21 c9 c27">Derived horizontal fragmentation</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_8vnma5axmf3b-2 start">
            <li class="c4 c36 li-bullet-0">
                <span class="c12"
                    >Tuples are split into fragments using an attribute from a
                    joined relation.</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 320.5px;
                    height: 469.64px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image35.png"
                    style="
                        width: 320.5px;
                        height: 469.64px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_c6aa849701pk-0 start">
            <li class="c4 c36 li-bullet-0">
                <span>Decomposition: </span><span class="c24">F</span
                ><span class="c24 c15">R</span
                ><span class="c24">&nbsp;= {R</span
                ><span class="c24 c15">i</span><span class="c24">&nbsp;: R</span
                ><span class="c24 c15">i</span
                ><span class="c24">&nbsp;= R&#8905;S</span
                ><span class="c24 c15">i</span
                ><span class="c71 c68 c24 c27">}</span>
            </li>
            <li class="c4 c36 li-bullet-0">
                <span>... where F</span><span class="c15">S</span
                ><span>&nbsp;= {S</span><span class="c15">i</span
                ><span>&nbsp;: &#x1d446;</span><span class="c15">i</span
                ><span>=&sigma;</span><span class="c15">fi</span
                ><span>(S)} and f</span><span class="c15">i</span
                ><span class="c12"
                    >&nbsp;are the fragmentation predicates for the primary
                    horizontal fragmentation of S</span
                >
            </li>
            <li class="c4 c36 li-bullet-0">
                <span>Reconstruction: </span
                ><img src="assets/advanced-databases-part-iii/image1.png" />
            </li>
        </ul>
        <p class="c4 c26 c108"><span class="c12"></span></p>
        <ul class="c0 lst-kix_93iurxga6e4x-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Here&rsquo;s some info about vertical fragmentation:</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>Decomposition: </span><span class="c24">F</span
                ><span class="c24 c15">R</span
                ><span class="c24">&nbsp;= {R</span
                ><span class="c24 c15">i</span><span class="c24">&nbsp;: R</span
                ><span class="c24 c15">i</span
                ><span class="c24">&nbsp;= &pi;</span
                ><span class="c24 c15">ai</span><span class="c24">(R)}</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>... where a</span><span class="c15">i</span
                ><span class="c12"
                    >&nbsp;is a subset of the attributes of R</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Completeness: FR is complete if each attribute of R appears
                    in some ai</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>Reconstruction: </span><span class="c24">R = &#8904;</span
                ><span class="c24 c15">K</span><span class="c24">&nbsp;R</span
                ><span class="c24 c15">i</span><span class="c24">&nbsp;</span
                ><span>for all</span><span class="c24">&nbsp;R</span
                ><span class="c24 c15">i</span
                ><span class="c24">&nbsp;&isin; F</span
                ><span class="c24 c15">R</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>Disjointness: F</span><span class="c15">R</span
                ><span
                    >&nbsp;is disjoint if each non-primary key attribute of R
                    appears in at most one a</span
                ><span class="c15">i</span>
            </li>
        </ul>
        <p class="c4 c26"><span class="c12"></span></p>
        <ul class="c0 lst-kix_fghslzkmb2om-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >You can also have a hybrid fragmentation:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_fghslzkmb2om-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >Vertical fragmentation of horizontal fragments</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span>Horizontal fragmentation of vertical fragments</span>
            </li>
        </ul>
        <h2 class="c42" id="h.e3wvtvqffqqt-28">
            <span class="c50 c27">Query Processing</span>
        </h2>
        <ul class="c0 lst-kix_u8vwqw2ui1bk-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Since fragments are expressed using relational algebra, we
                    can incorporate fragmentation into our query plans.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>Global relations can be constructed using a </span
                ><span class="c9">localisation program</span
                ><span class="c12">.</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >No, you don&rsquo;t compile and run a localisation program;
                    it&rsquo;s simply a way to reconstruct a global relation
                    using its fragments.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >For example, a localisation program for horizontal
                    fragmentation could be:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_u8vwqw2ui1bk-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c24">R = R</span><span class="c24 c15">1</span
                ><span class="c24">&nbsp;&cup; R</span
                ><span class="c24 c15">2</span
                ><span class="c24">&nbsp;&cup; ... &cup; R</span
                ><span class="c71 c24 c15 c27">n</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_u8vwqw2ui1bk-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >So if we see R in our plan, we can replace it with that big
                    union.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span
                    >However, there&rsquo;s no benefit to this. Yet. No benefit
                    if we do </span
                ><span class="c39">only</span
                ><span class="c12">&nbsp;this.</span>
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_u8vwqw2ui1bk-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >For horizontal fragmentation, there are two cases to
                    consider:</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c21 c9 c27">Reduction with selection</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_u8vwqw2ui1bk-1 start">
            <li class="c4 c13 li-bullet-0">
                <span>Given horizontal fragmentation of R such that R</span
                ><span class="c15">j</span><span>&nbsp;= &sigma;</span
                ><span class="c15">pj</span><span class="c12">(R):</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c24">&sigma;</span><span class="c24 c15">p</span
                ><span class="c24"
                    >(Rj) = &Oslash; if &forall;x &isin; R, &not;(p(x) &and;
                    p</span
                ><span class="c24 c15">j</span
                ><span class="c71 c68 c24 c27">(x))</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span>... where p</span><span class="c15">j</span
                ><span>&nbsp;is the fragmentation predicate for R</span
                ><span class="c15">j</span><span class="c12">.</span>
            </li>
        </ul>
        <p class="c4 c26 c91"><span class="c12"></span></p>
        <ul class="c0 lst-kix_u8vwqw2ui1bk-1">
            <li class="c4 c13 li-bullet-0">
                <span class="c12">So what does this actually mean?</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span
                    >It means that if you have a selection with predicate
                    &lsquo;p&rsquo;, you can look at each fragment&rsquo;s
                    predicate &lsquo;p</span
                ><span class="c15">j</span
                ><span class="c12"
                    >&rsquo; and see whether the selection predicate and the
                    fragment&rsquo;s predicate are mutually exclusive.</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >If they are mutually exclusive, that means no tuples in
                    that relation will match the select, therefore the fragment
                    will yield nothing when &ldquo;select&rdquo;-ed, so
                    there&rsquo;s no point in including it in the plan.</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >By doing things this way, we can reduce the number of
                    records we actually need to sift through in our plan.</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 488.5px;
                    height: 198.81px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image56.png"
                    style="
                        width: 488.5px;
                        height: 198.81px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_u8vwqw2ui1bk-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c21 c9 c27">Reduction with join</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_u8vwqw2ui1bk-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >This is similar to selection, but it&rsquo;s with
                    joins.</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >Recall that joins distribute over unions:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_u8vwqw2ui1bk-2 start">
            <li class="c4 c36 li-bullet-0">
                <span>(</span><span class="c104 c22">R1</span
                ><span>&nbsp;&cup; </span><span class="c38 c90">R2</span
                ><span>) &#10781; &#x1d446; &equiv; (</span
                ><span class="c104 c22">R1 &#10781; &#x1d446;</span
                ><span>) &cup; (</span
                ><span class="c38 c90">R2 &#10781; &#x1d446;</span
                ><span class="c12">)</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_u8vwqw2ui1bk-1">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >Previously, we checked if a select predicate is mutually
                    exclusive with a fragment predicate.</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >Now, we&rsquo;re checking if two fragment predicates are
                    mutually exclusive!</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span>Say you&rsquo;re joining two fragments, R</span
                ><span class="c15">i</span><span>&nbsp;and R</span
                ><span class="c15">j</span><span class="c12">.</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span>Given their predicates are p</span
                ><span class="c15">i</span><span>&nbsp;and p</span
                ><span class="c15">j</span
                ><span class="c12">&nbsp;respectively:</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c24">R</span><span class="c24 c15">i</span
                ><span class="c24">&nbsp;&#10781; R</span
                ><span class="c24 c15">j</span
                ><span class="c24">&nbsp;= &empty; if &forall;x &isin; R</span
                ><span class="c24 c15">i</span
                ><span class="c24">, &forall;y &isin; R</span
                ><span class="c24 c15">j</span
                ><span class="c24">&nbsp;&not;(p</span
                ><span class="c24 c15">i</span
                ><span class="c24">(x) &and; p</span
                ><span class="c24 c15">j</span
                ><span class="c68 c24 c27 c71">(y))</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span
                    >In my opinion, the example from the slides sucks, so
                    here&rsquo;s one from this </span
                ><span class="c99 c102"
                    ><a
                        class="c47"
                        href="https://www.google.com/url?q=https://books.google.co.uk/books?id%3D0i9uJJ78LtAC%26pg%3DPA191%26lpg%3DPA191%26dq%3Dhorizontal%2Bjoin%2Breduction%2Bfragmentation%26source%3Dbl%26ots%3DwX63VymW4b%26sig%3DACfU3U17FR4lkjaUckXdxMZIM9J_zpl0IQ%26hl%3Den%26sa%3DX%26ved%3D2ahUKEwjnuYvzuejpAhXkmFwKHUWKBzYQ6AEwAHoECA0QAQ%23v%3Donepage%26q%26f%3Dfalse&amp;sa=D&amp;source=editors&amp;ust=1623780633576000&amp;usg=AOvVaw2x0GkGXJULL7xsokd4v1wy"
                        >book I found</a
                    ></span
                ><span class="c12">:</span>
            </li>
        </ul>
        <p class="c44 c32">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 368.5px;
                    height: 143.85px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image66.png"
                    style="
                        width: 368.5px;
                        height: 143.85px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c44 c32">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 324.5px;
                    height: 91.91px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image59.png"
                    style="
                        width: 324.5px;
                        height: 91.91px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c44 c32"><span class="c68 c27 c80">Query</span></p>
        <p class="c44 c32">
            <span><br /></span
            ><span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 374.3px;
                    height: 186.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image92.png"
                    style="
                        width: 374.3px;
                        height: 186.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c44 c32"><span class="c80 c68 c27">Localised query</span></p>
        <p class="c44 c26 c32"><span class="c80 c68 c27"></span></p>
        <p class="c44 c32">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 538.5px;
                    height: 201.94px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image27.png"
                    style="
                        width: 538.5px;
                        height: 201.94px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c44 c32"><span class="c80 c68 c27">Optimised query</span></p>
        <p class="c4 c26 c32"><span class="c80 c68 c27"></span></p>
        <ul class="c0 lst-kix_doqez5axdmh3-0 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >Before, we were joining the whole relations with each
                    other.</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >Now, we&rsquo;re joining fragments that we know
                    aren&rsquo;t mutually exclusive, and unioning them.</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >Basically, we&rsquo;re trimming out the calculations of
                    trying to join tuples that we know won&rsquo;t join
                    together.</span
                >
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_u8vwqw2ui1bk-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >In vertical fragmentation, the localisation program
                    is:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_u8vwqw2ui1bk-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c24">R = R</span><span class="c24 c15">1</span
                ><span class="c24">&nbsp;&#10781; R</span
                ><span class="c24 c15">2</span
                ><span class="c24">&nbsp;&#10781; ... &#10781; R</span
                ><span class="c24 c15">n</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_u8vwqw2ui1bk-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >For vertical fragmentation, there&rsquo;s only one case,
                    and that&rsquo;s:</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c9">Reduction with projection</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_u8vwqw2ui1bk-1 start">
            <li class="c4 c13 li-bullet-0">
                <span>Given a relation R with attributes A = {a</span
                ><span class="c15">1</span><span>, a</span
                ><span class="c15">2</span><span>, ..., a</span
                ><span class="c15">n</span
                ><span>} vertically fragmented as R</span
                ><span class="c15">i</span><span>&nbsp;= &pi;</span
                ><span class="c15">Ai</span><span>(R) where A</span
                ><span class="c15">i</span
                ><span class="c12">&nbsp;&sube; A</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span>&pi;</span><span class="c15">D,K</span><span>(R</span
                ><span class="c15">i</span
                ><span>) is useless if D &#8840; A</span
                ><span class="c71 c15 c27 c110">i</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >... where D is set of projection attributes</span
                >
            </li>
        </ul>
        <p class="c4 c26 c91"><span class="c12"></span></p>
        <ul class="c0 lst-kix_u8vwqw2ui1bk-1">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >Alright, so what does this actually mean?</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >This means if we&rsquo;re trying to project a vertical
                    fragment that doesn&rsquo;t even contain the column
                    we&rsquo;re trying to project, we can remove it from the
                    plan.</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span>In this example, R</span><span class="c15">2</span
                ><span class="c12"
                    >&nbsp;is the only fragment that has the attributes within
                    the set D:</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 412.58px;
                    height: 166.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image24.png"
                    style="
                        width: 412.58px;
                        height: 166.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <a id="id.ngj3pv31zeun"></a>
        <h2 class="c42" id="h.e3wvtvqffqqt-29">
            <span class="c50 c27">Distributed Joins</span>
        </h2>
        <ul class="c0 lst-kix_f4x263b00rv1-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12">We have two relations, R and S.</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >They&rsquo;re each stored at a different site.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Where do we perform the join R &#8904; S?</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 397.5px;
                    height: 105.26px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image52.png"
                    style="
                        width: 397.5px;
                        height: 105.26px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c4 c26"><span class="c12"></span></p>
        <ul class="c0 lst-kix_gcz7irr36p1h-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >I have an idea: how about we cry in a corner and regret our
                    decision to study Computer Science?</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12">Just kidding; don&rsquo;t give up now!</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c9">One way to do it</span
                ><span class="c12"
                    >&nbsp;is we bring one of the relations over to the other
                    site, and perform the join there.</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 399.5px;
                    height: 107.9px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image93.png"
                    style="
                        width: 399.5px;
                        height: 107.9px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_411rqp7xw55b-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >The communications cost is the same as the size of the
                    relation we&rsquo;re moving.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >If size(R) &lt; size(S), move R to site 2, otherwise move S
                    to site 1.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Basically, always move the smaller relation.</span
                >
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_411rqp7xw55b-0">
            <li class="c4 c8 li-bullet-0">
                <span>That&rsquo;s simple enough. But there&rsquo;s </span
                ><span>another way we can do it</span
                ><span class="c12">: with semijoins!</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>This is called a </span
                ><span class="c9">semijoin reduction</span
                ><span class="c12">.</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>Now, if you&rsquo;ve read </span
                ><span class="c99 c102"
                    ><a
                        class="c47"
                        href="https://www.google.com/url?q=https://docs.google.com/document/d/1X6kN7whPD0G67S1nCjSogqCAZT65nmGxwuwc6YXIRCk/edit%23bookmark%3Did.pxdxomojflt6&amp;sa=D&amp;source=editors&amp;ust=1623780633584000&amp;usg=AOvVaw3ERyaPlkNLVjoUGyZXw1RV"
                        >Part 2</a
                    ></span
                ><span class="c12"
                    >&nbsp;of these notes (George&rsquo;s bit), semijoins are
                    defined with the symbol &#8883;</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >However, this bit defines them with the symbols &#8905;
                    (left) and &#8906; (right). According to Wikipedia,
                    that&rsquo;s the correct way to represent them. Don&rsquo;t
                    get confused!</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >What we can do first is send over projected tuples that
                    only contain the attributes we need to make the join.</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 445px;
                    height: 116.37px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image57.png"
                    style="
                        width: 445px;
                        height: 116.37px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c44">
            <span class="c20 c39">&pi;</span><span class="c20 c15 c39">p</span
            ><span class="c49 c20 c39"
                >(S) projects the attributes used in predicate p over tuples in
                S</span
            >
        </p>
        <ul class="c0 lst-kix_igawmd9hasff-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Then, once we have those S tuples in site 1, we can perform
                    a left semijoin.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >It&rsquo;s left semijoin because we don&rsquo;t have the
                    full S tuples; we only have enough to make the join, which
                    could just be a foreign key or something.</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 452.5px;
                    height: 120.67px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image49.png"
                    style="
                        width: 452.5px;
                        height: 120.67px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c44">
            <span class="c20 c39">R &#8905;</span
            ><span class="c20 c15 c39">p</span
            ><span class="c20 c39">&nbsp;S &equiv; &pi;</span
            ><span class="c20 c15 c39">R</span
            ><span class="c20 c39">(R &#10781;</span
            ><span class="c20 c15 c39">p</span
            ><span class="c20 c39">&nbsp;&pi;</span
            ><span class="c20 c15 c39">p</span
            ><span class="c20 c39 c49">(S))</span>
        </p>
        <ul class="c0 lst-kix_jure2j5deanc-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Now we can send the result of the semijoin over to site 2,
                    and then we can fill in all those half-full S tuples to make
                    it a full join.</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 448.5px;
                    height: 118.77px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image102.png"
                    style="
                        width: 448.5px;
                        height: 118.77px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 450.56px;
                    height: 115.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image77.png"
                    style="
                        width: 450.56px;
                        height: 115.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c44">
            <span class="c20 c39">R &#10781;</span
            ><span class="c20 c15 c39">p</span
            ><span class="c20 c39">&nbsp;S &equiv; (R &#8905;</span
            ><span class="c20 c15 c39">p</span
            ><span class="c20 c39">&nbsp;S) &#10781;</span
            ><span class="c20 c15 c39">p</span
            ><span class="c49 c20 c39">&nbsp;S</span>
        </p>
        <p class="c4 c26"><span class="c12"></span></p>
        <ul class="c0 lst-kix_gcxpzfk38bhy-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >The communication cost for this method is the size of the
                    projected S relation plus the size of the left
                    semijoin.</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_gcxpzfk38bhy-1 start">
            <li class="c4 c13 li-bullet-0">
                <span>Cost</span><span class="c15">COM</span
                ><span>&nbsp;= </span><span class="c65 c33">size(&pi;</span
                ><span class="c65 c15 c33">p</span
                ><span class="c65 c33">(S)) + size(R &#8905;</span
                ><span class="c15 c33 c65">p</span
                ><span class="c14 c65 c33">&nbsp;S)</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_gcxpzfk38bhy-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12">This approach is better if:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_gcxpzfk38bhy-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c65 c33">size(&pi;</span
                ><span class="c65 c15 c33">p</span
                ><span class="c65 c33">(S)) + size(R &#8905;</span
                ><span class="c65 c15 c33">p</span
                ><span class="c65 c33">&nbsp;S)</span
                ><span class="c12">&nbsp;&lt; size(R)</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_gcxpzfk38bhy-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12">If not, just do it the first way.</span>
            </li>
        </ul>
        <h2 class="c42" id="h.e3wvtvqffqqt-30">
            <span class="c50 c27">Concurrency Control</span>
        </h2>
        <ul class="c0 lst-kix_rc9pwlmry8v4-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Transactions can happen all across the network on different
                    sites.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span
                    >The site from which the transaction originated from is the </span
                ><span class="c9">coordinator</span><span class="c12">.</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span
                    >The sites on which the transaction is executed are known as
                    the </span
                ><span class="c9">participants</span><span class="c12">.</span>
            </li>
        </ul>
        <p class="c4">
            <span class="c29 c24">Distributed Two-Phase Locking (2PL)</span>
        </p>
        <ul class="c0 lst-kix_rc9pwlmry8v4-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Non-distributed databases aim to maintain isolation, which
                    means transactions should not be visible until fully
                    committed.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>Distributed databases can do that too, with </span
                ><span class="c9">two-phase locking (2PL)</span
                ><span class="c12">.</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>It ensures </span><span class="c9">serialisability</span
                ><span class="c12"
                    >, the highest isolation level, which means the output of
                    concurrent transactions appear as if they were executed
                    serially.</span
                >
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_rc9pwlmry8v4-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12">Two-phase locking has two phases:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_rc9pwlmry8v4-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >Growing phase: obtain locks, access data items</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12">Shrinking phase: release locks</span>
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 429px;
                    height: 182.7px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image43.png"
                    style="
                        width: 429px;
                        height: 182.7px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c4 c26"><span class="c12"></span></p>
        <ul class="c0 lst-kix_p4dbgifltme8-0 start">
            <li class="c4 c8 li-bullet-0">
                <span
                    >In a non-distributed database, locking is controlled by a </span
                ><span class="c9">lock manager</span><span class="c12">.</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >There are two ways to do 2PL in a distributed
                    setting:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_p4dbgifltme8-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c21 c9 c27">Centralised 2PL (C2PL)</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_p4dbgifltme8-2 start">
            <li class="c4 c36 li-bullet-0">
                <span class="c12"
                    >Responsibility for lock management lies with a single
                    site</span
                >
            </li>
            <li class="c4 c36 li-bullet-0">
                <span class="c12"
                    >The coordinator runs a transaction manager TM</span
                >
            </li>
            <li class="c4 c36 li-bullet-0">
                <span class="c12">Participants run data processors DP</span>
            </li>
            <li class="c4 c36 li-bullet-0">
                <span class="c12"
                    >Lock manager LM runs on some central site</span
                >
            </li>
        </ul>
        <ol class="c0 lst-kix_ctu7k9ykfd4a-0 start" start="1">
            <li class="c4 c30 li-bullet-0">
                <span class="c12">TM requests locks from LM</span>
            </li>
            <li class="c4 c30 li-bullet-0">
                <span class="c12"
                    >If granted, TM submits operations to processors DP</span
                >
            </li>
            <li class="c4 c30 li-bullet-0">
                <span class="c12"
                    >When DPs finish, TM sends message to LM to release
                    locks</span
                >
            </li>
        </ol>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 265.81px;
                    height: 285.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image67.png"
                    style="
                        width: 265.81px;
                        height: 285.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_xad7vbyzq5on-0 start">
            <li class="c4 c36 li-bullet-0">
                <span
                    >This is good, but the LM is a single point of failure, and
                    is also a bottleneck.</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_p4dbgifltme8-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c21 c9 c27">Distributed 2PL (D2PL)</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_p4dbgifltme8-2 start">
            <li class="c4 c36 li-bullet-0">
                <span class="c12">Each site has its own lock manager</span>
            </li>
            <li class="c4 c36 li-bullet-0">
                <span class="c12"
                    >Coordinator still runs TM, but each participant has their
                    own LM and DP</span
                >
            </li>
        </ul>
        <ol class="c0 lst-kix_xjf25vu0p68h-0 start" start="1">
            <li class="c4 c30 li-bullet-0">
                <span class="c12"
                    >TM sends operations and lock requests to each LM</span
                >
            </li>
            <li class="c4 c30 li-bullet-0">
                <span class="c12"
                    >If lock can be granted, LM forwards operation to local
                    DP</span
                >
            </li>
            <li class="c4 c30 li-bullet-0">
                <span class="c12"
                    >DP sends &ldquo;end of operation&rdquo; to TM</span
                >
            </li>
            <li class="c4 c30 li-bullet-0">
                <span class="c12">TM sends message to LM to release locks</span>
            </li>
        </ol>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 278.38px;
                    height: 299.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image48.png"
                    style="
                        width: 278.38px;
                        height: 299.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_k5mhivz2rq5e-0 start">
            <li class="c4 c36 li-bullet-0">
                <span class="c12"
                    >There&rsquo;s a variant of this where DPs send &ldquo;end
                    of operation&rdquo; messages to their own LMs, and then
                    their LMs releases the lock and informs the TM.</span
                >
            </li>
        </ul>
        <p class="c4"><span class="c29 c24">Deadlock</span></p>
        <ul class="c0 lst-kix_ze0x3mm16tza-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Just like with any concurrency thing, we can get
                    deadlock.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Three conditions must be satisfied for deadlock to
                    occur:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_ze0x3mm16tza-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c99">Concurrency</span
                ><span class="c12"
                    >: two transactions want to lock one resource</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c99">Hold</span
                ><span class="c12"
                    >: transactions keep the resource locked until they&rsquo;re
                    done with it</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c99">Wait</span
                ><span class="c12"
                    >: transactions wait in a queue for additional resources
                    while keeping the resource they have locked</span
                >
            </li>
        </ul>
        <p class="c4 c26"><span class="c12"></span></p>
        <ul class="c0 lst-kix_b3944ca322v2-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >In parallel databases, we briefly went over wait-for
                    graphs.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >It&rsquo;s a graph that represents the current state of
                    locking between transitions.</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 161.82px;
                    height: 130.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image38.png"
                    style="
                        width: 161.82px;
                        height: 130.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_izdal9dvcjzl-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Each node is a transaction that is currently
                    executing.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >An edge from T1 to T2 means T1 is waiting for a locked item
                    from T2.</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >A deadlock exists if the WFG (wait-for graph) contains a
                    cycle.</span
                >
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_izdal9dvcjzl-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12">There are two kinds of wait-for graphs:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_izdal9dvcjzl-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >Local WFG (one per site, only considers transactions on
                    that site)</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12">Global WFG (union of all LWFGs)</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_izdal9dvcjzl-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12">Deadlock may occur:</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_izdal9dvcjzl-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12">on a single site (within its own LWFG)</span>
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 243px;
                    height: 131.4px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image87.png"
                    style="
                        width: 243px;
                        height: 131.4px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ul class="c0 lst-kix_izdal9dvcjzl-1">
            <li class="c4 c13 li-bullet-0">
                <span class="c12">between sites (within the GWFG)</span>
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 366px;
                    height: 188.63px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image41.png"
                    style="
                        width: 366px;
                        height: 188.63px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c4 c26"><span class="c12"></span></p>
        <ul class="c0 lst-kix_3dhkwz3676l-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >There&rsquo;s three ways to handle deadlocks:</span
                >
            </li>
        </ul>
        <ol class="c0 lst-kix_kvfl1yy8ss0j-0 start" start="1">
            <li class="c4 c13 li-bullet-0">
                <span class="c12">Prevention</span>
            </li>
        </ol>
        <ul class="c0 lst-kix_33p16r4ufk8b-0 start">
            <li class="c4 c36 li-bullet-0">
                <span>This method is called </span
                ><span class="c9">pre-declaration</span
                ><span class="c12">.</span>
            </li>
            <li class="c4 c36 li-bullet-0">
                <span class="c12"
                    >It guarantees that deadlocks cannot occur in the first
                    place.</span
                >
            </li>
        </ul>
        <ol class="c0 lst-kix_dj2ijjojssba-0 start" start="1">
            <li class="c4 c30 li-bullet-0">
                <span class="c12"
                    >First, before it even begins, the transaction declares all
                    the data it&rsquo;s going to need access to.</span
                >
            </li>
            <li class="c4 c30 li-bullet-0">
                <span class="c12"
                    >The TM (transaction manager) checks that locking data items
                    will not cause a deadlock.</span
                >
            </li>
            <li class="c4 c30 li-bullet-0">
                <span class="c12"
                    >The transaction will proceed only if all data items are
                    available and unlocked.</span
                >
            </li>
        </ol>
        <ul class="c0 lst-kix_33p16r4ufk8b-0">
            <li class="c4 c36 li-bullet-0">
                <span class="c12"
                    >Basically, the transaction will only happen if all the data
                    it needs is unlocked at the start.</span
                >
            </li>
            <li class="c4 c36 li-bullet-0">
                <span class="c12"
                    >The problem with this is that it&rsquo;s difficult to know
                    in advance which data items will be accessed by a
                    transaction.</span
                >
            </li>
        </ul>
        <ol class="c0 lst-kix_kvfl1yy8ss0j-0" start="2">
            <li class="c4 c13 li-bullet-0">
                <span class="c12">Avoidance</span>
            </li>
        </ol>
        <ul class="c0 lst-kix_exy4ejvafcna-0 start">
            <li class="c4 c36 li-bullet-0">
                <span class="c9">Resource ordering</span
                ><span class="c12"
                    >: all resources have an &ldquo;order&rdquo;, and
                    transactions must follow that order when accessing
                    resources.</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_exy4ejvafcna-1 start">
            <li class="c4 c30 li-bullet-0">
                <span class="c12"
                    >If a resource A comes before B, in order to lock B, a
                    transaction needs to lock A and B.</span
                >
            </li>
            <li class="c4 c30 li-bullet-0">
                <span>If the order is A </span
                ><span
                    style="
                        overflow: hidden;
                        display: inline-block;
                        margin: 0px 0px;
                        border: 0px solid #000000;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                        width: 161.82px;
                        height: 130.5px;
                    "
                    ><img
                        alt=""
                        src="assets/advanced-databases-part-iii/image38.png"
                        style="
                            width: 161.82px;
                            height: 130.5px;
                            margin-left: 0px;
                            margin-top: 0px;
                            transform: rotate(0rad) translateZ(0px);
                            -webkit-transform: rotate(0rad) translateZ(0px);
                        "
                        title="" /></span
                ><span class="c12"
                    >&nbsp;B &rarr; C, to get the C lock, you&rsquo;ll need the
                    A and B locks too.</span
                >
            </li>
            <li class="c4 c30 li-bullet-0">
                <span class="c12"
                    >Therefore, no transaction will ever be left with a lock on
                    B and waiting for a lock on A.</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_exy4ejvafcna-0">
            <li class="c4 c36 li-bullet-0">
                <span class="c9">Transaction prioritisation</span
                ><span
                    >: each transaction has a timestamp that corresponds to the
                    time it was started: </span
                ><span class="c12"
                    >ts(T), and can be prioritised using this timestamp.</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_exy4ejvafcna-1 start">
            <li class="c4 c30 li-bullet-0">
                <span class="c12"
                    >When a lock request is denied, the transaction either
                    aborts or waits according to the WAIT-DIE or WOUND-WAIT
                    rules.</span
                >
            </li>
            <li class="c4 c30 li-bullet-0">
                <span>If T</span><span class="c15">i</span
                ><span
                    >&nbsp;requests a lock on a data item that is already locked
                    T</span
                ><span class="c71 c15 c27 c110">j</span>
            </li>
            <li class="c4 c30 li-bullet-0">
                <span class="c9">WAIT-DIE</span><span>: if ts(T</span
                ><span class="c15">i</span><span>) &lt; ts(T</span
                ><span class="c15">j</span><span>) </span
                ><span class="c20 c39"
                    >(if the requesting transaction is older)</span
                ><span class="c12">, then wait. If not, die (restart)</span>
            </li>
            <li class="c4 c30 li-bullet-0">
                <span class="c9">WOUND-WAIT</span><span>: if ts(T</span
                ><span class="c15">i</span><span>) &lt; ts(T</span
                ><span class="c15">j</span
                ><span class="c12"
                    >), we are wounded (restart), otherwise just wait.</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_exy4ejvafcna-0">
            <li class="c4 c36 li-bullet-0">
                <span>Note: WOUND-WAIT preempts active transactions</span>
            </li>
        </ul>
        <ol class="c0 lst-kix_kvfl1yy8ss0j-0" start="3">
            <li class="c4 c13 li-bullet-0">
                <span class="c12">Detection and Resolution</span>
            </li>
        </ol>
        <ul class="c0 lst-kix_cgks9dvlcjg2-0 start">
            <li class="c4 c36 li-bullet-0">
                <span class="c12"
                    >We can detect deadlocks by studying the GWFG for cycles
                    (detection), and break those cycles by aborting transactions
                    (resolution).</span
                >
            </li>
            <li class="c4 c36 li-bullet-0">
                <span class="c12"
                    >Selecting the minimum number of transactions to abort is
                    NP-complete.</span
                >
            </li>
            <li class="c4 c36 li-bullet-0">
                <span class="c12"
                    >There are three approaches to deadlock detection:</span
                >
            </li>
        </ul>
        <ol class="c0 lst-kix_mz7wbxl1msr8-0 start" start="1">
            <li class="c4 c30 li-bullet-0">
                <span class="c21 c9 c27">Centralised</span>
            </li>
        </ol>
        <ul class="c0 lst-kix_m5r0ddp9uxzv-0 start">
            <li class="c4 c62 li-bullet-0">
                <span class="c12"
                    >One site is the designated deadlock detector (DD)</span
                >
            </li>
            <li class="c4 c62 li-bullet-0">
                <span class="c12"
                    >Each site sends it their LWFG periodically</span
                >
            </li>
            <li class="c4 c62 li-bullet-0">
                <span class="c12">DD constructs GWFG and looks for cycles</span>
            </li>
        </ul>
        <ol class="c0 lst-kix_mz7wbxl1msr8-0" start="2">
            <li class="c4 c30 li-bullet-0">
                <span class="c21 c9 c27">Hierarchical</span>
            </li>
        </ol>
        <ul class="c0 lst-kix_i31wbfjkldzi-0 start">
            <li class="c4 c62 li-bullet-0">
                <span class="c12"
                    >Each site has a DD, but receives LWFGs in a hierarchy</span
                >
            </li>
            <li class="c4 c62 li-bullet-0">
                <span class="c12"
                    >Each site sends its LWFG to the next level, where that site
                    will construct a bigger LWFG and look for cycles</span
                >
            </li>
            <li class="c4 c62 li-bullet-0">
                <span class="c12"
                    >The top-level site will eventually have a GWFG</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 415.5px;
                    height: 163.58px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image68.png"
                    style="
                        width: 415.5px;
                        height: 163.58px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ol class="c0 lst-kix_mz7wbxl1msr8-0" start="3">
            <li class="c4 c30 li-bullet-0">
                <span class="c21 c9 c27">Distributed</span>
            </li>
        </ol>
        <ul class="c0 lst-kix_3w0ynp2560k2-0 start">
            <li class="c4 c62 li-bullet-0">
                <span class="c12"
                    >Responsibility for detecting deadlocks is delegated to
                    sites</span
                >
            </li>
            <li class="c4 c62 li-bullet-0">
                <span class="c12"
                    >LWFGs are modified to show relationships between local
                    transactions and remote transactions</span
                >
            </li>
            <li class="c4 c62 li-bullet-0">
                <span class="c12"
                    >This gives sites the power to identify deadlocks they are
                    affected by.</span
                >
            </li>
            <li class="c4 c62 li-bullet-0">
                <span class="c12"
                    >If the cycle doesn&rsquo;t involve any external edges, the
                    site can handle the deadlock locally</span
                >
            </li>
            <li class="c4 c62 li-bullet-0">
                <span class="c12"
                    >If the cycle involves external edges, the site communicates
                    with other sites and then an agreement must be made on a
                    victim transaction to abort.</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 346.17px;
                    height: 177.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image88.png"
                    style="
                        width: 346.17px;
                        height: 177.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <h2 class="c42" id="h.e3wvtvqffqqt-31">
            <span class="c50 c27">Reliability</span>
        </h2>
        <ul class="c0 lst-kix_fuzmmjku7eqc-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12">We also want atomicity and durability.</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >We can achieve this with a two-phase commit protocol
                    (2PC).</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >However, there are two versions we can use for distributed
                    databases:</span
                >
            </li>
        </ul>
        <ol class="c0 lst-kix_tvt3mog77urx-0 start" start="1">
            <li class="c4 c13 li-bullet-0">
                <span class="c9">Centralised 2PC</span>
            </li>
        </ol>
        <ul class="c0 lst-kix_ih68nddxrp1b-0 start">
            <li class="c4 c36 li-bullet-0">
                <span class="c12"
                    >It&rsquo;s just like the one with parallel databases; the
                    coordinator asks for votes for all participants, and then
                    the participants send their votes back, and the coordinator
                    tells the participants what to do next.</span
                >
            </li>
            <li class="c4 c36 li-bullet-0">
                <span class="c12"
                    >The participants do not talk to each other.</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 438.63px;
                    height: 220.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image19.png"
                    style="
                        width: 438.63px;
                        height: 220.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <ol class="c0 lst-kix_tvt3mog77urx-0" start="2">
            <li class="c4 c13 li-bullet-0">
                <span class="c21 c9 c27">Linear 2PC</span>
            </li>
        </ol>
        <ul class="c0 lst-kix_6p623fe1eu0y-0 start">
            <li class="c4 c36 li-bullet-0">
                <span class="c12"
                    >Instead of sending messages to all participants at once,
                    the coordinator asks for votes from the participant next to
                    it.</span
                >
            </li>
            <li class="c4 c36 li-bullet-0">
                <span class="c12"
                    >Then that participant asks the one next to it and so
                    on.</span
                >
            </li>
            <li class="c4 c36 li-bullet-0">
                <span class="c12"
                    >When it reaches the end, the conversation goes in the
                    opposite direction, all the way back to the
                    coordinator.</span
                >
            </li>
            <li class="c4 c36 li-bullet-0">
                <span class="c12"
                    >The first phase goes from the coordinator to the
                    participants.</span
                >
            </li>
            <li class="c4 c36 li-bullet-0">
                <span class="c12"
                    >The second phase goes from the participants to the
                    coordinator.</span
                >
            </li>
        </ul>
        <p class="c44">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 424.05px;
                    height: 211.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image23.png"
                    style="
                        width: 424.05px;
                        height: 211.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c44 c26"><span class="c12"></span></p>
        <ul class="c0 lst-kix_itih5hiib1le-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Linear 2PC involves fewer messages, but centralised 2PC
                    provides opportunities for parallelism and has better
                    response time performance.</span
                >
            </li>
        </ul>
        <h2 class="c42" id="h.e3wvtvqffqqt-32">
            <span class="c50 c27">The CAP Theorem</span>
        </h2>
        <ul class="c0 lst-kix_ivfh09scf3y-0 start">
            <li class="c4 c8 li-bullet-0">
                <span>We did the CAP theorem back in </span
                ><span class="c99 c102"
                    ><a
                        class="c47"
                        href="https://www.google.com/url?q=https://docs.google.com/document/d/1MEz9ZeCIoAofOf6ZA10e-LVpOdFTxZ2Eeg6QCUmASbQ/edit%23bookmark%3Did.768etqqqnn0v&amp;sa=D&amp;source=editors&amp;ust=1623780633606000&amp;usg=AOvVaw0zKkuyGZPe-B9Q7TQ4LYyS"
                        >Distributed Systems &amp; Networks</a
                    ></span
                ><span class="c12">.</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Basically, we can have two of three things:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_ivfh09scf3y-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c9">Consistency</span
                ><span class="c12"
                    >: Each server always returns the correct response to each
                    request</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c9">Availability</span
                ><span class="c12"
                    >: As long as at least 1 server is up, each request
                    eventually returns a response</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c9">Partition Tolerance</span
                ><span class="c12"
                    >: Even if communication drops between two site partitions,
                    the system as a whole should continue to function</span
                >
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_ivfh09scf3y-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >CAP is a trade-off between safety and liveness in an
                    unreliable system.</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_ivfh09scf3y-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c9">Safety</span
                ><span class="c12"
                    >: &ldquo;something bad will never happen&rdquo;, e.g. a
                    safe database system will never give you the wrong answer to
                    a request, but you might not even get an answer back if you
                    request something.</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c9">Liveness</span
                ><span class="c12"
                    >: &ldquo;something good will eventually occur&rdquo;, e.g.
                    you will always get an answer from a live database system,
                    but sometimes, you&rsquo;ll get a slightly wrong answer to a
                    query. If you keep asking, you&rsquo;ll eventually get a
                    correct one.</span
                >
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <ul class="c0 lst-kix_ivfh09scf3y-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >Typically we sacrifice either availability (liveness) or
                    consistency (safety)</span
                >
            </li>
        </ul>
        <p class="c4 c26"><span class="c12"></span></p>
        <h1 class="c69 c67" id="h.otpbfxibln1m">
            <span class="c68 c27 c70">Data Warehousing</span>
        </h1>
        <h2 class="c42" id="h.m9lqnl1e6djk">
            <span class="c50 c27">OLTP vs OLAP</span>
        </h2>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span class="c1">Online Transaction Processing (OLTP)</span
            ><span class="c12"
                >&nbsp;is characterised by a large number of short transactions
                (INSERT, UPDATE, DELETE) with an emphasis on fast query
                processing and data integrity.</span
            >
        </p>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span class="c1">Online Analytical Processing (OLAP)</span
            ><span class="c12"
                >&nbsp;is characterised by a small number of complex
                transactions often involving aggregation and multidimensional
                schemas. Typically, data is taken from a data warehouse. OLAP is
                ideal for data mining, complex analytical calculations, and
                business reporting functions such as financial analysis.</span
            >
        </p>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span class="c1">Data mining</span
            ><span class="c12"
                >&nbsp;is the process of discovering hidden patterns and
                relationships in large databases using advanced analytical
                techniques.</span
            >
        </p>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4"><span class="c12">Codd&#39;s 12 rules for OLAP:</span></p>
        <a id="t.80edb7f57d4cc29a1bb3125ef0fe4260be1d259f"></a><a id="t.11"></a>
        <table class="c54">
            <tbody>
                <tr class="c97">
                    <td class="c7" colspan="1" rowspan="1">
                        <p class="c4">
                            <span class="c21 c9 c27"
                                >Multidimensional conceptual view</span
                            >
                        </p>
                    </td>
                    <td class="c51" colspan="1" rowspan="1">
                        <p class="c4">
                            <span class="c12"
                                >A multidimensional data model is provided that
                                is intuitively analytical and easy to use. The
                                model decides how users perceive business
                                problems, e.g. time, location, or product.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c63">
                    <td class="c7" colspan="1" rowspan="1">
                        <p class="c4">
                            <span class="c21 c9 c27">Transparency</span>
                        </p>
                    </td>
                    <td class="c51" colspan="1" rowspan="1">
                        <p class="c4">
                            <span class="c12"
                                >The technology, underlying data repository,
                                computing architecture and the diverse nature of
                                source data is transparent to users.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c63">
                    <td class="c7" colspan="1" rowspan="1">
                        <p class="c4"><span class="c9">Accessibility</span></p>
                    </td>
                    <td class="c51" colspan="1" rowspan="1">
                        <p class="c4">
                            <span class="c12"
                                >Access is provided only to the data that is
                                needed to perform the specific analysis,
                                presenting a single, coherent and consistent
                                view to the users.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c95">
                    <td class="c7" colspan="1" rowspan="1">
                        <p class="c4">
                            <span class="c21 c9 c27"
                                >Consistency reporting performance</span
                            >
                        </p>
                    </td>
                    <td class="c51" colspan="1" rowspan="1">
                        <p class="c4">
                            <span class="c12"
                                >Users do not experience any significant
                                reduction in reporting performance as the number
                                of dimensions or the size of the database
                                increases. Users perceive consistent runtime,
                                response time, and machine utilization every
                                time a query is run.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c63">
                    <td class="c7" colspan="1" rowspan="1">
                        <p class="c4">
                            <span class="c21 c9 c27"
                                >Client-server architecture</span
                            >
                        </p>
                    </td>
                    <td class="c51" colspan="1" rowspan="1">
                        <p class="c4">
                            <span class="c12"
                                >The system conforms to the principles of
                                client-server architecture for optimum
                                performance, flexibility, adaptability and
                                interoperability.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c63">
                    <td class="c7" colspan="1" rowspan="1">
                        <p class="c4">
                            <span class="c21 c9 c27"
                                >Generic dimensionality</span
                            >
                        </p>
                    </td>
                    <td class="c51" colspan="1" rowspan="1">
                        <p class="c4">
                            <span class="c12"
                                >Every data dimension is logically equivalent in
                                both structure and operational
                                capabilities.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c63">
                    <td class="c7" colspan="1" rowspan="1">
                        <p class="c4">
                            <span class="c21 c9 c27"
                                >Dynamic sparse matrix handling</span
                            >
                        </p>
                    </td>
                    <td class="c51" colspan="1" rowspan="1">
                        <p class="c4">
                            <span class="c12"
                                >The schema adapts to the specific analytical
                                model being used to optimize sparse matrix
                                handling.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c63">
                    <td class="c7" colspan="1" rowspan="1">
                        <p class="c4">
                            <span class="c21 c9 c27">Multi-user support</span>
                        </p>
                    </td>
                    <td class="c51" colspan="1" rowspan="1">
                        <p class="c4">
                            <span class="c12"
                                >Support is provided for users to work
                                concurrently with either the same analytical
                                model or to create different models from the
                                same data.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c63">
                    <td class="c7" colspan="1" rowspan="1">
                        <p class="c4">
                            <span class="c21 c9 c27"
                                >Unrestricted cross-dimensional operations</span
                            >
                        </p>
                    </td>
                    <td class="c51" colspan="1" rowspan="1">
                        <p class="c4">
                            <span class="c12"
                                >The system recognizes dimensions and
                                automatically performs roll-up and drill-down
                                operations within a dimension or across
                                dimensions.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c97">
                    <td class="c7" colspan="1" rowspan="1">
                        <p class="c4">
                            <span class="c21 c9 c27"
                                >Intuitive data manipulation</span
                            >
                        </p>
                    </td>
                    <td class="c51" colspan="1" rowspan="1">
                        <p class="c4">
                            <span class="c12"
                                >Consolidation path reorientation, drill-down,
                                roll-up and other manipulations are accomplished
                                intuitively and are enabled directly via point
                                and click actions.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c97">
                    <td class="c7" colspan="1" rowspan="1">
                        <p class="c4">
                            <span class="c21 c9 c27">Flexible reporting</span>
                        </p>
                    </td>
                    <td class="c51" colspan="1" rowspan="1">
                        <p class="c4">
                            <span class="c12"
                                >Business users are provided with capabilities
                                to arrange columns, rows and cells in a manner
                                that allows easy manipulation, analysis and
                                synthesis of information.</span
                            >
                        </p>
                    </td>
                </tr>
                <tr class="c63">
                    <td class="c7" colspan="1" rowspan="1">
                        <p class="c4">
                            <span class="c21 c9 c27"
                                >Unlimited dimensions and aggregation
                                levels</span
                            >
                        </p>
                    </td>
                    <td class="c51" colspan="1" rowspan="1">
                        <p class="c4">
                            <span class="c12"
                                >There can be at least 15 to 20 data dimensions
                                within a common analytical model.</span
                            >
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <h2 class="c42" id="h.mby7d9qg7ics">
            <span class="c50 c27">Data Warehouses</span>
        </h2>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span>A </span><span class="c1">data warehouse</span
            ><span class="c12"
                >&nbsp;is a large store of data accumulated from a wide range of
                sources within a company and used to guide management decisions.
                A data warehouse is:</span
            >
        </p>
        <ul class="c0 lst-kix_1qarzqnpstur-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c9">Subject-oriented</span
                ><span class="c12"
                    >&nbsp;- data is organised according to its subject e.g.
                    financial, products</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c9">Integrated</span
                ><span class="c12"
                    >&nbsp;- data is combined from several sources; data
                    encoding and data naming are consistent</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c9">Time-variant</span
                ><span class="c12"
                    >&nbsp;- data is collected over time and used for
                    comparisons, trends, and forecasting</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c9">Non-volatile</span
                ><span class="c12"
                    >&nbsp;- data is not updated or changed once in the data
                    warehouse</span
                >
            </li>
        </ul>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span class="c12">Why use a separate data warehouse?</span>
        </p>
        <ul class="c0 lst-kix_3gv3k4rf0cow-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c21 c9 c27">Historical Data</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_3gv3k4rf0cow-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >decision support requires historical data, which OLTP
                    databases do not normally maintain</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_3gv3k4rf0cow-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c21 c9 c27">Data Consolidation</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_3gv3k4rf0cow-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >decision support requires consolidation (aggregation,
                    summarisation) of data from different sources, including
                    OLTP databases and external sources</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_3gv3k4rf0cow-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c21 c9 c27">Data Quality</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_3gv3k4rf0cow-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >different sources typically use inconsistent data
                    representations, which must be reconciled</span
                >
            </li>
        </ul>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span>A data warehouse may be </span><span class="c1">stored</span
            ><span class="c12">&nbsp;using:</span>
        </p>
        <ul class="c0 lst-kix_ibfl0jse3idi-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12">an existing OLTP database</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12">a new relational database</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12">a multidimensional database</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12">a proprietary database format</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12">a mixture of the above</span>
            </li>
        </ul>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span>Data may be </span><span class="c1">accessed</span
            ><span class="c12">&nbsp;using:</span>
        </p>
        <ul class="c0 lst-kix_i1gjw1qurxe1-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12">Data Mining</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12">Online Analytical Processing (OLAP)</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12">Decision Support Systems (DSS)</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12">Executive Information Systems (EIS)</span>
            </li>
        </ul>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <h2 class="c42" id="h.1ejvbrhq50gx">
            <span class="c50 c27">The OLAP Cube</span>
        </h2>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span>The</span><span class="c1">&nbsp;OLAP cube</span
            ><span>&nbsp;is an</span
            ><span class="c9">&nbsp;array-based multidimensional database</span
            ><span class="c12"
                >&nbsp;that makes it possible to process and analyse data in
                multiple dimensions much more efficiently than a traditional
                relational database. A relational database stored data in a
                two-dimensional, row-by-column format. The OLAP cube extends
                this with additional layers, adding additional dimensions to the
                database. These are often arranged in a hierarchy e.g. country,
                state, city, store.</span
            >
        </p>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 309.33px;
                    height: 273.33px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image17.png"
                    style="
                        width: 309.33px;
                        height: 273.33px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <h2 class="c42" id="h.uzmnzyyrskgz">
            <span class="c50 c27">OLAP Operations</span>
        </h2>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <ul class="c0 lst-kix_k95cix9jmj4j-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c1">Dice:</span
                ><span class="c12"
                    >&nbsp;a sub-cube is selected from the OLAP cube by
                    selecting two or more dimensions</span
                >
            </li>
        </ul>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 233.33px;
                    height: 186.67px;
                "
                ><img
                    alt="Lightbox"
                    src="assets/advanced-databases-part-iii/image14.jpg"
                    style="
                        width: 233.33px;
                        height: 186.67px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c4 c11"><span class="c12">&nbsp;</span></p>
        <ul class="c0 lst-kix_vcaxqntk0bw6-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c1">Slice:</span
                ><span class="c12"
                    >&nbsp;a single dimension is selected from the OLAP
                    cube</span
                >
            </li>
        </ul>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 232px;
                    height: 200px;
                "
                ><img
                    alt="Lightbox"
                    src="assets/advanced-databases-part-iii/image31.jpg"
                    style="
                        width: 232px;
                        height: 200px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c4 c11"><span class="c12">&nbsp;</span></p>
        <ul class="c0 lst-kix_ww88f6emonx2-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c1">Pivot:</span
                ><span class="c12"
                    >&nbsp;the current view is rotated around a pivot
                    point</span
                >
            </li>
        </ul>
        <p class="c4 c11"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 234.67px;
                    height: 222.67px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image76.jpg"
                    style="
                        width: 234.67px;
                        height: 222.67px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c4 c11"><span class="c12">&nbsp;</span></p>
        <ul class="c0 lst-kix_4angm9iqdvas-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c1">Drill Down:</span
                ><span class="c12"
                    >&nbsp;in drill-down, less detailed data is converted into
                    highly detailed data. This can be done by:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_4angm9iqdvas-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12">moving down in the concept hierarchy</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12">adding a new dimension</span>
            </li>
        </ul>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 237.33px;
                    height: 294.67px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image32.jpg"
                    style="
                        width: 237.33px;
                        height: 294.67px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c4 c31"><span class="c12">&nbsp;</span></p>
        <ul class="c0 lst-kix_te6zox53n4mr-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c1">Roll Up:</span
                ><span class="c12"
                    >&nbsp;highly detailed data is converted to less detailed
                    data. This can be done by:</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_te6zox53n4mr-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12">moving up in the concept hierarchy</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12">removing a dimension</span>
            </li>
        </ul>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 234.67px;
                    height: 208px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image30.jpg"
                    style="
                        width: 234.67px;
                        height: 208px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c4 c11"><span class="c12">&nbsp;</span></p>
        <h2 class="c42" id="h.l56kph26emrd">
            <span class="c50 c27">Star Schemas</span>
        </h2>
        <p class="c4 c26"><span class="c12"></span></p>
        <p class="c4">
            <span>A </span><span class="c1">star schema</span
            ><span>&nbsp;consists of one </span
            ><span class="c9">fact table</span
            ><span>&nbsp;connected to a collection of </span
            ><span class="c9">dimension tables</span
            ><span class="c12"
                >. It gets its name from its resemblance to a star shape with
                the fact table at its center and dimension tables surrounding
                it.</span
            >
        </p>
        <ul class="c0 lst-kix_htr0ngis6fz6-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c1">Fact Table:</span
                ><span class="c12"
                    >&nbsp;contains attributes for the numeric measurement of a
                    business such as sales and costs. Data in fact tables is
                    extracted from an OLTP database and moved to the data
                    warehouse</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c1">Dimension Table:</span
                ><span class="c12"
                    >&nbsp;stores descriptions of the characteristics of a
                    business such as products, customers, promotions, and
                    times</span
                >
            </li>
        </ul>
        <p class="c4">
            <span>The </span><span class="c9">primary key</span
            ><span>&nbsp;of the fact table is a combination of </span
            ><span class="c9">foreign keys</span
            ><span>&nbsp;from the dimension tables. The rule of </span
            ><span class="c9">referential integrity</span
            ><span class="c12"
                >&nbsp;states that each row in the fact table must contain a
                primary key value from each dimension table.</span
            >
        </p>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 360px;
                    height: 310.67px;
                "
                ><img
                    alt="Star Schema in Data Warehouse modeling - GeeksforGeeks"
                    src="assets/advanced-databases-part-iii/image82.png"
                    style="
                        width: 360px;
                        height: 310.67px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4"><span class="c12">Advantages of star schemas:</span></p>
        <p class="c4 c26"><span class="c12"></span></p>
        <ul class="c0 lst-kix_hyshktdbnciw-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c14 c1">Query Performance</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_hyshktdbnciw-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >As a star schema has a small number of tables, queries run
                    faster than they do in an OLTP system. Small queries within
                    a single table run almost instantaneously. Large join
                    queries involving multiple tables only take seconds or
                    minutes to run</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_hyshktdbnciw-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c1 c14">Load Performance</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_hyshktdbnciw-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >The structural simplicity of a star schema reduces the time
                    required to load large batches of data into a database. By
                    defining facts and dimensions in different tables, the
                    impact of a load operation is reduced; dimension tables are
                    created once and periodically refreshed, while fact tables
                    are updated regularly</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_92w3bvokinki-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c14 c1">Referential Integrity</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_92w3bvokinki-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >Referential integrity states that all references to data
                    are valid. It requires that if a value of one attribute in a
                    table references another attribute, then the referenced
                    value must exist. A star schema has built-in referential
                    integrity when data is loaded. This is enforced because each
                    row in a dimension table has a unique primary key, and all
                    keys in the fact table are foreign keys drawn from the
                    dimension tables.
                </span>
            </li>
        </ul>
        <p class="c4 c26"><span class="c12"></span></p>
        <h1 class="c69 c67" id="h.n4vdfthfcxoh">
            <span class="c70 c68 c27">Information Retrieval</span>
        </h1>
        <p class="c4 c26"><span class="c12"></span></p>
        <p class="c4">
            <span class="c1">Information Retrieval (IR)</span
            ><span class="c12"
                >&nbsp;is the retrieval of media based on the information a user
                needs. The user provides a query to the retrieval system, which
                returns a set of relevant documents from a database. Documents
                include web pages, scientific papers, news articles, or
                paragraphs.</span
            >
        </p>
        <ul class="c0 lst-kix_utszv2oc1rf4-0 start">
            <li class="c4 c8 li-bullet-0">
                <span>an</span><span class="c9">&nbsp;information need</span
                ><span class="c12"
                    >&nbsp;is a topic the user desires to know more about</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>a </span><span class="c9">query</span
                ><span class="c12"
                    >&nbsp;is what the user conveys to the computer in an
                    attempt to communicate their information need</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>a document is </span><span class="c9">relevant</span
                ><span class="c12"
                    >&nbsp;if the user perceives it to contain information of
                    value with respect to the query</span
                >
            </li>
        </ul>
        <p class="c4 c11"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span>An</span><span class="c1">&nbsp;IR model</span
            ><span class="c12">&nbsp;consists of:</span>
        </p>
        <ul class="c0 lst-kix_nwlaqsr2rvpa-0 start">
            <li class="c4 c8 li-bullet-0">
                <span>a set of </span><span class="c9">documents</span
                ><span class="c12">&nbsp;D</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>a set of </span><span class="c9">queries</span
                ><span class="c12">&nbsp;Q</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>a </span><span class="c9">ranking function</span
                ><span>&nbsp;R(d</span><span class="c59 c15">i</span
                ><span>,q</span><span class="c59 c15">i</span
                ><span class="c12"
                    >) that associates a real number with a query and
                    document</span
                >
            </li>
        </ul>
        <p class="c4 c11"><span class="c12">&nbsp;</span></p>
        <p class="c4 c11">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 434.67px;
                    height: 160px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image40.png"
                    style="
                        width: 434.67px;
                        height: 160px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c4 c11"><span class="c12">&nbsp;</span></p>
        <h2 class="c42" id="h.gc2ofyyqpdxk">
            <span class="c50 c27">Implementation of IR Systems</span>
        </h2>
        <p class="c4 c11"><span class="c12">&nbsp;</span></p>
        <p class="c4"><span class="c12">IR systems either:</span></p>
        <ul class="c0 lst-kix_v19uq1kv4mt3-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >index all words contained in all documents (full-text
                    indexing)</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >selectively extract index terms from documents</span
                >
            </li>
        </ul>
        <p class="c4 c11">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 470.67px;
                    height: 160px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image64.png"
                    style="
                        width: 470.67px;
                        height: 160px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c4 c11"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span>During </span><span class="c9">tokenization</span
            ><span class="c12"
                >, the system identifies distinct words in the document, by
                separating on whitespace to obtain a list of tokens. It then
                cleans and prepares the data:</span
            >
        </p>
        <ul class="c0 lst-kix_cm7lgqyfqp-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c1">Normalisation:</span
                ><span
                    >&nbsp;words or tokens are put into standard format. For
                    example, </span
                ><span class="c39">uh-huh</span><span>&nbsp;becomes </span
                ><span class="c49 c27 c39">uh huh</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c1">Case Folding:</span
                ><span class="c12"
                    >&nbsp;all characters are mapped to lowercase</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c1">Lemmatisation:</span
                ><span>&nbsp;reducing words to their root. For example, </span
                ><span class="c39">saying</span><span>&nbsp;becomes </span
                ><span class="c49 c27 c39">say</span>
            </li>
        </ul>
        <p class="c4 c11"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span class="c1">Zipf&#39;s law</span
            ><span>&nbsp;is given by the formula </span
            ><img src="assets/advanced-databases-part-iii/image2.png" /><span
                >&nbsp;</span
            ><span>where n</span><span class="c59 c85">a</span
            ><span>&nbsp;is the </span><span class="c9">rank</span
            ><span
                >&nbsp;of a word. This means that the most common words appear
                in the middle of the graph, and other words can be ignored. </span
            ><span class="c9">Stopword removal</span
            ><span
                >&nbsp;is the process of removing very common words which have
                little semantic value such as </span
            ><span class="c39">the, a, at, and, also</span
            ><span class="c12">.</span>
        </p>
        <p class="c4 c11"><span class="c12">&nbsp;</span></p>
        <p class="c4 c11">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 397.33px;
                    height: 261.33px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image36.png"
                    style="
                        width: 397.33px;
                        height: 261.33px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <h2 class="c42" id="h.qgoqhbr9ujtb">
            <span class="c50 c27">Indexing</span>
        </h2>
        <p class="c4 c11"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span>The </span><span class="c1">lexicon</span
            ><span
                >&nbsp;is a data structure listing all terms that appear in a
                collection of documents. This is typically implemented as a hash
                table for fast lookup. The </span
            ><span class="c1">inverted index</span
            ><span class="c12"
                >&nbsp;is a data structure that contains information about terms
                in the lexicon. This may include information such as the number
                of occurrences within documents and pointers to its occurrences
                (postings).</span
            >
        </p>
        <p class="c4 c11"><span class="c12">&nbsp;</span></p>
        <p class="c4 c11">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 290.67px;
                    height: 177.33px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image85.png"
                    style="
                        width: 290.67px;
                        height: 177.33px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c4 c11"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span>To calculate the </span><span class="c9">rank</span
            ><span class="c12">&nbsp;of each term:</span>
        </p>
        <ul class="c0 lst-kix_uhqebcclr6gu-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12">lookup the query term in the lexicon</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >use the inverted index to find the address of the posting
                    list</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span>create an empty priority queue of length </span
                ><span class="c49 c27 c39">R</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >for each term-document pair in the posting list</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_uhqebcclr6gu-1 start">
            <li class="c4 c13 li-bullet-0">
                <span>if queue length &lt; R, add the </span
                ><span class="c39">(document, count)</span
                ><span class="c12">&nbsp;pair to the queue</span>
            </li>
            <li class="c4 c13 li-bullet-0">
                <span>if queue length &gt;= R and </span
                ><span class="c39">count</span
                ><span
                    >&nbsp;is larger than the lowest entry in the queue, replace
                    the entry with the new </span
                ><span class="c39">(document, count)</span
                ><span class="c12">&nbsp;pair</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_uhqebcclr6gu-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >the resulting queue contains an ordered ranking of
                    terms</span
                >
            </li>
        </ul>
        <p class="c4 c11"><span class="c12">&nbsp;</span></p>
        <h2 class="c42" id="h.s7x25gc3pdom">
            <span class="c50 c27">The Boolean Model</span>
        </h2>
        <p class="c4 c11"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span>The </span><span class="c1">boolean model</span
            ><span class="c12"
                >&nbsp;involves querying terms in the lexicon and inverted
                index, and applying boolean set operators to posting lists to
                identify relevant documents:</span
            >
        </p>
        <ul class="c0 lst-kix_q6m3b8xpgz5c-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c9">AND</span
                ><span class="c12">&nbsp;- set intersection</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c9">OR</span
                ><span class="c12">&nbsp;- set union</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c9">NOT</span
                ><span class="c12">&nbsp;- set complement</span>
            </li>
        </ul>
        <p class="c4 c11"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span class="c12">Given the document collection:</span>
        </p>
        <p class="c4 c56">
            <span class="c39">d1 = &ldquo;Three quarks for </span
            ><span class="c39">Master</span
            ><span class="c49 c27 c39">&nbsp;Mark&rdquo;</span>
        </p>
        <p class="c4 c56">
            <span class="c49 c27 c39"
                >d2 = &ldquo;The strange history of quark cheese&rdquo;</span
            >
        </p>
        <p class="c4 c56">
            <span class="c49 c27 c39"
                >d3 = &ldquo;Strange quark plasmas&rdquo;</span
            >
        </p>
        <p class="c4 c56">
            <span class="c49 c27 c39"
                >d4 = &ldquo;Strange Quark XPress problem&rdquo;</span
            >
        </p>
        <p class="c4 c11"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span class="c12">The lexicon and inverted index:</span>
        </p>
        <p class="c4 c56">
            <span class="c39">three </span><span class="c39">&rarr;</span
            ><span class="c39">&nbsp;{d</span><span class="c59 c15 c39">1</span
            ><span class="c49 c27 c39">}</span>
        </p>
        <p class="c4 c56">
            <span class="c39">quark </span><span class="c39">&rarr;</span
            ><span class="c39">&nbsp;{d</span><span class="c59 c15 c39">1</span
            ><span class="c39">, d</span><span class="c59 c15 c39">2</span
            ><span class="c39">, d</span><span class="c59 c15 c39">3</span
            ><span class="c39">, d</span><span class="c59 c15 c39">4</span
            ><span class="c49 c27 c39">}</span>
        </p>
        <p class="c4 c56">
            <span class="c39">master </span><span class="c39">&rarr;</span
            ><span class="c39">&nbsp;{d</span><span class="c59 c15 c39">1</span
            ><span class="c49 c27 c39">}</span>
        </p>
        <p class="c4 c56">
            <span class="c39">mark </span><span class="c39">&rarr;</span
            ><span class="c39">&nbsp;{d</span><span class="c59 c15 c39">1</span
            ><span class="c49 c27 c39">}</span>
        </p>
        <p class="c4 c56">
            <span class="c39">strange </span><span class="c39">&rarr;</span
            ><span class="c39">&nbsp;{d</span><span class="c59 c15 c39">2</span
            ><span class="c39">, d</span><span class="c59 c15 c39">3</span
            ><span class="c39">, d</span><span class="c59 c15 c39">4</span
            ><span class="c49 c27 c39">}</span>
        </p>
        <p class="c4 c56">
            <span class="c39">history </span><span class="c39">&rarr;</span
            ><span class="c39">&nbsp;{d</span><span class="c59 c15 c39">2</span
            ><span class="c49 c27 c39">}</span>
        </p>
        <p class="c4 c56">
            <span class="c39">cheese </span><span class="c39">&rarr;</span
            ><span class="c39">&nbsp;{d</span><span class="c59 c15 c39">2</span
            ><span class="c49 c27 c39">}</span>
        </p>
        <p class="c4 c56">
            <span class="c39">plasma </span><span class="c39">&rarr;</span
            ><span class="c39">&nbsp;{d</span><span class="c59 c15 c39">3</span
            ><span class="c49 c27 c39">}</span>
        </p>
        <p class="c4 c56">
            <span class="c39">express </span><span class="c39">&rarr;</span
            ><span class="c39">&nbsp;{d</span><span class="c59 c15 c39">4</span
            ><span class="c49 c27 c39">}</span>
        </p>
        <p class="c4 c56">
            <span class="c39">problem </span><span class="c39">&rarr;</span
            ><span class="c39">&nbsp;{d</span><span class="c59 c15 c39">4</span
            ><span class="c49 c27 c39">}</span>
        </p>
        <p class="c4 c31"><span class="c12">&nbsp;</span></p>
        <p class="c4"><span class="c12">The query:</span></p>
        <p class="c4 c75">
            <span class="c49 c27 c39">strange AND quark AND NOT cheese</span>
        </p>
        <p class="c4 c31"><span class="c12">&nbsp;</span></p>
        <p class="c4"><span class="c12">The result set is:</span></p>
        <p class="c4 c75">
            <span class="c39">{d</span><span class="c59 c15 c39">2</span
            ><span class="c39">, d</span><span class="c59 c15 c39">3</span
            ><span class="c39">, d</span><span class="c59 c15 c39">4</span
            ><span class="c39">} &cap; {d</span
            ><span class="c59 c15 c39">1</span><span class="c39">, d</span
            ><span class="c59 c15 c39">2</span><span class="c39">, d</span
            ><span class="c15 c39 c59">3</span><span class="c39">, d</span
            ><span class="c59 c15 c39">4</span
            ><span class="c39">} &cap; {d</span
            ><span class="c59 c15 c39">1</span><span class="c39">, d</span
            ><span class="c59 c15 c39">3</span><span class="c39">, d</span
            ><span class="c59 c15 c39">4</span
            ><span class="c49 c27 c39">}</span>
        </p>
        <p class="c4 c31">
            <span class="c39">= {d</span><span class="c59 c15 c39">3</span
            ><span class="c39">, d</span><span class="c59 c15 c39">4</span
            ><span class="c49 c27 c39">}</span>
        </p>
        <p class="c4 c11"><span class="c12">&nbsp;</span></p>
        <h2 class="c42" id="h.yia2ulu2aw5f">
            <span class="c50 c27">The Vector Model</span>
        </h2>
        <p class="c4 c11"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span>The </span><span class="c1">binary vector model</span
            ><span
                >&nbsp;represents documents and queries as vectors of term-based
                features containing terms </span
            ><span class="c39">t</span><span>, documents </span
            ><span class="c39">j</span><span>, and queries </span
            ><span class="c39">q</span><span class="c12">.</span>
        </p>
        <p class="c4 c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 189.33px;
                    height: 21.33px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image55.png"
                    style="
                        width: 189.33px;
                        height: 21.33px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c4 c56">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 188px;
                    height: 18.67px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image18.png"
                    style="
                        width: 188px;
                        height: 18.67px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c4 c31"><span class="c12">&nbsp;</span></p>
        <p class="c4"><span class="c12">Features are binary:</span></p>
        <ul class="c0 lst-kix_6q9lhjorgdqk-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c39">w</span><span class="c59 c15 c39">mj</span
                ><span class="c39">&nbsp;= 1 </span><span>if term </span
                ><span class="c39">k</span><span class="c59 c15 c39">m </span
                ><span>is present in document </span><span class="c39">d</span
                ><span class="c59 c15 c27 c39 c120">j</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c39">w</span><span class="c59 c15 c39">mj</span
                ><span class="c39">&nbsp;= 0 </span
                ><span class="c12">otherwise</span>
            </li>
        </ul>
        <p class="c4 c11"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span>To measure the</span><span class="c1">&nbsp;similarity</span
            ><span>&nbsp;between a document </span
            ><img src="assets/advanced-databases-part-iii/image3.png" /><span
                >&nbsp;and query </span
            ><img src="assets/advanced-databases-part-iii/image4.png" /><span
                >, we can use </span
            ><span class="c1">cosine similarity</span
            ><span>&nbsp;to produce a binary value. The dot product </span
            ><img src="assets/advanced-databases-part-iii/image5.png" /><span
                class="c39 c107"
                >&nbsp;</span
            ><span>is </span><span class="c1">normalised</span
            ><span class="c12">&nbsp;by the magnitude of each vector. </span>
        </p>
        <p class="c4 c11">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 282.06px;
                    height: 150.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image74.png"
                    style="
                        width: 282.06px;
                        height: 150.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c4 c11"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span class="c1"
                >TF-IDF (Term Frequency-Inverse Document Frequency)</span
            ><span class="c12"
                >&nbsp;evaluates the relevance of a term to a document.</span
            >
        </p>
        <ul class="c0 lst-kix_pxcgn533dskm-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c1">Term Frequency (TF)</span
                ><span class="c12"
                    >&nbsp;- frequency of a term t in a document d, typically
                    represented logarithmically</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c1">Document Frequency (DF) </span
                ><span class="c12">- number of documents a term occurs in</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c1">Inverse Document Frequency (IDF)</span
                ><span class="c12"
                    >&nbsp;- number of documents divided by document
                    frequency</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c1">TF-IDF </span
                ><span class="c12"
                    >- calculated by multiplying TF and IDF.</span
                >
            </li>
        </ul>
        <p class="c4 c11">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 70.67px;
                    height: 17.33px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image54.png"
                    style="
                        width: 70.67px;
                        height: 17.33px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c4 c11">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 306.29px;
                    height: 46.5px;
                "
                ><img
                    alt="tfr,d "
                    src="assets/advanced-databases-part-iii/image21.png"
                    style="
                        width: 306.29px;
                        height: 46.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c4 c11"><span class="c12">&nbsp;</span></p>
        <p class="c4 c11">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 206.5px;
                    height: 83.98px;
                "
                ><img
                    alt="dit 
idft "
                    src="assets/advanced-databases-part-iii/image84.png"
                    style="
                        width: 206.5px;
                        height: 83.98px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c4 c11"><span class="c12">&nbsp;</span></p>
        <p class="c4 c11">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 176.66px;
                    height: 36.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image15.png"
                    style="
                        width: 176.66px;
                        height: 36.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c4 c11"><span class="c12">&nbsp;</span></p>
        <h2 class="c42" id="h.d7lk22h1kul">
            <span class="c50 c27">Query Refinement</span>
        </h2>
        <p class="c4 c11"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span class="c12"
                >Typical queries are ambiguous and can be refined to provide
                better search results.</span
            >
        </p>
        <p class="c4 c11"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span>The </span><span class="c1">Rocchio method</span
            ><span>&nbsp;implements query refinement through </span
            ><span class="c9">relevance feedback</span
            ><span
                >. The query is first executed to provide the user with initial
                results. The user tags each result as relevant or non-relevant,
                allowing the model to adjust its weights. The improved query </span
            ><img src="assets/advanced-databases-part-iii/image6.png" /><span
                >is created using the new weights and the user adjusts this
                until the results are satisfactory. Typical starting weights are
                &alpha; = 1, &beta; = 0.75, </span
            ><img src="assets/advanced-databases-part-iii/image7.png" /><span
                >&nbsp;= </span
            ><span>0</span><span>.</span
            ><span
                >25. (nope, I don&rsquo;t understand this formula either)</span
            >
        </p>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4 c11">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 419.35px;
                    height: 97.5px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image94.png"
                    style="
                        width: 419.35px;
                        height: 97.5px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <h2 class="c42" id="h.926w10uchy7t">
            <span class="c50 c27">Evaluation</span>
        </h2>
        <p class="c4 c11"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span class="c12"
                >Relevance is the key to determining the effectiveness of an IR
                system. Precision and recall are two common statistics used to
                determine the effectiveness of a system. F1 combines precision
                and recall by taking the harmonic mean between them.</span
            >
        </p>
        <p class="c4 c11"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span class="c1">TP</span
            ><span class="c12"
                >&nbsp;(True Positive): &quot;yes&quot; data is correctly
                predicted as &quot;yes&quot;</span
            >
        </p>
        <p class="c4">
            <span class="c1">TN</span
            ><span class="c12"
                >&nbsp;(True Negative): &quot;no&quot; data is correctly
                predicted as &quot;no&quot;</span
            >
        </p>
        <p class="c4">
            <span class="c1">FP</span
            ><span class="c12"
                >&nbsp;(False Positive): &quot;no&quot; data is incorrectly
                predicted as &quot;yes&quot;</span
            >
        </p>
        <p class="c4">
            <span class="c1">FN</span
            ><span class="c12"
                >&nbsp;(False Negative): &quot;yes&quot; data in incorrectly
                predicted as &quot;no&quot;</span
            >
        </p>
        <p class="c4 c11"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span class="c1">Accuracy </span><span>= </span
            ><img src="assets/advanced-databases-part-iii/image8.png" /><span
                class="c12"
                >&nbsp;</span
            >
        </p>
        <p class="c4">
            <span>proportion of </span><span class="c9">correct </span
            ><span class="c12">predictions</span>
        </p>
        <p class="c4 c11"><span class="c71 c68 c27 c101">&nbsp;</span></p>
        <p class="c4">
            <span class="c1">Precision </span><span>= </span
            ><img src="assets/advanced-databases-part-iii/image9.png" />
        </p>
        <p class="c4">
            <span>proportion of </span><span class="c9">correct positive </span
            ><span>predictions out of all </span
            ><span class="c9">positive </span
            ><span class="c12">predictions</span>
        </p>
        <p class="c4">
            <span class="c12"
                >i.e. how many positive predictions were correct?</span
            >
        </p>
        <p class="c4 c11"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span class="c1">Recall </span><span>= </span
            ><img src="assets/advanced-databases-part-iii/image10.png" />
        </p>
        <p class="c4">
            <span>proportion of </span><span class="c9">correct positive </span
            ><span>predictions out of all </span><span class="c9">correct </span
            ><span class="c12">predictions</span>
        </p>
        <p class="c4">
            <span class="c12"
                >i.e. how many correct predictions were made?</span
            >
        </p>
        <p class="c4 c11"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span class="c1">F1 </span><span>= </span
            ><img src="assets/advanced-databases-part-iii/image11.png" /><span
                >or </span
            ><img src="assets/advanced-databases-part-iii/image12.png" /><span
                class="c12"
                >&nbsp;</span
            >
        </p>
        <p class="c4">
            <span class="c12">harmonic mean of precision and recall</span>
        </p>
        <p class="c4 c11"><span class="c71 c68 c74 c27">&nbsp;</span></p>
        <p class="c4">
            <span class="c1"
                >ROC Curve (Receiver Operating Characteristic):</span
            ><span class="c12"
                >&nbsp;plots true positive rate (recall) against false positive
                rate</span
            >
        </p>
        <ul class="c0 lst-kix_6sygo4xmk84w-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c9">TPR</span
                ><span class="c12">&nbsp;= True Positive Rate</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_6sygo4xmk84w-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >ratio of positives which were predicted correctly</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span>TPR = </span
                ><img
                    src="assets/advanced-databases-part-iii/image10.png"
                /><span class="c50 c27">&nbsp;</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_6sygo4xmk84w-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c9">FPR</span
                ><span class="c12">&nbsp;= False Positive Rate</span>
            </li>
        </ul>
        <ul class="c0 lst-kix_6sygo4xmk84w-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >ratio of positives which were predicted incorrectly</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span>FPR = </span
                ><img src="assets/advanced-databases-part-iii/image13.png" />
            </li>
        </ul>
        <p class="c4 c11"><span class="c71 c68 c74 c27">&nbsp;</span></p>
        <p class="c4 c11">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 330.67px;
                    height: 286.67px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image96.png"
                    style="
                        width: 330.67px;
                        height: 286.67px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c4 c26 c11"><span class="c71 c68 c74 c27"></span></p>
        <h1 class="c69 c67" id="h.6epj6a7twhda">
            <span class="c70 c68 c27">Non-Relational Databases</span>
        </h1>
        <h2 class="c42" id="h.kfhhsqt174uc">
            <span class="c50 c27">Hierarchical Databases</span>
        </h2>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span>The first</span
            ><span class="c1">&nbsp;hierarchical database</span
            ><span>&nbsp;was the</span
            ><span class="c1">&nbsp;IBM Information Management System</span
            ><span
                >, developed in 1966 to support the Apollo programme.
                Hierarchical databases are built as </span
            ><span class="c9">trees</span
            ><span>&nbsp;of related record types connected by </span
            ><span class="c9">parent-child relationships</span
            ><span class="c12">.</span>
        </p>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 333.33px;
                    height: 154.67px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image62.png"
                    style="
                        width: 333.33px;
                        height: 154.67px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span>An </span><span class="c9">occurence</span
            ><span>&nbsp;of a </span
            ><span class="c1">parent-child relationship (PCR)</span
            ><span class="c12">&nbsp;consists of:</span>
        </p>
        <ul class="c0 lst-kix_m9zrtsu3my0i-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12">one parent record</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12">zero or more child records</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >a relationship between the parent and its children</span
                >
            </li>
        </ul>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span>A database may contain many hierarchical </span
            ><span class="c9">occurrence trees</span><span class="c12">:</span>
        </p>
        <ul class="c0 lst-kix_28gw0ik3wxw4-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >an occurrence tree is a tree whose root is a single record
                    from the root of the schema</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >an occurrence tree contains all children and descendants of
                    the root record all the way to leaf records</span
                >
            </li>
        </ul>
        <p class="c4 c11"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 601.7px;
                    height: 129.33px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image75.png"
                    style="
                        width: 601.7px;
                        height: 129.33px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span class="c12">Disadvantages of hierarchical databases:</span>
        </p>
        <ul class="c0 lst-kix_i21ta07lp4hb-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >multiple parents (many-to-one) relationships are not
                    supported</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >n-ary relationships (many-to-many) are not supported</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >each child record type can only be involved in one
                    parent-child relationship</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >query and update operations require the programmer to
                    explicitly navigate the hierarchy, resulting in poor data
                    independence</span
                >
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c12"></span></p>
        <h2 class="c42" id="h.jc3zcdlzd0q3">
            <span class="c50 c27">Network Databases</span>
        </h2>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span class="c1">Network databases</span
            ><span>&nbsp;were standardised by the</span
            ><span class="c1">&nbsp;Conference on Data Systems Languages</span
            ><span class="c12"
                >&nbsp;committee in 1969. A network database allows 1:N
                (one-to-many) relationships between records and files.</span
            >
        </p>
        <ul class="c0 lst-kix_8vra8ewqttg4-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >no constraints on the number and direction of links between
                    record types</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12">a root record type is not necessary</span>
            </li>
        </ul>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span>An</span><span class="c9">&nbsp;occurrence </span
            ><span>of a</span><span class="c1">&nbsp;set</span
            ><span class="c12">&nbsp;consists of:</span>
        </p>
        <ul class="c0 lst-kix_93lmzbxa30jw-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12">one owner record</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12">zero or more member records</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >a set relationship between the owner and its members</span
                >
            </li>
        </ul>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 290.67px;
                    height: 117.33px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image99.png"
                    style="
                        width: 290.67px;
                        height: 117.33px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span class="c1">Set types</span
            ><span
                >&nbsp;can only represent one-to-many relationships. To create </span
            ><span class="c1">many-to-many relationships</span><span>, a </span
            ><span class="c9">dummy record</span
            ><span class="c12"
                >&nbsp;can be used to join two record types.</span
            >
        </p>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 346.67px;
                    height: 126.67px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image101.png"
                    style="
                        width: 346.67px;
                        height: 126.67px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span class="c12">Advantages of network databases:</span>
        </p>
        <ul class="c0 lst-kix_idsk7o8oxvq-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >it is easier to model systems with network databases than
                    with hierarchical databases</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >network databases can represent one-to-many and
                    many-to-many relationships</span
                >
            </li>
        </ul>
        <p class="c4">
            <span class="c12">Disadvantages of network databases:</span>
        </p>
        <ul class="c0 lst-kix_i14dw6cmjvsj-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12"
                    >query and update operations require the programmer to
                    explicitly navigate the network, resulting in poor data
                    independence</span
                >
            </li>
        </ul>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <h2 class="c42" id="h.e9v170pxxqbl">
            <span class="c50 c27">Native XML Databases</span>
        </h2>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span>A </span><span class="c1">native XML database</span
            ><span class="c12"
                >&nbsp;allows data to be specified and stored in XML
                format.</span
            >
        </p>
        <ul class="c0 lst-kix_ifc10k82ad5t-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c9">XPath</span
                ><span class="c12"
                    >&nbsp;is used to navigate through elements and attributes
                    in an XML document</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_ifc10k82ad5t-1 start">
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >XPath is a syntax for defining parts of an XML
                    document</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >XPath uses path expressions to navigate in XML
                    documents</span
                >
            </li>
            <li class="c4 c13 li-bullet-0">
                <span class="c12"
                    >XPath contains a library of standard functions</span
                >
            </li>
        </ul>
        <ul class="c0 lst-kix_ifc10k82ad5t-0">
            <li class="c4 c8 li-bullet-0">
                <span class="c9">XML Infoset</span
                ><span class="c12"
                    >&nbsp;is a specification describing an abstract data model
                    from an XML document in terms of a set of information
                    items</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c9">XML DOM </span
                ><span class="c12"
                    >defines a standard way for accessing and manipulating XML
                    documents. It represents an XML document as a tree
                    structure</span
                >
            </li>
        </ul>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span
                style="
                    overflow: hidden;
                    display: inline-block;
                    margin: 0px 0px;
                    border: 0px solid #000000;
                    transform: rotate(0rad) translateZ(0px);
                    -webkit-transform: rotate(0rad) translateZ(0px);
                    width: 386.67px;
                    height: 198.67px;
                "
                ><img
                    alt=""
                    src="assets/advanced-databases-part-iii/image69.png"
                    style="
                        width: 386.67px;
                        height: 198.67px;
                        margin-left: 0px;
                        margin-top: 0px;
                        transform: rotate(0rad) translateZ(0px);
                        -webkit-transform: rotate(0rad) translateZ(0px);
                    "
                    title=""
            /></span>
        </p>
        <p class="c4 c31"><span class="c12">&nbsp;</span></p>
        <h2 class="c42" id="h.lnngnh4yb6gz">
            <span class="c50 c27">NoSQL Databases</span>
        </h2>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span class="c1">Object-relational impedance mismatch</span
            ><span
                >&nbsp;is a set of conceptual and technical difficulties that
                are often encountered when a </span
            ><span class="c9">relational database</span
            ><span
                >&nbsp;is being served by an application program written in an </span
            ><span class="c9">object-oriented</span
            ><span class="c12"
                >&nbsp;language, as objects and classes must be mapped to
                database tables defined by the relational schema. Impedance
                mismatch can be addressed by using a NoSQL database.</span
            >
        </p>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4">
            <span class="c1">NoSQL</span
            ><span class="c12"
                >&nbsp;is an approach to database design that provides flexible
                schemas for the storage and retrieval of data beyond the
                traditional table structures found in relational databases.
                NoSQL databases are:</span
            >
        </p>
        <ul class="c0 lst-kix_jjumvckuzv8m-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c12">non-relational</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12">schema-free</span>
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12">distributed</span>
            </li>
            <li class="c4 c8 li-bullet-0"><span class="c12">scalable</span></li>
            <li class="c4 c8 li-bullet-0">
                <span class="c12">open source</span>
            </li>
        </ul>
        <p class="c4"><span class="c12">&nbsp;</span></p>
        <p class="c4"><span class="c12">NoSQL data types:</span></p>
        <ul class="c0 lst-kix_4umibmd0twku-0 start">
            <li class="c4 c8 li-bullet-0">
                <span class="c1">Structured: </span
                ><span class="c12"
                    >code is written in a specific format, in such a way that
                    search engines can understand it</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c1">Semi-Structured: </span
                ><span class="c12"
                    >data contains markers to separate elements and enforce
                    hierarchies between records and fields</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c1">Unstructured: </span
                ><span class="c12"
                    >information either does not have a pre-defined model or is
                    not organised in a pre-defined manner</span
                >
            </li>
            <li class="c4 c8 li-bullet-0">
                <span class="c1">Polymorphic: </span
                ><span
                    >data can be transformed into any data type as
                    required</span
                >
            </li>
        </ul>
        <p class="c4 c26 c32"><span class="c71 c68 c27 c100"></span></p>
        <hr />
        <p class="c4 c26"><span class="c71 c68 c27 c100"></span></p>
        <p class="c4 c26"><span class="c71 c68 c27 c100"></span></p>
        <p class="c4 c26"><span class="c12"></span></p>
        <p class="c4 c26"><span class="c12"></span></p>
    </body>
</html>
